# This is the configuration file for the Travis-CI continuous integration
# service.
# From http://jekyllrb.com/docs/continuous-integration/travis-ci/
language: ruby
rvm:
- 2.3.3

install:
    - pip install --user pyyaml
    - bundle install --jobs=3 --retry=3

script:
    - bundle exec jekyll build --config _config.yml,_travis.yml
    - bundle exec htmlproofer ./_site
    - make unittest

# FIXME -- this currently fails with a number of complaints.
#- make less-check-all

# Not needed -- no custom DNS
# - github-pages health-check

env:
  global:
  - NOKOGIRI_USE_SYSTEM_LIBRARIES=true # speeds up installation of html-proofer

# Use travis-ci's container-based infrastructure for a faster build
sudo: false
