<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Programming with Python: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/swc/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicons/swc/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicons/swc/favicon-16x16.png">
<link rel="manifest" href="../favicons/swc/site.webmanifest">
<link rel="mask-icon" href="../favicons/swc/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav software"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="swc-logo" alt="Software Carpentry" src="../assets/images/software-logo.svg">
</div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Learner View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav software" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Software Carpentry" src="../assets/images/software-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Programming with Python
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Programming with Python
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="additional_material.html">Additional material</a></li>
<li><a class="dropdown-item" href="extra_exercises.html">Additional Exercises</a></li>
<hr>
<li><a class="dropdown-item" href="discuss.html">Discussion</a></li>
<li><a class="dropdown-item" href="reference.html">Glossary</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Programming with Python
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress software">
    <div class="progress-bar software" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Learner View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-intro.html">1. Python Fundamentals</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-numpy.html">2. Analyzing Patient Data</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-matplotlib.html">3. Visualizing Tabular Data</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-lists.html">4. Storing Multiple Values in Lists</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-loop.html">5. Repeating Actions with Loops</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-files.html">6. Analyzing Data from Multiple Files</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07-cond.html">7. Making Choices</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="08-func.html">8. Creating Functions</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="09-errors.html">9. Errors and Exceptions</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="10-defensive.html">10. Defensive Programming</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush12">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading12">
        <a href="11-debugging.html">11. Debugging</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush13">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading13">
        <a href="12-cmdline.html">12. Command-Line Programs</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <li><a href="additional_material.html">Additional material</a></li>
<li><a href="extra_exercises.html">Additional Exercises</a></li>
<hr>
<li><a class="dropdown-item" href="discuss.html">Discussion</a></li>
<li><a class="dropdown-item" href="reference.html">Glossary</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-01-intro"><p>Content from <a href="01-intro.html">Python Fundamentals</a></p>
<hr>
<p>Last updated on 2025-05-07 |

        <a href="https://github.com/swcarpentry/python-novice-inflammation/edit/main/episodes/01-intro.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 30 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What basic data types can I work with in Python?</li>
<li>How can I create a new variable in Python?</li>
<li>How do I use a function?</li>
<li>Can I change the value associated with a variable after I create
it?</li>
<li>How can I get help while learning to program?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Assign values to variables.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="variables">Variables<a class="anchor" aria-label="anchor" href="#variables"></a>
</h2>
<hr class="half-width">
<p>Any Python interpreter can be used as a calculator:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="dv">3</span> <span class="op">+</span> <span class="dv">5</span> <span class="op">*</span> <span class="dv">4</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">23</span></span></code></pre>
</div>
<p>This is great but not very interesting. To do anything useful with
data, we need to assign its value to a <em>variable</em>. In Python, we
can <a href="reference.html#assign">assign</a> a value to a <a href="reference.html#variable">variable</a>, using the equals sign
<code>=</code>. For example, we can track the weight of a patient who
weighs 60 kilograms by assigning the value <code>60</code> to a variable
<code>weight_kg</code>:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>weight_kg <span class="op">=</span> <span class="dv">60</span></span></code></pre>
</div>
<p>From now on, whenever we use <code>weight_kg</code>, Python will
substitute the value we assigned to it. In layperson’s terms, <strong>a
variable is a name for a value</strong>.</p>
<p>In Python, variable names:</p>
<ul>
<li>can include letters, digits, and underscores</li>
<li>cannot start with a digit</li>
<li>are <a href="reference.html#case-sensitive">case sensitive</a>.</li>
</ul>
<p>This means that, for example:</p>
<ul>
<li>
<code>weight0</code> is a valid variable name, whereas
<code>0weight</code> is not</li>
<li>
<code>weight</code> and <code>Weight</code> are different
variables</li>
</ul></section><section><h2 class="section-heading" id="types-of-data">Types of data<a class="anchor" aria-label="anchor" href="#types-of-data"></a>
</h2>
<hr class="half-width">
<p>Python knows various types of data. Three common ones are:</p>
<ul>
<li>integer numbers</li>
<li>floating point numbers, and</li>
<li>strings.</li>
</ul>
<p>In the example above, variable <code>weight_kg</code> has an integer
value of <code>60</code>. If we want to more precisely track the weight
of our patient, we can use a floating point value by executing:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>weight_kg <span class="op">=</span> <span class="fl">60.3</span></span></code></pre>
</div>
<p>To create a string, we add single or double quotes around some text.
To identify and track a patient throughout our study, we can assign each
person a unique identifier by storing it in a string:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>patient_id <span class="op">=</span> <span class="st">'001'</span></span></code></pre>
</div>
</section><section><h2 class="section-heading" id="using-variables-in-python">Using Variables in Python<a class="anchor" aria-label="anchor" href="#using-variables-in-python"></a>
</h2>
<hr class="half-width">
<p>Once we have data stored with variable names, we can make use of it
in calculations. We may want to store our patient’s weight in pounds as
well as kilograms:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>weight_lb <span class="op">=</span> <span class="fl">2.2</span> <span class="op">*</span> weight_kg</span></code></pre>
</div>
<p>We might decide to add a prefix to our patient identifier:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>patient_id <span class="op">=</span> <span class="st">'inflam_'</span> <span class="op">+</span> patient_id</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="built-in-python-functions">Built-in Python functions<a class="anchor" aria-label="anchor" href="#built-in-python-functions"></a>
</h2>
<hr class="half-width">
<p>To carry out common tasks with data and variables in Python, the
language provides us with several built-in <a href="reference.html#function">functions</a>. To display information to
the screen, we use the <code>print</code> function:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="bu">print</span>(weight_lb)</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="bu">print</span>(patient_id)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">132.66</span></span>
<span><span class="va">inflam_001</span></span></code></pre>
</div>
<p>When we want to make use of a function, referred to as calling the
function, we follow its name by parentheses. The parentheses are
important: if you leave them off, the function doesn’t actually run!
Sometimes you will include values or variables inside the parentheses
for the function to use. In the case of <code>print</code>, we use the
parentheses to tell the function what value we want to display. We will
learn more about how functions work and how to create our own in later
episodes.</p>
<p>We can display multiple things at once using only one
<code>print</code> call:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="bu">print</span>(patient_id, <span class="st">'weight in kilograms:'</span>, weight_kg)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>inflam_001 weight in kilograms: 60.3</code></pre>
</div>
<p>We can also call a function inside of another <a href="reference.html#function-call">function call</a>. For example,
Python has a built-in function called <code>type</code> that tells you a
value’s data type:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(<span class="fl">60.3</span>))</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(patient_id))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'float'&gt;
&lt;class 'str'&gt;</code></pre>
</div>
<p>Moreover, we can do arithmetic with variables right inside the
<code>print</code> function:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'weight in pounds:'</span>, <span class="fl">2.2</span> <span class="op">*</span> weight_kg)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>weight in pounds: 132.66</code></pre>
</div>
<p>The above command, however, did not change the value of
<code>weight_kg</code>:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="bu">print</span>(weight_kg)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">60.3</span></span></code></pre>
</div>
<p>To change the value of the <code>weight_kg</code> variable, we have
to <strong>assign</strong> <code>weight_kg</code> a new value using the
equals <code>=</code> sign:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>weight_kg <span class="op">=</span> <span class="fl">65.0</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'weight in kilograms is now:'</span>, weight_kg)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>weight in kilograms is now: 65.0</code></pre>
</div>
</section><section><h2 class="section-heading" id="getting-help">Getting Help<a class="anchor" aria-label="anchor" href="#getting-help"></a>
</h2>
<hr class="half-width">
<p>Use the built-in function <code>help</code> to get help for a
function. Every built-in function has extensive <a href="https://docs.python.org/3/library/index.html" class="external-link">documentation that
can also be found online</a>.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="bu">help</span>(<span class="bu">print</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Help on built-in function print in module builtins:

print(*args, sep=' ', end='\n', file=None, flush=False)
    Prints the values to a stream, or to sys.stdout by default.

    sep
      string inserted between values, default a space.
    end
      string appended after the last value, default a newline.
    file
      a file-like object (stream); defaults to the current sys.stdout.
    flush
      whether to forcibly flush the stream.</code></pre>
</div>
<p>This help message (the function’s “docstring”) includes a usage
statement, a list of parameters accepted by the function, and their
default values if they have them.</p>
<p>It is normal to encounter error messages while programming, whether
you are learning for the first time or have been programming for many
years. <a href="./09-errors.html">We will discuss error messages in more
detail later</a>. For now, let’s explore how people use them to get more
help when they are stuck with their Python code.</p>
<ul>
<li>Search the internet: paste the last line of your error message or
the word “python” and a short description of what you want to do into
your favourite search engine and you will usually find several examples
where other people have encountered the same problem and came looking
for help.
<ul>
<li>
<a href="https://stackoverflow.com/questions" class="external-link">StackOverflow</a> can
be particularly helpful for this: answers to questions are presented as
a ranked thread ordered according to how useful other users found them
to be.</li>
<li>
<strong>Take care:</strong> copying and pasting code written by
somebody else is risky unless you understand exactly what it is
doing!</li>
</ul>
</li>
<li>Ask somebody “in the real world”. If you have a colleague or friend
with more expertise in Python than you have, show them the problem you
are having and ask them for help.</li>
</ul>
<p><a href="./11-debugging.html">We will discuss more debugging
strategies in greater depth later in the lesson</a>.</p>
<div class="section level3">
<h3 id="generative-ai">Generative AI<a class="anchor" aria-label="anchor" href="#generative-ai"></a>
</h3>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Choose how to teach this section </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" aria-labelledby="headingInstructor1" data-bs-parent="#accordionInstructor1">
<div class="accordion-body">
<p>The section on generative AI is intended to be concise but
Instructors may choose to devote more time to the topic in a workshop.
Depending on your own level of experience and comfort with talking about
and using these tools, you could choose to do any of the following:</p>
<ul>
<li>Explain how large language models work and are trained, and/or the
difference between generative AI, other forms of AI that currently
exist, and the limits of what LLMs can do (e.g., they can’t
“reason”).</li>
<li>Demonstrate how you recommend that learners use generative AI.</li>
<li>Discuss the ethical concerns listed below, as well as others that
you are aware of, to help learners make an informed choice about whether
or not to use generative AI tools.</li>
</ul>
<p>This is a fast-moving technology. If you are preparing to teach this
section and you feel it has become outdated, please open an issue on the
lesson repository to let the Maintainers know and/or a pull request to
suggest updates and improvements.</p>
</div>
</div>
</div>
</div>
<p>It is increasingly common for people to use <em>generative AI</em>
chatbots such as ChatGPT to get help while coding. You will probably
receive some useful guidance by presenting your error message to the
chatbot and asking it what went wrong. However, the way this help is
provided by the chatbot is different. Answers on StackOverflow have
(probably) been given by a human as a direct response to the question
asked. But generative AI chatbots, which are based on an advanced
statistical model, respond by generating the <em>most likely</em>
sequence of text that would follow the prompt they are given.</p>
<p>While responses from generative AI tools can often be helpful, they
are not always reliable. These tools sometimes generate plausible but
incorrect or misleading information, so (just as with an answer found on
the internet) it is essential to verify their accuracy. You need the
knowledge and skills to be able to understand these responses, to judge
whether or not they are accurate, and to fix any errors in the code it
offers you.</p>
<p>In addition to asking for help, programmers can use generative AI
tools to generate code from scratch; extend, improve and reorganise
existing code; translate code between programming languages; figure out
what terms to use in a search of the internet; and more. However, there
are drawbacks that you should be aware of.</p>
<p>The models used by these tools have been “trained” on very large
volumes of data, much of it taken from the internet, and the responses
they produce reflect that training data, and may recapitulate its
inaccuracies or biases. The environmental costs (energy and water use)
of LLMs are a lot higher than other technologies, both during
development (known as training) and when an individual user uses one
(also called inference). For more information see the <a href="https://huggingface.co/blog/sasha/ai-environment-primer" class="external-link">AI
Environmental Impact Primer</a> developed by researchers at HuggingFace,
an AI hosting platform. Concerns also exist about the way the data for
this training was obtained, with questions raised about whether the
people developing the LLMs had permission to use it. Other ethical
concerns have also been raised, such as reports that workers were
exploited during the training process.</p>
<p><strong>We recommend that you avoid getting help from generative AI
during the workshop</strong> for several reasons:</p>
<ol style="list-style-type: decimal">
<li>For most problems you will encounter at this stage, help and answers
can be found among the first results returned by searching the
internet.</li>
<li>The foundational knowledge and skills you will learn in this lesson
by writing and fixing your own programs are essential to be able to
evaluate the correctness and safety of any code you receive from online
help or a generative AI chatbot. If you choose to use these tools in the
future, the expertise you gain from learning and practising these
fundamentals on your own will help you use them more effectively.</li>
<li>As you start out with programming, the mistakes you make will be the
kinds that have also been made – and overcome! – by everybody else who
learned to program before you. Since these mistakes and the questions
you are likely to have at this stage are common, they are also better
represented than other, more specialised problems and tasks in the data
that was used to train generative AI tools. This means that a generative
AI chatbot is <em>more likely to produce accurate responses</em> to
questions that novices ask, which could give you a false impression of
how reliable they will be when you are ready to do things that are more
advanced.</li>
</ol>
<div id="variables-as-sticky-notes" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="variables-as-sticky-notes" class="callout-inner">
<h3 class="callout-title">Variables as Sticky Notes</h3>
<div class="callout-content">
<p>A variable in Python is analogous to a sticky note with a name
written on it: assigning a value to a variable is like putting that
sticky note on a particular value.</p>
<figure><img src="../fig/python-sticky-note-variables-01.svg" alt="Value of 65.0 with weight_kg label stuck on it" class="figure mx-auto d-block"></figure><p>Using this analogy, we can investigate how assigning a value to one
variable does <strong>not</strong> change values of other, seemingly
related, variables. For example, let’s store the subject’s weight in
pounds in its own variable:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="co"># There are 2.2 pounds per kilogram</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>weight_lb <span class="op">=</span> <span class="fl">2.2</span> <span class="op">*</span> weight_kg</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'weight in kilograms:'</span>, weight_kg, <span class="st">'and in pounds:'</span>, weight_lb)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>weight in kilograms: 65.0 and in pounds: 143.0</code></pre>
</div>
<p>Everything in a line of code following the ‘#’ symbol is a <a href="reference.html#comment">comment</a> that is ignored by Python.
Comments allow programmers to leave explanatory notes for other
programmers or their future selves.</p>
<figure><img src="../fig/python-sticky-note-variables-02.svg" alt="Value of 65.0 with weight_kg label stuck on it, and value of 143.0 with weight_lb label stuck on it" class="figure mx-auto d-block"></figure><p>Similar to above, the expression <code>2.2 * weight_kg</code> is
evaluated to <code>143.0</code>, and then this value is assigned to the
variable <code>weight_lb</code> (i.e. the sticky note
<code>weight_lb</code> is placed on <code>143.0</code>). At this point,
each variable is “stuck” to completely distinct and unrelated
values.</p>
<p>Let’s now change <code>weight_kg</code>:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>weight_kg <span class="op">=</span> <span class="fl">100.0</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'weight in kilograms is now:'</span>, weight_kg, <span class="st">'and weight in pounds is still:'</span>, weight_lb)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>weight in kilograms is now: 100.0 and weight in pounds is still: 143.0</code></pre>
</div>
<figure><img src="../fig/python-sticky-note-variables-03.svg" alt="Value of 100.0 with label weight_kg stuck on it, and value of 143.0 with label weight_lbstuck on it" class="figure mx-auto d-block"></figure><p>Since <code>weight_lb</code> doesn’t “remember” where its value comes
from, it is not updated when we change <code>weight_kg</code>.</p>
</div>
</div>
</div>
<div id="check-your-understanding" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="check-your-understanding" class="callout-inner">
<h3 class="callout-title">Check Your Understanding</h3>
<div class="callout-content">
<p>What values do the variables <code>mass</code> and <code>age</code>
have after each of the following statements? Test your answer by
executing the lines.</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>mass <span class="op">=</span> <span class="fl">47.5</span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>age <span class="op">=</span> <span class="dv">122</span></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>mass <span class="op">=</span> mass <span class="op">*</span> <span class="fl">2.0</span></span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>age <span class="op">=</span> age <span class="op">-</span> <span class="dv">20</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>`mass` holds a value of 47.5, `age` does not exist
`mass` still holds a value of 47.5, `age` holds a value of 122
`mass` now has a value of 95.0, `age`'s value is still 122
`mass` still has a value of 95.0, `age` now holds 102</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="sorting-out-references" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="sorting-out-references" class="callout-inner">
<h3 class="callout-title">Sorting Out References</h3>
<div class="callout-content">
<p>Python allows you to assign multiple values to multiple variables in
one line by separating the variables and values with commas. What does
the following program print out?</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>first, second <span class="op">=</span> <span class="st">'Grace'</span>, <span class="st">'Hopper'</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>third, fourth <span class="op">=</span> second, first</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="bu">print</span>(third, fourth)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Hopper Grace</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="seeing-data-types" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="seeing-data-types" class="callout-inner">
<h3 class="callout-title">Seeing Data Types</h3>
<div class="callout-content">
<p>What are the data types of the following variables?</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>planet <span class="op">=</span> <span class="st">'Earth'</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a>apples <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a>distance <span class="op">=</span> <span class="fl">10.5</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(planet))</span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(apples))</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(distance))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'str'&gt;
&lt;class 'int'&gt;
&lt;class 'float'&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Basic data types in Python include integers, strings, and
floating-point numbers.</li>
<li>Use <code>variable = value</code> to assign a value to a variable in
order to record it in memory.</li>
<li>Variables are created on demand whenever a value is assigned to
them.</li>
<li>Use <code>print(something)</code> to display the value of
<code>something</code>.</li>
<li>Use <code># some kind of explanation</code> to add comments to
programs.</li>
<li>Built-in functions are always available to use.</li>
<li>Use <code>help(thing)</code> to view help for something.</li>
<li>Error messages provide information about what has gone wrong with
your program and where.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-02-numpy"><p>Content from <a href="02-numpy.html">Analyzing Patient Data</a></p>
<hr>
<p>Last updated on 2025-07-12 |

        <a href="https://github.com/swcarpentry/python-novice-inflammation/edit/main/episodes/02-numpy.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 60 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I process tabular data files in Python?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain what a library is and what libraries are used for.</li>
<li>Import a Python library and use the functions it contains.</li>
<li>Read tabular data from a file into a program.</li>
<li>Select individual values and subsections from data.</li>
<li>Perform operations on arrays of data.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Words are useful, but what’s more useful are the sentences and
stories we build with them. Similarly, while a lot of powerful, general
tools are built into Python, specialized tools built up from these basic
units live in <a href="reference.html#library">libraries</a> that can be
called upon when needed.</p>
<section><h2 class="section-heading" id="loading-data-into-python">Loading data into Python<a class="anchor" aria-label="anchor" href="#loading-data-into-python"></a>
</h2>
<hr class="half-width">
<p>To begin processing the clinical trial inflammation data, we need to
load it into Python. We can do that using a library called <a href="https://numpy.org/doc/stable" title="NumPy Documentation" class="external-link">NumPy</a>, which stands for Numerical
Python. In general, you should use this library when you want to do
fancy things with lots of numbers, especially if you have matrices or
arrays. To tell Python that we’d like to start using NumPy, we need to
<a href="reference.html#import">import</a> it:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> numpy</span></code></pre>
</div>
<p>Importing a library is like getting a piece of lab equipment out of a
storage locker and setting it up on the bench. Libraries provide
additional functionality to the basic Python package, much like a new
piece of equipment adds functionality to a lab space. Just like in the
lab, importing too many libraries can sometimes complicate and slow down
your programs - so we only import what we need for each program.</p>
<p>Once we’ve imported the library, we can ask the library to read our
data file for us:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>numpy.loadtxt(fname<span class="op">=</span><span class="st">'inflammation-01.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array([[ 0.,  0.,  1., ...,  3.,  0.,  0.],
       [ 0.,  1.,  2., ...,  1.,  0.,  1.],
       [ 0.,  1.,  1., ...,  2.,  1.,  1.],
       ...,
       [ 0.,  1.,  1., ...,  1.,  1.,  1.],
       [ 0.,  0.,  0., ...,  0.,  2.,  0.],
       [ 0.,  0.,  1., ...,  1.,  1.,  0.]])</code></pre>
</div>
<p>The expression <code>numpy.loadtxt(...)</code> is a <a href="reference.html#function-call">function call</a> that asks Python
to run the <a href="reference.html#function">function</a>
<code>loadtxt</code> which belongs to the <code>numpy</code> library.
The dot notation in Python is used most of all as an object
attribute/property specifier or for invoking its method.
<code>object.property</code> will give you the object.property value,
<code>object_name.method()</code> will invoke on object_name method.</p>
<p>As an example, John Smith is the John that belongs to the Smith
family. We could use the dot notation to write his name
<code>smith.john</code>, just as <code>loadtxt</code> is a function that
belongs to the <code>numpy</code> library.</p>
<p><code>numpy.loadtxt</code> has two <a href="reference.html#parameter">parameters</a>: the name of the file we
want to read and the <a href="reference.html#delimiter">delimiter</a>
that separates values on a line. These both need to be character strings
(or <a href="reference.html#string">strings</a> for short), so we put
them in quotes.</p>
<p>Since we haven’t told it to do anything else with the function’s
output, the <a href="reference.html#notebook">notebook</a> displays it.
In this case, that output is the data we just loaded. By default, only a
few rows and columns are shown (with <code>...</code> to omit elements
when displaying big arrays). Note that, to save space when displaying
NumPy arrays, Python does not show us trailing zeros, so
<code>1.0</code> becomes <code>1.</code>.</p>
<p>Our call to <code>numpy.loadtxt</code> read our file but didn’t save
the data in memory. To do that, we need to assign the array to a
variable. In a similar manner to how we assign a single value to a
variable, we can also assign an array of values to a variable using the
same syntax. Let’s re-run <code>numpy.loadtxt</code> and save the
returned data:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span><span class="st">'inflammation-01.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span></code></pre>
</div>
<p>This statement doesn’t produce any output because we’ve assigned the
output to the variable <code>data</code>. If we want to check that the
data have been loaded, we can print the variable’s value:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="bu">print</span>(data)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[ 0.  0.  1. ...,  3.  0.  0.]
 [ 0.  1.  2. ...,  1.  0.  1.]
 [ 0.  1.  1. ...,  2.  1.  1.]
 ...,
 [ 0.  1.  1. ...,  1.  1.  1.]
 [ 0.  0.  0. ...,  0.  2.  0.]
 [ 0.  0.  1. ...,  1.  1.  0.]]</code></pre>
</div>
<p>Now that the data are in memory, we can manipulate them. First, let’s
ask what <a href="reference.html#type">type</a> of thing
<code>data</code> refers to:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(data))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'numpy.ndarray'&gt;</code></pre>
</div>
<p>The output tells us that <code>data</code> currently refers to an
N-dimensional array, the functionality for which is provided by the
NumPy library. These data correspond to arthritis patients’
inflammation. The rows are the individual patients, and the columns are
their daily inflammation measurements.</p>
<div id="data-type" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="data-type" class="callout-inner">
<h3 class="callout-title">Data Type</h3>
<div class="callout-content">
<p>A Numpy array contains one or more elements of the same type. The
<code>type</code> function will only tell you that a variable is a NumPy
array but won’t tell you the type of thing inside the array. We can find
out the type of the data contained in the NumPy array.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="bu">print</span>(data.dtype)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">float64</span></span></code></pre>
</div>
<p>This tells us that the NumPy array’s elements are <a href="reference.html#floating-point-number">floating-point
numbers</a>.</p>
</div>
</div>
</div>
<p>With the following command, we can see the array’s <a href="reference.html#shape">shape</a>:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="bu">print</span>(data.shape)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>(60, 40)</code></pre>
</div>
<p>The output tells us that the <code>data</code> array variable
contains 60 rows and 40 columns. When we created the variable
<code>data</code> to store our arthritis data, we did not only create
the array; we also created information about the array, called <a href="reference.html#member">members</a> or attributes. This extra
information describes <code>data</code> in the same way an adjective
describes a noun. <code>data.shape</code> is an attribute of
<code>data</code> which describes the dimensions of <code>data</code>.
We use the same dotted notation for the attributes of variables that we
use for the functions in libraries because they have the same
part-and-whole relationship.</p>
<p>If we want to get a single number from the array, we must provide an
<a href="reference.html#index">index</a> in square brackets after the
variable name, just as we do in math when referring to an element of a
matrix. Our inflammation data has two dimensions, so we will need to use
two indices to refer to one specific value:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'first value in data:'</span>, data[<span class="dv">0</span>, <span class="dv">0</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>first value in data: 0.0</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'middle value in data:'</span>, data[<span class="dv">29</span>, <span class="dv">19</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>middle value in data: 16.0</code></pre>
</div>
<p>The expression <code>data[29, 19]</code> accesses the element at row
30, column 20. While this expression may not surprise you,
<code>data[0, 0]</code> might. Programming languages like Fortran,
MATLAB and R start counting at 1 because that’s what human beings have
done for thousands of years. Languages in the C family (including C++,
Java, Perl, and Python) count from 0 because it represents an offset
from the first value in the array (the second value is offset by one
index from the first value). This is closer to the way that computers
represent arrays (if you are interested in the historical reasons behind
counting indices from zero, you can read <a href="https://exple.tive.org/blarg/2013/10/22/citation-needed/" class="external-link">Mike
Hoye’s blog post</a>). As a result, if we have an M×N array in Python,
its indices go from 0 to M-1 on the first axis and 0 to N-1 on the
second. It takes a bit of getting used to, but one way to remember the
rule is that the index is how many steps we have to take from the start
to get the item we want.</p>
<figure><img src="../fig/python-zero-index.svg" alt="'data' is a 3 by 3 numpy array containing row 0: ['A', 'B', 'C'], row 1: ['D', 'E', 'F'], androw 2: ['G', 'H', 'I']. Starting in the upper left hand corner, data[0, 0] = 'A', data[0, 1] = 'B',data[0, 2] = 'C', data[1, 0] = 'D', data[1, 1] = 'E', data[1, 2] = 'F', data[2, 0] = 'G',data[2, 1] = 'H', and data[2, 2] = 'I', in the bottom right hand corner." class="figure mx-auto d-block"></figure><div id="in-the-corner" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="in-the-corner" class="callout-inner">
<h3 class="callout-title">In the Corner</h3>
<div class="callout-content">
<p>What may also surprise you is that when Python displays an array, it
shows the element with index <code>[0, 0]</code> in the upper left
corner rather than the lower left. This is consistent with the way
mathematicians draw matrices but different from the Cartesian
coordinates. The indices are (row, column) instead of (column, row) for
the same reason, which can be confusing when plotting data.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="slicing-data">Slicing data<a class="anchor" aria-label="anchor" href="#slicing-data"></a>
</h2>
<hr class="half-width">
<p>An index like <code>[30, 20]</code> selects a single element of an
array, but we can select whole sections as well. For example, we can
select the first ten days (columns) of values for the first four
patients (rows) like this:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="bu">print</span>(data[<span class="dv">0</span>:<span class="dv">4</span>, <span class="dv">0</span>:<span class="dv">10</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[ 0.  0.  1.  3.  1.  2.  4.  7.  8.  3.]
 [ 0.  1.  2.  1.  2.  1.  3.  2.  2.  6.]
 [ 0.  1.  1.  3.  3.  2.  6.  2.  5.  9.]
 [ 0.  0.  2.  0.  4.  2.  2.  1.  6.  7.]]</code></pre>
</div>
<p>The <a href="reference.html#slice">slice</a> <code>0:4</code> means,
“Start at index 0 and go up to, but not including, index 4”. Again, the
up-to-but-not-including takes a bit of getting used to, but the rule is
that the difference between the upper and lower bounds is the number of
values in the slice.</p>
<p>We don’t have to start slices at 0:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="bu">print</span>(data[<span class="dv">5</span>:<span class="dv">10</span>, <span class="dv">0</span>:<span class="dv">10</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[ 0.  0.  1.  2.  2.  4.  2.  1.  6.  4.]
 [ 0.  0.  2.  2.  4.  2.  2.  5.  5.  8.]
 [ 0.  0.  1.  2.  3.  1.  2.  3.  5.  3.]
 [ 0.  0.  0.  3.  1.  5.  6.  5.  5.  8.]
 [ 0.  1.  1.  2.  1.  3.  5.  3.  5.  8.]]</code></pre>
</div>
<p>We also don’t have to include the upper and lower bound on the slice.
If we don’t include the lower bound, Python uses 0 by default; if we
don’t include the upper, the slice runs to the end of the axis, and if
we don’t include either (i.e., if we use ‘:’ on its own), the slice
includes everything:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>small <span class="op">=</span> data[:<span class="dv">3</span>, <span class="dv">36</span>:]</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'small is:'</span>)</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="bu">print</span>(small)</span></code></pre>
</div>
<p>The above example selects rows 0 through 2 and columns 36 through to
the end of the array.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>small is:
[[ 2.  3.  0.  0.]
 [ 1.  1.  0.  1.]
 [ 2.  2.  1.  1.]]</code></pre>
</div>
</section><section><h2 class="section-heading" id="analyzing-data">Analyzing data<a class="anchor" aria-label="anchor" href="#analyzing-data"></a>
</h2>
<hr class="half-width">
<p>NumPy has several useful functions that take an array as input to
perform operations on its values. If we want to find the average
inflammation for all patients on all days, for example, we can ask NumPy
to compute <code>data</code>’s mean value:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="bu">print</span>(numpy.mean(data))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">6.14875</span></span></code></pre>
</div>
<p><code>mean</code> is a <a href="reference.html#function">function</a>
that takes an array as an <a href="reference.html#argument">argument</a>.</p>
<div id="not-all-functions-have-input" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="not-all-functions-have-input" class="callout-inner">
<h3 class="callout-title">Not All Functions Have Input</h3>
<div class="callout-content">
<p>Generally, a function uses inputs to produce outputs. However, some
functions produce outputs without needing any input. For example,
checking the current time doesn’t require any input.</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="bu">print</span>(time.ctime())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Sat Mar 26 13:07:33 2016</code></pre>
</div>
<p>For functions that don’t take in any arguments, we still need
parentheses (<code>()</code>) to tell Python to go and do something for
us.</p>
</div>
</div>
</div>
<p>Let’s use three other NumPy functions to get some descriptive values
about the dataset. We’ll also use multiple assignment, a convenient
Python feature that will enable us to do this all in one line.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a>maxval, minval, stdval <span class="op">=</span> numpy.amax(data), numpy.amin(data), numpy.std(data)</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'maximum inflammation:'</span>, maxval)</span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'minimum inflammation:'</span>, minval)</span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'standard deviation:'</span>, stdval)</span></code></pre>
</div>
<p>Here we’ve assigned the return value from
<code>numpy.amax(data)</code> to the variable <code>maxval</code>, the
value from <code>numpy.amin(data)</code> to <code>minval</code>, and so
on.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>maximum inflammation: 20.0
minimum inflammation: 0.0
standard deviation: 4.61383319712</code></pre>
</div>
<div id="mystery-functions-in-ipython" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="mystery-functions-in-ipython" class="callout-inner">
<h3 class="callout-title">Mystery Functions in IPython</h3>
<div class="callout-content">
<p>How did we know what functions NumPy has and how to use them? If you
are working in IPython or in a Jupyter Notebook, there is an easy way to
find out. If you type the name of something followed by a dot, then you
can use <a href="reference.html#tab-completion">tab completion</a>
(e.g. type <code>numpy.</code> and then press <kbd>Tab</kbd>) to see a
list of all functions and attributes that you can use. After selecting
one, you can also add a question mark
(e.g. <code>numpy.cumprod?</code>), and IPython will return an
explanation of the method! This is the same as doing
<code>help(numpy.cumprod)</code>. Similarly, if you are using the “plain
vanilla” Python interpreter, you can type <code>numpy.</code> and press
the <kbd>Tab</kbd> key twice for a listing of what is available. You can
then use the <code>help()</code> function to see an explanation of the
function you’re interested in, for example:
<code>help(numpy.cumprod)</code>.</p>
</div>
</div>
</div>
<div id="confusing-function-names" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="confusing-function-names" class="callout-inner">
<h3 class="callout-title">Confusing Function Names</h3>
<div class="callout-content">
<p>One might wonder why the functions are called <code>amax</code> and
<code>amin</code> and not <code>max</code> and <code>min</code> or why
the other is called <code>mean</code> and not <code>amean</code>. The
package <code>numpy</code> does provide functions <code>max</code> and
<code>min</code> that are fully equivalent to <code>amax</code> and
<code>amin</code>, but they share a name with standard library functions
<code>max</code> and <code>min</code> that come with Python itself.
Referring to the functions like we did above, that is
<code>numpy.max</code> for example, does not cause problems, but there
are other ways to refer to them that could. In addition, text editors
might highlight (color) these functions like standard library function,
even though they belong to NumPy, which can be confusing and lead to
errors. Since there is no function called <code>mean</code> in the
standard library, there is no function called <code>amean</code>.</p>
</div>
</div>
</div>
<p>When analyzing data, though, we often want to look at variations in
statistical values, such as the maximum inflammation per patient or the
average inflammation per day. One way to do this is to create a new
temporary array of the data we want, then ask it to do the
calculation:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a>patient_0 <span class="op">=</span> data[<span class="dv">0</span>, :] <span class="co"># 0 on the first axis (rows), everything on the second (columns)</span></span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'maximum inflammation for patient 0:'</span>, numpy.amax(patient_0))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>maximum inflammation for patient 0: 18.0</code></pre>
</div>
<p>We don’t actually need to store the row in a variable of its own.
Instead, we can combine the selection and the function call:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'maximum inflammation for patient 2:'</span>, numpy.amax(data[<span class="dv">2</span>, :]))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>maximum inflammation for patient 2: 19.0</code></pre>
</div>
<p>What if we need the maximum inflammation for each patient over all
days (as in the next diagram on the left) or the average for each day
(as in the diagram on the right)? As the diagram below shows, we want to
perform the operation across an axis:</p>
<figure><img src="../fig/python-operations-across-axes.png" alt="Per-patient maximum inflammation is computed row-wise across all columns usingnumpy.amax(data, axis=1). Per-day average inflammation is computed column-wise across all rows usingnumpy.mean(data, axis=0)." class="figure mx-auto d-block"></figure><p>To find the <strong>maximum inflammation reported for each
patient</strong>, you would apply the <code>max</code> function moving
across the columns (axis 1). To find the <strong>daily average
inflammation reported across patients</strong>, you would apply the
<code>mean</code> function moving down the rows (axis 0).</p>
<p>To support this functionality, most array functions allow us to
specify the axis we want to work on. If we ask for the max across axis 1
(columns in our 2D example), we get:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="bu">print</span>(numpy.<span class="bu">max</span>(data, axis<span class="op">=</span><span class="dv">1</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[18. 18. 19. 17. 17. 18. 17. 20. 17. 18. 18. 18. 17. 16. 17. 18. 19. 19.
 17. 19. 19. 16. 17. 15. 17. 17. 18. 17. 20. 17. 16. 19. 15. 15. 19. 17.
 16. 17. 19. 16. 18. 19. 16. 19. 18. 16. 19. 15. 16. 18. 14. 20. 17. 15.
 17. 16. 17. 19. 18. 18.]</code></pre>
</div>
<p>As a quick check, we can ask this array what its shape is. We expect
60 patient maximums:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="bu">print</span>(numpy.<span class="bu">max</span>(data, axis<span class="op">=</span><span class="dv">1</span>).shape)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>(60,)</code></pre>
</div>
<p>The expression <code>(60,)</code> tells us we have an N×1 vector, so
this is the maximum inflammation per day for each patients.</p>
<p>If we ask for the average across/down axis 0 (rows in our 2D
example), we get:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="bu">print</span>(numpy.mean(data, axis<span class="op">=</span><span class="dv">0</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ 0.          0.45        1.11666667  1.75        2.43333333  3.15
  3.8         3.88333333  5.23333333  5.51666667  5.95        5.9
  8.35        7.73333333  8.36666667  9.5         9.58333333 10.63333333
 11.56666667 12.35       13.25       11.96666667 11.03333333 10.16666667
 10.          8.66666667  9.15        7.25        7.33333333  6.58333333
  6.06666667  5.95        5.11666667  3.6         3.3         3.56666667
  2.48333333  1.5         1.13333333  0.56666667]</code></pre>
</div>
<p>Check the array shape. We expect 40 averages, one for each day of the
study:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="bu">print</span>(numpy.mean(data, axis<span class="op">=</span><span class="dv">0</span>).shape)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>(40,)</code></pre>
</div>
<p>Similarly, we can apply the <code>mean</code> function to axis 1 to
get the patient’s average inflammation over the duration of the study
(60 values).</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="bu">print</span>(numpy.mean(data, axis<span class="op">=</span><span class="dv">1</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[5.45  5.425 6.1   5.9   5.55  6.225 5.975 6.65  6.625 6.525 6.775 5.8
 6.225 5.75  5.225 6.3   6.55  5.7   5.85  6.55  5.775 5.825 6.175 6.1
 5.8   6.425 6.05  6.025 6.175 6.55  6.175 6.35  6.725 6.125 7.075 5.725
 5.925 6.15  6.075 5.75  5.975 5.725 6.3   5.9   6.75  5.925 7.225 6.15
 5.95  6.275 5.7   6.1   6.825 5.975 6.725 5.7   6.25  6.4   7.05  5.9  ]</code></pre>
</div>
<div id="slicing-strings" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="slicing-strings" class="callout-inner">
<h3 class="callout-title">Slicing Strings</h3>
<div class="callout-content">
<p>A section of an array is called a <a href="reference.html#slice">slice</a>. We can take slices of character
strings as well:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a>element <span class="op">=</span> <span class="st">'oxygen'</span></span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'first three characters:'</span>, element[<span class="dv">0</span>:<span class="dv">3</span>])</span>
<span id="cb43-3"><a href="#cb43-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'last three characters:'</span>, element[<span class="dv">3</span>:<span class="dv">6</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>first three characters: oxy
last three characters: gen</code></pre>
</div>
<p>What is the value of <code>element[:4]</code>? What about
<code>element[4:]</code>? Or <code>element[:]</code>?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">oxyg</span></span>
<span><span class="va">en</span></span>
<span><span class="va">oxygen</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="slicing-strings" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="slicing-strings" class="callout-inner">
<h3 class="callout-title">Slicing Strings<em> (continued)</em>
</h3>
<div class="callout-content">
<p>What is <code>element[-1]</code>? What is
<code>element[-2]</code>?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">n</span></span>
<span><span class="va">e</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="slicing-strings" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="slicing-strings" class="callout-inner">
<h3 class="callout-title">Slicing Strings<em> (continued)</em>
</h3>
<div class="callout-content">
<p>Given those answers, explain what <code>element[1:-1]</code>
does.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>Creates a substring from index 1 up to (not including) the final
index, effectively removing the first and last letters from ‘oxygen’</p>
</div>
</div>
</div>
</div>
<div id="slicing-strings" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="slicing-strings" class="callout-inner">
<h3 class="callout-title">Slicing Strings<em> (continued)</em>
</h3>
<div class="callout-content">
<p>How can we rewrite the slice for getting the last three characters of
<code>element</code>, so that it works even if we assign a different
string to <code>element</code>? Test your solution with the following
strings: <code>carpentry</code>, <code>clone</code>,
<code>hi</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a>element <span class="op">=</span> <span class="st">'oxygen'</span></span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'last three characters:'</span>, element[<span class="op">-</span><span class="dv">3</span>:])</span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a>element <span class="op">=</span> <span class="st">'carpentry'</span></span>
<span id="cb47-4"><a href="#cb47-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'last three characters:'</span>, element[<span class="op">-</span><span class="dv">3</span>:])</span>
<span id="cb47-5"><a href="#cb47-5" tabindex="-1"></a>element <span class="op">=</span> <span class="st">'clone'</span></span>
<span id="cb47-6"><a href="#cb47-6" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'last three characters:'</span>, element[<span class="op">-</span><span class="dv">3</span>:])</span>
<span id="cb47-7"><a href="#cb47-7" tabindex="-1"></a>element <span class="op">=</span> <span class="st">'hi'</span></span>
<span id="cb47-8"><a href="#cb47-8" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'last three characters:'</span>, element[<span class="op">-</span><span class="dv">3</span>:])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>last three characters: gen
last three characters: try
last three characters: one
last three characters: hi</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="thin-slices" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="thin-slices" class="callout-inner">
<h3 class="callout-title">Thin Slices</h3>
<div class="callout-content">
<p>The expression <code>element[3:3]</code> produces an <a href="reference.html#empty-string">empty string</a>, i.e., a string that
contains no characters. If <code>data</code> holds our array of patient
data, what does <code>data[3:3, 4:4]</code> produce? What about
<code>data[3:3, :]</code>?</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array([], shape=(0, 0), dtype=float64)
array([], shape=(0, 40), dtype=float64)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="stacking-arrays" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="stacking-arrays" class="callout-inner">
<h3 class="callout-title">Stacking Arrays</h3>
<div class="callout-content">
<p>Arrays can be concatenated and stacked on top of one another, using
NumPy’s <code>vstack</code> and <code>hstack</code> functions for
vertical and horizontal stacking, respectively.</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" tabindex="-1"></a>A <span class="op">=</span> numpy.array([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>], [<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]])</span>
<span id="cb50-4"><a href="#cb50-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'A = '</span>)</span>
<span id="cb50-5"><a href="#cb50-5" tabindex="-1"></a><span class="bu">print</span>(A)</span>
<span id="cb50-6"><a href="#cb50-6" tabindex="-1"></a></span>
<span id="cb50-7"><a href="#cb50-7" tabindex="-1"></a>B <span class="op">=</span> numpy.hstack([A, A])</span>
<span id="cb50-8"><a href="#cb50-8" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'B = '</span>)</span>
<span id="cb50-9"><a href="#cb50-9" tabindex="-1"></a><span class="bu">print</span>(B)</span>
<span id="cb50-10"><a href="#cb50-10" tabindex="-1"></a></span>
<span id="cb50-11"><a href="#cb50-11" tabindex="-1"></a>C <span class="op">=</span> numpy.vstack([A, A])</span>
<span id="cb50-12"><a href="#cb50-12" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'C = '</span>)</span>
<span id="cb50-13"><a href="#cb50-13" tabindex="-1"></a><span class="bu">print</span>(C)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>A =
[[1 2 3]
 [4 5 6]
 [7 8 9]]
B =
[[1 2 3 1 2 3]
 [4 5 6 4 5 6]
 [7 8 9 7 8 9]]
C =
[[1 2 3]
 [4 5 6]
 [7 8 9]
 [1 2 3]
 [4 5 6]
 [7 8 9]]</code></pre>
</div>
<p>Write some additional code that slices the first and last columns of
<code>A</code>, and stacks them into a 3x2 array. Make sure to
<code>print</code> the results to verify your solution.</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>A ‘gotcha’ with array indexing is that singleton dimensions are
dropped by default. That means <code>A[:, 0]</code> is a one dimensional
array, which won’t stack as desired. To preserve singleton dimensions,
the index itself can be a slice or array. For example,
<code>A[:, :1]</code> returns a two dimensional array with one singleton
dimension (i.e. a column vector).</p>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a>D <span class="op">=</span> numpy.hstack((A[:, :<span class="dv">1</span>], A[:, <span class="op">-</span><span class="dv">1</span>:]))</span>
<span id="cb52-2"><a href="#cb52-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'D = '</span>)</span>
<span id="cb52-3"><a href="#cb52-3" tabindex="-1"></a><span class="bu">print</span>(D)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>D =
[[1 3]
 [4 6]
 [7 9]]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Show me the solution </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<p>An alternative way to achieve the same result is to use Numpy’s
delete function to remove the second column of A. If you’re not sure
what the parameters of numpy.delete mean, use the help files.</p>
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a>D <span class="op">=</span> numpy.delete(arr<span class="op">=</span>A, obj<span class="op">=</span><span class="dv">1</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'D = '</span>)</span>
<span id="cb54-3"><a href="#cb54-3" tabindex="-1"></a><span class="bu">print</span>(D)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>D =
[[1 3]
 [4 6]
 [7 9]]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="change-in-inflammation" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="change-in-inflammation" class="callout-inner">
<h3 class="callout-title">Change In Inflammation</h3>
<div class="callout-content">
<p>The patient data is <em>longitudinal</em> in the sense that each row
represents a series of observations relating to one individual. This
means that the change in inflammation over time is a meaningful concept.
Let’s find out how to calculate changes in the data contained in an
array with NumPy.</p>
<p>The <code>numpy.diff()</code> function takes an array and returns the
differences between two successive values. Let’s use it to examine the
changes each day across the first week of patient 3 from our
inflammation dataset.</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a>patient3_week1 <span class="op">=</span> data[<span class="dv">3</span>, :<span class="dv">7</span>]</span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a><span class="bu">print</span>(patient3_week1)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> [0. 0. 2. 0. 4. 2. 2.]</code></pre>
</div>
<p>Calling <code>numpy.diff(patient3_week1)</code> would do the
following calculations</p>
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a>[ <span class="dv">0</span> <span class="op">-</span> <span class="dv">0</span>, <span class="dv">2</span> <span class="op">-</span> <span class="dv">0</span>, <span class="dv">0</span> <span class="op">-</span> <span class="dv">2</span>, <span class="dv">4</span> <span class="op">-</span> <span class="dv">0</span>, <span class="dv">2</span> <span class="op">-</span> <span class="dv">4</span>, <span class="dv">2</span> <span class="op">-</span> <span class="dv">2</span> ]</span></code></pre>
</div>
<p>and return the 6 difference values in a new array.</p>
<div class="codewrapper sourceCode" id="cb59">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" tabindex="-1"></a>numpy.diff(patient3_week1)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array([ 0.,  2., -2.,  4., -2.,  0.])</code></pre>
</div>
<p>Note that the array of differences is shorter by one element (length
6).</p>
<p>When calling <code>numpy.diff</code> with a multi-dimensional array,
an <code>axis</code> argument may be passed to the function to specify
which axis to process. When applying <code>numpy.diff</code> to our 2D
inflammation array <code>data</code>, which axis would we specify?</p>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8"> Show me the solution </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" aria-labelledby="headingSolution8" data-bs-parent="#accordionSolution8">
<div class="accordion-body">
<p>Since the row axis (0) is patients, it does not make sense to get the
difference between two arbitrary patients. The column axis (1) is in
days, so the difference is the change in inflammation – a meaningful
concept.</p>
<div class="codewrapper sourceCode" id="cb61">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a>numpy.diff(data, axis<span class="op">=</span><span class="dv">1</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="change-in-inflammation" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="change-in-inflammation" class="callout-inner">
<h3 class="callout-title">Change In Inflammation<em>
(continued)</em>
</h3>
<div class="callout-content">
<p>If the shape of an individual data file is <code>(60, 40)</code> (60
rows and 40 columns), what would the shape of the array be after you run
the <code>diff()</code> function and why?</p>
</div>
</div>
</div>
<div id="accordionSolution9" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution9" aria-expanded="false" aria-controls="collapseSolution9">
  <h4 class="accordion-header" id="headingSolution9"> Show me the solution </h4>
</button>
<div id="collapseSolution9" class="accordion-collapse collapse" aria-labelledby="headingSolution9" data-bs-parent="#accordionSolution9">
<div class="accordion-body">
<p>The shape will be <code>(60, 39)</code> because there is one fewer
difference between columns than there are columns in the data.</p>
</div>
</div>
</div>
</div>
<div id="change-in-inflammation" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="change-in-inflammation" class="callout-inner">
<h3 class="callout-title">Change In Inflammation<em>
(continued)</em>
</h3>
<div class="callout-content">
<p>How would you find the largest change in inflammation for each
patient? Does it matter if the change in inflammation is an increase or
a decrease?</p>
</div>
</div>
</div>
<div id="accordionSolution10" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution10" aria-expanded="false" aria-controls="collapseSolution10">
  <h4 class="accordion-header" id="headingSolution10"> Show me the solution </h4>
</button>
<div id="collapseSolution10" class="accordion-collapse collapse" aria-labelledby="headingSolution10" data-bs-parent="#accordionSolution10">
<div class="accordion-body">
<p>By using the <code>numpy.amax()</code> function after you apply the
<code>numpy.diff()</code> function, you will get the largest difference
between days.</p>
<div class="codewrapper sourceCode" id="cb62">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a>numpy.amax(numpy.diff(data, axis<span class="op">=</span><span class="dv">1</span>), axis<span class="op">=</span><span class="dv">1</span>)</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb63">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" tabindex="-1"></a>array([  <span class="fl">7.</span>,  <span class="fl">12.</span>,  <span class="fl">11.</span>,  <span class="fl">10.</span>,  <span class="fl">11.</span>,  <span class="fl">13.</span>,  <span class="fl">10.</span>,   <span class="fl">8.</span>,  <span class="fl">10.</span>,  <span class="fl">10.</span>,   <span class="fl">7.</span>,</span>
<span id="cb63-2"><a href="#cb63-2" tabindex="-1"></a>         <span class="fl">7.</span>,  <span class="fl">13.</span>,   <span class="fl">7.</span>,  <span class="fl">10.</span>,  <span class="fl">10.</span>,   <span class="fl">8.</span>,  <span class="fl">10.</span>,   <span class="fl">9.</span>,  <span class="fl">10.</span>,  <span class="fl">13.</span>,   <span class="fl">7.</span>,</span>
<span id="cb63-3"><a href="#cb63-3" tabindex="-1"></a>        <span class="fl">12.</span>,   <span class="fl">9.</span>,  <span class="fl">12.</span>,  <span class="fl">11.</span>,  <span class="fl">10.</span>,  <span class="fl">10.</span>,   <span class="fl">7.</span>,  <span class="fl">10.</span>,  <span class="fl">11.</span>,  <span class="fl">10.</span>,   <span class="fl">8.</span>,</span>
<span id="cb63-4"><a href="#cb63-4" tabindex="-1"></a>        <span class="fl">11.</span>,  <span class="fl">12.</span>,  <span class="fl">10.</span>,   <span class="fl">9.</span>,  <span class="fl">10.</span>,  <span class="fl">13.</span>,  <span class="fl">10.</span>,   <span class="fl">7.</span>,   <span class="fl">7.</span>,  <span class="fl">10.</span>,  <span class="fl">13.</span>,</span>
<span id="cb63-5"><a href="#cb63-5" tabindex="-1"></a>        <span class="fl">12.</span>,   <span class="fl">8.</span>,   <span class="fl">8.</span>,  <span class="fl">10.</span>,  <span class="fl">10.</span>,   <span class="fl">9.</span>,   <span class="fl">8.</span>,  <span class="fl">13.</span>,  <span class="fl">10.</span>,   <span class="fl">7.</span>,  <span class="fl">10.</span>,</span>
<span id="cb63-6"><a href="#cb63-6" tabindex="-1"></a>         <span class="fl">8.</span>,  <span class="fl">12.</span>,  <span class="fl">10.</span>,   <span class="fl">7.</span>,  <span class="fl">12.</span>])</span></code></pre>
</div>
<p>If inflammation values <em>decrease</em> along an axis, then the
difference from one element to the next will be negative. If you are
interested in the <strong>magnitude</strong> of the change and not the
direction, the <code>numpy.absolute()</code> function will provide
that.</p>
<p>Notice the difference if you get the largest <em>absolute</em>
difference between readings.</p>
<div class="codewrapper sourceCode" id="cb64">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a>numpy.amax(numpy.absolute(numpy.diff(data, axis<span class="op">=</span><span class="dv">1</span>)), axis<span class="op">=</span><span class="dv">1</span>)</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb65">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" tabindex="-1"></a>array([ <span class="fl">12.</span>,  <span class="fl">14.</span>,  <span class="fl">11.</span>,  <span class="fl">13.</span>,  <span class="fl">11.</span>,  <span class="fl">13.</span>,  <span class="fl">10.</span>,  <span class="fl">12.</span>,  <span class="fl">10.</span>,  <span class="fl">10.</span>,  <span class="fl">10.</span>,</span>
<span id="cb65-2"><a href="#cb65-2" tabindex="-1"></a>        <span class="fl">12.</span>,  <span class="fl">13.</span>,  <span class="fl">10.</span>,  <span class="fl">11.</span>,  <span class="fl">10.</span>,  <span class="fl">12.</span>,  <span class="fl">13.</span>,   <span class="fl">9.</span>,  <span class="fl">10.</span>,  <span class="fl">13.</span>,   <span class="fl">9.</span>,</span>
<span id="cb65-3"><a href="#cb65-3" tabindex="-1"></a>        <span class="fl">12.</span>,   <span class="fl">9.</span>,  <span class="fl">12.</span>,  <span class="fl">11.</span>,  <span class="fl">10.</span>,  <span class="fl">13.</span>,   <span class="fl">9.</span>,  <span class="fl">13.</span>,  <span class="fl">11.</span>,  <span class="fl">11.</span>,   <span class="fl">8.</span>,</span>
<span id="cb65-4"><a href="#cb65-4" tabindex="-1"></a>        <span class="fl">11.</span>,  <span class="fl">12.</span>,  <span class="fl">13.</span>,   <span class="fl">9.</span>,  <span class="fl">10.</span>,  <span class="fl">13.</span>,  <span class="fl">11.</span>,  <span class="fl">11.</span>,  <span class="fl">13.</span>,  <span class="fl">11.</span>,  <span class="fl">13.</span>,</span>
<span id="cb65-5"><a href="#cb65-5" tabindex="-1"></a>        <span class="fl">13.</span>,  <span class="fl">10.</span>,   <span class="fl">9.</span>,  <span class="fl">10.</span>,  <span class="fl">10.</span>,   <span class="fl">9.</span>,   <span class="fl">9.</span>,  <span class="fl">13.</span>,  <span class="fl">10.</span>,   <span class="fl">9.</span>,  <span class="fl">10.</span>,</span>
<span id="cb65-6"><a href="#cb65-6" tabindex="-1"></a>        <span class="fl">11.</span>,  <span class="fl">13.</span>,  <span class="fl">10.</span>,  <span class="fl">10.</span>,  <span class="fl">12.</span>])</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Import a library into a program using
<code>import libraryname</code>.</li>
<li>Use the <code>numpy</code> library to work with arrays in
Python.</li>
<li>The expression <code>array.shape</code> gives the shape of an
array.</li>
<li>Use <code>array[x, y]</code> to select a single element from a 2D
array.</li>
<li>Array indices start at 0, not 1.</li>
<li>Use <code>low:high</code> to specify a <code>slice</code> that
includes the indices from <code>low</code> to <code>high-1</code>.</li>
<li>Use <code># some kind of explanation</code> to add comments to
programs.</li>
<li>Use <code>numpy.mean(array)</code>, <code>numpy.amax(array)</code>,
and <code>numpy.amin(array)</code> to calculate simple statistics.</li>
<li>Use <code>numpy.mean(array, axis=0)</code> or
<code>numpy.mean(array, axis=1)</code> to calculate statistics across
the specified axis.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-03-matplotlib"><p>Content from <a href="03-matplotlib.html">Visualizing Tabular Data</a></p>
<hr>
<p>Last updated on 2025-05-22 |

        <a href="https://github.com/swcarpentry/python-novice-inflammation/edit/main/episodes/03-matplotlib.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 50 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I visualize tabular data in Python?</li>
<li>How can I group several plots together?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Plot simple graphs from data.</li>
<li>Plot multiple graphs in a single figure.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="visualizing-data">Visualizing data<a class="anchor" aria-label="anchor" href="#visualizing-data"></a>
</h2>
<hr class="half-width">
<p>The mathematician Richard Hamming once said, “The purpose of
computing is insight, not numbers,” and the best way to develop insight
is often to visualize data. Visualization deserves an entire lecture of
its own, but we can explore a few features of Python’s
<code>matplotlib</code> library here. While there is no official
plotting library, <code>matplotlib</code> is the <em>de facto</em>
standard. First, we will import the <code>pyplot</code> module from
<code>matplotlib</code> and use two of its functions to create and
display a <a href="reference.html#heat-map">heat map</a> of our
data:</p>
<div id="episode-prerequisites" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<span class="callout-header">Prerequisite</span>
<div id="episode-prerequisites" class="callout-inner">
<h3 class="callout-title">Episode Prerequisites</h3>
<div class="callout-content">
<p>If you are continuing in the same notebook from the previous episode,
you already have a <code>data</code> variable and have imported
<code>numpy</code>. If you are starting a new notebook at this point,
you need the following two lines:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span><span class="st">'inflammation-01.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>image <span class="op">=</span> matplotlib.pyplot.imshow(data)</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>matplotlib.pyplot.show()</span></code></pre>
</div>
<figure><img src="../fig/inflammation-01-imshow.svg" alt="Heat map representing the data variable. Each cell is colored by value along a color gradient from blue to yellow." class="figure mx-auto d-block"></figure><p>Each row in the heat map corresponds to a patient in the clinical
trial dataset, and each column corresponds to a day in the dataset. Blue
pixels in this heat map represent low values, while yellow pixels
represent high values. As we can see, the general number of inflammation
flare-ups for the patients rises and falls over a 40-day period.</p>
<p>So far so good as this is in line with our knowledge of the clinical
trial and Dr. Maverick’s claims:</p>
<ul>
<li>the patients take their medication once their inflammation flare-ups
begin</li>
<li>it takes around 3 weeks for the medication to take effect and begin
reducing flare-ups</li>
<li>and flare-ups appear to drop to zero by the end of the clinical
trial.</li>
</ul>
<p>Now let’s take a look at the average inflammation over time:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>ave_inflammation <span class="op">=</span> numpy.mean(data, axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>ave_plot <span class="op">=</span> matplotlib.pyplot.plot(ave_inflammation)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>matplotlib.pyplot.show()</span></code></pre>
</div>
<figure><img src="../fig/inflammation-01-average.svg" alt="A line graph showing the average inflammation across all patients over a 40-day period." class="figure mx-auto d-block"></figure><p>Here, we have put the average inflammation per day across all
patients in the variable <code>ave_inflammation</code>, then asked
<code>matplotlib.pyplot</code> to create and display a line graph of
those values. The result is a reasonably linear rise and fall, in line
with Dr. Maverick’s claim that the medication takes 3 weeks to take
effect. But a good data scientist doesn’t just consider the average of a
dataset, so let’s have a look at two other statistics:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>max_plot <span class="op">=</span> matplotlib.pyplot.plot(numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>matplotlib.pyplot.show()</span></code></pre>
</div>
<figure><img src="../fig/inflammation-01-maximum.svg" alt="A line graph showing the maximum inflammation across all patients over a 40-day period." class="figure mx-auto d-block"></figure><div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>min_plot <span class="op">=</span> matplotlib.pyplot.plot(numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>matplotlib.pyplot.show()</span></code></pre>
</div>
<figure><img src="../fig/inflammation-01-minimum.svg" alt="A line graph showing the minimum inflammation across all patients over a 40-day period." class="figure mx-auto d-block"></figure><p>The maximum value rises and falls linearly, while the minimum seems
to be a step function. Neither trend seems particularly likely, so
either there’s a mistake in our calculations or something is wrong with
our data. This insight would have been difficult to reach by examining
the numbers themselves without visualization tools.</p>
<div class="section level3">
<h3 id="grouping-plots">Grouping plots<a class="anchor" aria-label="anchor" href="#grouping-plots"></a>
</h3>
<p>You can group similar plots in a single figure using subplots. This
script below uses a number of new commands. The function
<code>matplotlib.pyplot.figure()</code> creates a space into which we
will place all of our plots. The parameter <code>figsize</code> tells
Python how big to make this space. Each subplot is placed into the
figure using its <code>add_subplot</code> <a href="reference.html#method">method</a>. The <code>add_subplot</code>
method takes 3 parameters. The first denotes how many total rows of
subplots there are, the second parameter refers to the total number of
subplot columns, and the final parameter denotes which subplot your
variable is referencing (left-to-right, top-to-bottom). Each subplot is
stored in a different variable (<code>axes1</code>, <code>axes2</code>,
<code>axes3</code>). Once a subplot is created, the axes can be titled
using the <code>set_xlabel()</code> command (or
<code>set_ylabel()</code>). Here are our three plots side by side:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span><span class="st">'inflammation-01.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>fig <span class="op">=</span> matplotlib.pyplot.figure(figsize<span class="op">=</span>(<span class="fl">10.0</span>, <span class="fl">3.0</span>))</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>axes1 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>)</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>axes2 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>axes3 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>)</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a>axes1.set_ylabel(<span class="st">'average'</span>)</span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a>axes1.plot(numpy.mean(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a>axes2.set_ylabel(<span class="st">'max'</span>)</span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a>axes2.plot(numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a>axes3.set_ylabel(<span class="st">'min'</span>)</span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a>axes3.plot(numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb6-20"><a href="#cb6-20" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" tabindex="-1"></a>fig.tight_layout()</span>
<span id="cb6-22"><a href="#cb6-22" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" tabindex="-1"></a>matplotlib.pyplot.savefig(<span class="st">'inflammation.png'</span>)</span>
<span id="cb6-24"><a href="#cb6-24" tabindex="-1"></a>matplotlib.pyplot.show()</span></code></pre>
</div>
<figure><img src="../fig/inflammation-01-group-plot.svg" alt="Three line graphs showing the daily average, maximum and minimum inflammation over a 40-day period." class="figure mx-auto d-block"></figure><p>The <a href="reference.html#function-call">call</a> to
<code>loadtxt</code> reads our data, and the rest of the program tells
the plotting library how large we want the figure to be, that we’re
creating three subplots, what to draw for each one, and that we want a
tight layout. (If we leave out that call to
<code>fig.tight_layout()</code>, the graphs will actually be squeezed
together more closely.)</p>
<p>The call to <code>savefig</code> stores the plot as a graphics file.
This can be a convenient way to store your plots for use in other
documents, web pages etc. The graphics format is automatically
determined by Matplotlib from the file name ending we specify; here PNG
from ‘inflammation.png’. Matplotlib supports many different graphics
formats, including SVG, PDF, and JPEG.</p>
<div id="importing-libraries-with-shortcuts" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="importing-libraries-with-shortcuts" class="callout-inner">
<h3 class="callout-title">Importing libraries with shortcuts</h3>
<div class="callout-content">
<p>In this lesson we use the <code>import matplotlib.pyplot</code> <a href="reference.html#syntax">syntax</a> to import the
<code>pyplot</code> module of <code>matplotlib</code>. However,
shortcuts such as <code>import matplotlib.pyplot as plt</code> are
frequently used. Importing <code>pyplot</code> this way means that after
the initial import, rather than writing
<code>matplotlib.pyplot.plot(...)</code>, you can now write
<code>plt.plot(...)</code>. Another common convention is to use the
shortcut <code>import numpy as np</code> when importing the NumPy
library. We then can write <code>np.loadtxt(...)</code> instead of
<code>numpy.loadtxt(...)</code>, for example.</p>
<p>Some people prefer these shortcuts as it is quicker to type and
results in shorter lines of code - especially for libraries with long
names! You will frequently see Python code online using a
<code>pyplot</code> function with <code>plt</code>, or a NumPy function
with <code>np</code>, and it’s because they’ve used this shortcut. It
makes no difference which approach you choose to take, but you must be
consistent as if you use <code>import matplotlib.pyplot as plt</code>
then <code>matplotlib.pyplot.plot(...)</code> will not work, and you
must use <code>plt.plot(...)</code> instead. Because of this, when
working with other people it is important you agree on how libraries are
imported.</p>
</div>
</div>
</div>
<div id="plot-scaling" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="plot-scaling" class="callout-inner">
<h3 class="callout-title">Plot Scaling</h3>
<div class="callout-content">
<p>Why do all of our plots stop just short of the upper end of our
graph?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>Because matplotlib normally sets x and y axes limits to the min and
max of our data (depending on data range)</p>
</div>
</div>
</div>
</div>
<div id="plot-scaling" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="plot-scaling" class="callout-inner">
<h3 class="callout-title">Plot Scaling<em> (continued)</em>
</h3>
<div class="callout-content">
<p>If we want to change this, we can use the
<code>set_ylim(min, max)</code> method of each ‘axes’, for example:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>axes3.set_ylim(<span class="dv">0</span>, <span class="dv">6</span>)</span></code></pre>
</div>
<p>Update your plotting code to automatically set a more appropriate
scale. (Hint: you can make use of the <code>max</code> and
<code>min</code> methods to help.)</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># One method</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>axes3.set_ylabel(<span class="st">'min'</span>)</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>axes3.plot(numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>axes3.set_ylim(<span class="dv">0</span>, <span class="dv">6</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># A more automated approach</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>min_data <span class="op">=</span> numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>axes3.set_ylabel(<span class="st">'min'</span>)</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>axes3.plot(min_data)</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>axes3.set_ylim(numpy.amin(min_data), numpy.amax(min_data) <span class="op">*</span> <span class="fl">1.1</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="drawing-straight-lines" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="drawing-straight-lines" class="callout-inner">
<h3 class="callout-title">Drawing Straight Lines</h3>
<div class="callout-content">
<p>In the center and right subplots above, we expect all lines to look
like step functions because non-integer values are not realistic for the
minimum and maximum values. However, you can see that the lines are not
always vertical or horizontal, and in particular the step function in
the subplot on the right looks slanted. Why is this?</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>Because matplotlib interpolates (draws a straight line) between the
points. One way to do avoid this is to use the Matplotlib
<code>drawstyle</code> option:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span><span class="st">'inflammation-01.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>fig <span class="op">=</span> matplotlib.pyplot.figure(figsize<span class="op">=</span>(<span class="fl">10.0</span>, <span class="fl">3.0</span>))</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>axes1 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>)</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a>axes2 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a>axes3 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>)</span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a>axes1.set_ylabel(<span class="st">'average'</span>)</span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a>axes1.plot(numpy.mean(data, axis<span class="op">=</span><span class="dv">0</span>), drawstyle<span class="op">=</span><span class="st">'steps-mid'</span>)</span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a>axes2.set_ylabel(<span class="st">'max'</span>)</span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a>axes2.plot(numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>), drawstyle<span class="op">=</span><span class="st">'steps-mid'</span>)</span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a>axes3.set_ylabel(<span class="st">'min'</span>)</span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a>axes3.plot(numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>), drawstyle<span class="op">=</span><span class="st">'steps-mid'</span>)</span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a></span>
<span id="cb10-21"><a href="#cb10-21" tabindex="-1"></a>fig.tight_layout()</span>
<span id="cb10-22"><a href="#cb10-22" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" tabindex="-1"></a>matplotlib.pyplot.show()</span></code></pre>
</div>
<figure><img src="../fig/inflammation-01-line-styles.svg" alt="Three line graphs, with step lines connecting the points, showing the daily average, maximumand minimum inflammation over a 40-day period." class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
</div>
<div id="make-your-own-plot" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="make-your-own-plot" class="callout-inner">
<h3 class="callout-title">Make Your Own Plot</h3>
<div class="callout-content">
<p>Create a plot showing the standard deviation (<code>numpy.std</code>)
of the inflammation data for each day across all patients.</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>std_plot <span class="op">=</span> matplotlib.pyplot.plot(numpy.std(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>matplotlib.pyplot.show()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="moving-plots-around" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="moving-plots-around" class="callout-inner">
<h3 class="callout-title">Moving Plots Around</h3>
<div class="callout-content">
<p>Modify the program to display the three plots on top of one another
instead of side by side.</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span><span class="st">'inflammation-01.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="co"># change figsize (swap width and height)</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>fig <span class="op">=</span> matplotlib.pyplot.figure(figsize<span class="op">=</span>(<span class="fl">3.0</span>, <span class="fl">10.0</span>))</span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a><span class="co"># change add_subplot (swap first two parameters)</span></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a>axes1 <span class="op">=</span> fig.add_subplot(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a>axes2 <span class="op">=</span> fig.add_subplot(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a>axes3 <span class="op">=</span> fig.add_subplot(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a>axes1.set_ylabel(<span class="st">'average'</span>)</span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a>axes1.plot(numpy.mean(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a>axes2.set_ylabel(<span class="st">'max'</span>)</span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a>axes2.plot(numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a></span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a>axes3.set_ylabel(<span class="st">'min'</span>)</span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a>axes3.plot(numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a></span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a>fig.tight_layout()</span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a></span>
<span id="cb12-25"><a href="#cb12-25" tabindex="-1"></a>matplotlib.pyplot.show()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Use the <code>pyplot</code> module from the <code>matplotlib</code>
library for creating simple visualizations.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-04-lists"><p>Content from <a href="04-lists.html">Storing Multiple Values in Lists</a></p>
<hr>
<p>Last updated on 2025-05-22 |

        <a href="https://github.com/swcarpentry/python-novice-inflammation/edit/main/episodes/04-lists.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 45 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I store many values together?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain what a list is.</li>
<li>Create and index lists of simple values.</li>
<li>Change the values of individual elements</li>
<li>Append values to an existing list</li>
<li>Reorder and slice list elements</li>
<li>Create and manipulate nested lists</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>In the previous episode, we analyzed a single file of clinical trial
inflammation data. However, after finding some peculiar and potentially
suspicious trends in the trial data we ask Dr. Maverick if they have
performed any other clinical trials. Surprisingly, they say that they
have and provide us with 11 more CSV files for a further 11 clinical
trials they have undertaken since the initial trial.</p>
<p>Our goal now is to process all the inflammation data we have, which
means that we still have eleven more files to go!</p>
<p>The natural first step is to collect the names of all the files that
we have to process. In Python, a list is a way to store multiple values
together. In this episode, we will learn how to store multiple values in
a list as well as how to work with lists.</p>
<section><h2 class="section-heading" id="python-lists">Python lists<a class="anchor" aria-label="anchor" href="#python-lists"></a>
</h2>
<hr class="half-width">
<p>Unlike NumPy arrays, lists are built into the language so we do not
have to load a library to use them. We create a list by putting values
inside square brackets and separating the values with commas:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>]</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'odds are:'</span>, odds)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>odds are: [1, 3, 5, 7]</code></pre>
</div>
<p>We can access elements of a list using indices – numbered positions
of elements in the list. These positions are numbered starting at 0, so
the first element has an index of 0.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'first element:'</span>, odds[<span class="dv">0</span>])</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'last element:'</span>, odds[<span class="dv">3</span>])</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'"-1" element:'</span>, odds[<span class="op">-</span><span class="dv">1</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>first element: 1
last element: 7
"-1" element: 7</code></pre>
</div>
<p>Yes, we can use negative numbers as indices in Python. When we do so,
the index <code>-1</code> gives us the last element in the list,
<code>-2</code> the second to last, and so on. Because of this,
<code>odds[3]</code> and <code>odds[-1]</code> point to the same element
here.</p>
<p>There is one important difference between lists and strings: we can
change the values in a list, but we cannot change individual characters
in a string. For example:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>names <span class="op">=</span> [<span class="st">'Curie'</span>, <span class="st">'Darwing'</span>, <span class="st">'Turing'</span>]  <span class="co"># typo in Darwin's name</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'names is originally:'</span>, names)</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>names[<span class="dv">1</span>] <span class="op">=</span> <span class="st">'Darwin'</span>  <span class="co"># correct the name</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'final value of names:'</span>, names)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>names is originally: ['Curie', 'Darwing', 'Turing']
final value of names: ['Curie', 'Darwin', 'Turing']</code></pre>
</div>
<p>works, but:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>name <span class="op">=</span> <span class="st">'Darwin'</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>name[<span class="dv">0</span>] <span class="op">=</span> <span class="st">'d'</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
&lt;ipython-input-8-220df48aeb2e&gt; in &lt;module&gt;()
      1 name = 'Darwin'
----&gt; 2 name[0] = 'd'

TypeError: 'str' object does not support item assignment</code></pre>
</div>
<p>does not.</p>
<div id="ch-ch-ch-ch-changes" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="ch-ch-ch-ch-changes" class="callout-inner">
<h3 class="callout-title">Ch-Ch-Ch-Ch-Changes</h3>
<div class="callout-content">
<p>Data which can be modified in place is called <a href="reference.html#mutable">mutable</a>, while data which cannot be
modified is called <a href="reference.html#immutable">immutable</a>.
Strings and numbers are immutable. This does not mean that variables
with string or number values are constants, but when we want to change
the value of a string or number variable, we can only replace the old
value with a completely new value.</p>
<p>Lists and arrays, on the other hand, are mutable: we can modify them
after they have been created. We can change individual elements, append
new elements, or reorder the whole list. For some operations, like
sorting, we can choose whether to use a function that modifies the data
in-place or a function that returns a modified copy and leaves the
original unchanged.</p>
<p>Be careful when modifying data in-place. If two variables refer to
the same list, and you modify the list value, it will change for both
variables!</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>mild_salsa <span class="op">=</span> [<span class="st">'peppers'</span>, <span class="st">'onions'</span>, <span class="st">'cilantro'</span>, <span class="st">'tomatoes'</span>]</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>hot_salsa <span class="op">=</span> mild_salsa        <span class="co"># &lt;-- mild_salsa and hot_salsa point to the *same* list data in memory</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>hot_salsa[<span class="dv">0</span>] <span class="op">=</span> <span class="st">'hot peppers'</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Ingredients in mild salsa:'</span>, mild_salsa)</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Ingredients in hot salsa:'</span>, hot_salsa)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Ingredients in mild salsa: ['hot peppers', 'onions', 'cilantro', 'tomatoes']
Ingredients in hot salsa: ['hot peppers', 'onions', 'cilantro', 'tomatoes']</code></pre>
</div>
<p>If you want variables with mutable values to be independent, you must
make a copy of the value when you assign it.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>mild_salsa <span class="op">=</span> [<span class="st">'peppers'</span>, <span class="st">'onions'</span>, <span class="st">'cilantro'</span>, <span class="st">'tomatoes'</span>]</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>hot_salsa <span class="op">=</span> <span class="bu">list</span>(mild_salsa)        <span class="co"># &lt;-- makes a *copy* of the list</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>hot_salsa[<span class="dv">0</span>] <span class="op">=</span> <span class="st">'hot peppers'</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Ingredients in mild salsa:'</span>, mild_salsa)</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Ingredients in hot salsa:'</span>, hot_salsa)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Ingredients in mild salsa: ['peppers', 'onions', 'cilantro', 'tomatoes']
Ingredients in hot salsa: ['hot peppers', 'onions', 'cilantro', 'tomatoes']</code></pre>
</div>
<p>Because of pitfalls like this, code which modifies data in place can
be more difficult to understand. However, it is often far more efficient
to modify a large data structure in place than to create a modified copy
for every small change. You should consider both of these aspects when
writing your code.</p>
</div>
</div>
</div>
<div id="nested-lists" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="nested-lists" class="callout-inner">
<h3 class="callout-title">Nested Lists</h3>
<div class="callout-content">
<p>Since a list can contain any Python variables, it can even contain
other lists.</p>
<p>For example, you could represent the products on the shelves of a
small grocery shop as a nested list called <code>veg</code>:</p>
<figure><img src="../fig/04_groceries_veg.png" alt="veg is represented as a shelf full of produce. There are three rows of vegetables on the shelf, and each row contains three baskets of vegetables. We can label each basket according to the type of vegetable it contains, so the top row contains (from left to right) lettuce, lettuce, and peppers." class="figure mx-auto d-block"></figure><p>To store the contents of the shelf in a nested list, you write it
this way:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>veg <span class="op">=</span> [[<span class="st">'lettuce'</span>, <span class="st">'lettuce'</span>, <span class="st">'peppers'</span>, <span class="st">'zucchini'</span>],</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>     [<span class="st">'lettuce'</span>, <span class="st">'lettuce'</span>, <span class="st">'peppers'</span>, <span class="st">'zucchini'</span>],</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>     [<span class="st">'lettuce'</span>, <span class="st">'cilantro'</span>, <span class="st">'peppers'</span>, <span class="st">'zucchini'</span>]]</span></code></pre>
</div>
<p>Here are some visual examples of how indexing a list of lists
<code>veg</code> works. First, you can reference each row on the shelf
as a separate list. For example, <code>veg[2]</code> represents the
bottom row, which is a list of the baskets in that row.</p>
<figure><img src="../fig/04_groceries_veg0.png" alt="veg is now shown as a list of three rows, with veg[0] representing the top row of three baskets, veg[1] representing the second row, and veg[2] representing the bottom row." class="figure mx-auto d-block"></figure><p>Index operations using the image would work like this:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="bu">print</span>(veg[<span class="dv">2</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['lettuce', 'cilantro', 'peppers', 'zucchini']</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="bu">print</span>(veg[<span class="dv">0</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['lettuce', 'lettuce', 'peppers', 'zucchini']</code></pre>
</div>
<p>To reference a specific basket on a specific shelf, you use two
indexes. The first index represents the row (from top to bottom) and the
second index represents the specific basket (from left to right). <img src="../fig/04_groceries_veg00.png" alt="veg is now shown as a two-dimensional grid, with each basket labeled according to its index in the nested list. The first index is the row number and the second index is the basket number, so veg[1][3] represents the basket on the far right side of the second row (basket 4 on row 2): zucchini" class="figure"></p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="bu">print</span>(veg[<span class="dv">0</span>][<span class="dv">0</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'lettuce'</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="bu">print</span>(veg[<span class="dv">1</span>][<span class="dv">2</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'peppers'</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="heterogeneous-lists" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="heterogeneous-lists" class="callout-inner">
<h3 class="callout-title">Heterogeneous Lists</h3>
<div class="callout-content">
<p>Lists in Python can contain elements of different types. Example:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>sample_ages <span class="op">=</span> [<span class="dv">10</span>, <span class="fl">12.5</span>, <span class="st">'Unknown'</span>]</span></code></pre>
</div>
</div>
</div>
</div>
<p>There are many ways to change the contents of lists besides assigning
new values to individual elements:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a>odds.append(<span class="dv">11</span>)</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'odds after adding a value:'</span>, odds)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>odds after adding a value: [1, 3, 5, 7, 11]</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>removed_element <span class="op">=</span> odds.pop(<span class="dv">0</span>)</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'odds after removing the first element:'</span>, odds)</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'removed_element:'</span>, removed_element)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>odds after removing the first element: [3, 5, 7, 11]
removed_element: 1</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a>odds.reverse()</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'odds after reversing:'</span>, odds)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>odds after reversing: [11, 7, 5, 3]</code></pre>
</div>
<p>While modifying in place, it is useful to remember that Python treats
lists in a slightly counter-intuitive way.</p>
<p>As we saw earlier, when we modified the <code>mild_salsa</code> list
item in-place, if we make a list, (attempt to) copy it and then modify
this list, we can cause all sorts of trouble. This also applies to
modifying the list using the above functions:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>]</span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a>primes <span class="op">=</span> odds</span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a>primes.append(<span class="dv">2</span>)</span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'primes:'</span>, primes)</span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'odds:'</span>, odds)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>primes: [3, 5, 7, 2]
odds: [3, 5, 7, 2]</code></pre>
</div>
<p>This is because Python stores a list in memory, and then can use
multiple names to refer to the same list. If all we want to do is copy a
(simple) list, we can again use the <code>list</code> function, so we do
not modify a list we did not mean to:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>]</span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a>primes <span class="op">=</span> <span class="bu">list</span>(odds)</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a>primes.append(<span class="dv">2</span>)</span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'primes:'</span>, primes)</span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'odds:'</span>, odds)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>primes: [3, 5, 7, 2]
odds: [3, 5, 7]</code></pre>
</div>
<p>Subsets of lists and strings can be accessed by specifying ranges of
values in brackets, similar to how we accessed ranges of positions in a
NumPy array. This is commonly referred to as “slicing” the
list/string.</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a>binomial_name <span class="op">=</span> <span class="st">'Drosophila melanogaster'</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a>group <span class="op">=</span> binomial_name[<span class="dv">0</span>:<span class="dv">10</span>]</span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'group:'</span>, group)</span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a>species <span class="op">=</span> binomial_name[<span class="dv">11</span>:<span class="dv">23</span>]</span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'species:'</span>, species)</span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a>chromosomes <span class="op">=</span> [<span class="st">'X'</span>, <span class="st">'Y'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>, <span class="st">'4'</span>]</span>
<span id="cb33-9"><a href="#cb33-9" tabindex="-1"></a>autosomes <span class="op">=</span> chromosomes[<span class="dv">2</span>:<span class="dv">5</span>]</span>
<span id="cb33-10"><a href="#cb33-10" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'autosomes:'</span>, autosomes)</span>
<span id="cb33-11"><a href="#cb33-11" tabindex="-1"></a></span>
<span id="cb33-12"><a href="#cb33-12" tabindex="-1"></a>last <span class="op">=</span> chromosomes[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb33-13"><a href="#cb33-13" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'last:'</span>, last)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>group: Drosophila
species: melanogaster
autosomes: ['2', '3', '4']
last: 4</code></pre>
</div>
<div id="slicing-from-the-end" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="slicing-from-the-end" class="callout-inner">
<h3 class="callout-title">Slicing From the End</h3>
<div class="callout-content">
<p>Use slicing to access only the last four characters of a string or
entries of a list.</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a>string_for_slicing <span class="op">=</span> <span class="st">'Observation date: 02-Feb-2013'</span></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a>list_for_slicing <span class="op">=</span> [[<span class="st">'fluorine'</span>, <span class="st">'F'</span>],</span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a>                    [<span class="st">'chlorine'</span>, <span class="st">'Cl'</span>],</span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a>                    [<span class="st">'bromine'</span>, <span class="st">'Br'</span>],</span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a>                    [<span class="st">'iodine'</span>, <span class="st">'I'</span>],</span>
<span id="cb35-6"><a href="#cb35-6" tabindex="-1"></a>                    [<span class="st">'astatine'</span>, <span class="st">'At'</span>]]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>'2013'
[['chlorine', 'Cl'], ['bromine', 'Br'], ['iodine', 'I'], ['astatine', 'At']]</code></pre>
</div>
<p>Would your solution work regardless of whether you knew beforehand
the length of the string or list (e.g. if you wanted to apply the
solution to a set of lists of different lengths)? If not, try to change
your approach to make it more robust.</p>
<p>Hint: Remember that indices can be negative as well as positive</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>Use negative indices to count elements from the end of a container
(such as list or string):</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a>string_for_slicing[<span class="op">-</span><span class="dv">4</span>:]</span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a>list_for_slicing[<span class="op">-</span><span class="dv">4</span>:]</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="non-continuous-slices" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="non-continuous-slices" class="callout-inner">
<h3 class="callout-title">Non-Continuous Slices</h3>
<div class="callout-content">
<p>So far we’ve seen how to use slicing to take single blocks of
successive entries from a sequence. But what if we want to take a subset
of entries that aren’t next to each other in the sequence?</p>
<p>You can achieve this by providing a third argument to the range
within the brackets, called the <em>step size</em>. The example below
shows how you can take every third entry in a list:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a>primes <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">11</span>, <span class="dv">13</span>, <span class="dv">17</span>, <span class="dv">19</span>, <span class="dv">23</span>, <span class="dv">29</span>, <span class="dv">31</span>, <span class="dv">37</span>]</span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a>subset <span class="op">=</span> primes[<span class="dv">0</span>:<span class="dv">12</span>:<span class="dv">3</span>]</span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'subset'</span>, subset)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">subset</span> <span class="op">[</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="fl">17</span>, <span class="fl">29</span><span class="op">]</span></span></code></pre>
</div>
<p>Notice that the slice taken begins with the first entry in the range,
followed by entries taken at equally-spaced intervals (the steps)
thereafter. If you wanted to begin the subset with the third entry, you
would need to specify that as the starting point of the sliced
range:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a>primes <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">11</span>, <span class="dv">13</span>, <span class="dv">17</span>, <span class="dv">19</span>, <span class="dv">23</span>, <span class="dv">29</span>, <span class="dv">31</span>, <span class="dv">37</span>]</span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a>subset <span class="op">=</span> primes[<span class="dv">2</span>:<span class="dv">12</span>:<span class="dv">3</span>]</span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'subset'</span>, subset)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">subset</span> <span class="op">[</span><span class="fl">5</span>, <span class="fl">13</span>, <span class="fl">23</span>, <span class="fl">37</span><span class="op">]</span></span></code></pre>
</div>
<p>Use the step size argument to create a new string that contains only
every other character in the string “In an octopus’s garden in the
shade”. Start with creating a variable to hold the string:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a>beatles <span class="op">=</span> <span class="st">"In an octopus's garden in the shade"</span></span></code></pre>
</div>
<p>What slice of <code>beatles</code> will produce the following output
(i.e., the first character, third character, and every other character
through the end of the string)?</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>I notpssgre ntesae</code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>To obtain every other character you need to provide a slice with the
step size of 2:</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a>beatles[<span class="dv">0</span>:<span class="dv">35</span>:<span class="dv">2</span>]</span></code></pre>
</div>
<p>You can also leave out the beginning and end of the slice to take the
whole string and provide only the step argument to go every second
element:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a>beatles[::<span class="dv">2</span>]</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>If you want to take a slice from the beginning of a sequence, you can
omit the first index in the range:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a>date <span class="op">=</span> <span class="st">'Monday 4 January 2016'</span></span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a>day <span class="op">=</span> date[<span class="dv">0</span>:<span class="dv">6</span>]</span>
<span id="cb46-3"><a href="#cb46-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Using 0 to begin range:'</span>, day)</span>
<span id="cb46-4"><a href="#cb46-4" tabindex="-1"></a>day <span class="op">=</span> date[:<span class="dv">6</span>]</span>
<span id="cb46-5"><a href="#cb46-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Omitting beginning index:'</span>, day)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Using 0 to begin range: Monday
Omitting beginning index: Monday</code></pre>
</div>
<p>And similarly, you can omit the ending index in the range to take a
slice to the very end of the sequence:</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a>months <span class="op">=</span> [<span class="st">'jan'</span>, <span class="st">'feb'</span>, <span class="st">'mar'</span>, <span class="st">'apr'</span>, <span class="st">'may'</span>, <span class="st">'jun'</span>, <span class="st">'jul'</span>, <span class="st">'aug'</span>, <span class="st">'sep'</span>, <span class="st">'oct'</span>, <span class="st">'nov'</span>, <span class="st">'dec'</span>]</span>
<span id="cb48-2"><a href="#cb48-2" tabindex="-1"></a>sond <span class="op">=</span> months[<span class="dv">8</span>:<span class="dv">12</span>]</span>
<span id="cb48-3"><a href="#cb48-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'With known last position:'</span>, sond)</span>
<span id="cb48-4"><a href="#cb48-4" tabindex="-1"></a>sond <span class="op">=</span> months[<span class="dv">8</span>:<span class="bu">len</span>(months)]</span>
<span id="cb48-5"><a href="#cb48-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Using len() to get last entry:'</span>, sond)</span>
<span id="cb48-6"><a href="#cb48-6" tabindex="-1"></a>sond <span class="op">=</span> months[<span class="dv">8</span>:]</span>
<span id="cb48-7"><a href="#cb48-7" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Omitting ending index:'</span>, sond)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>With known last position: ['sep', 'oct', 'nov', 'dec']
Using len() to get last entry: ['sep', 'oct', 'nov', 'dec']
Omitting ending index: ['sep', 'oct', 'nov', 'dec']</code></pre>
</div>
<div id="overloading" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="overloading" class="callout-inner">
<h3 class="callout-title">Overloading</h3>
<div class="callout-content">
<p><code>+</code> usually means addition, but when used on strings or
lists, it means “concatenate”. Given that, what do you think the
multiplication operator <code>*</code> does on lists? In particular,
what will be the output of the following code?</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a>counts <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>]</span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a>repeats <span class="op">=</span> counts <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb50-3"><a href="#cb50-3" tabindex="-1"></a><span class="bu">print</span>(repeats)</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li><code>[2, 4, 6, 8, 10, 2, 4, 6, 8, 10]</code></li>
<li><code>[4, 8, 12, 16, 20]</code></li>
<li><code>[[2, 4, 6, 8, 10], [2, 4, 6, 8, 10]]</code></li>
<li><code>[2, 4, 6, 8, 10, 4, 8, 12, 16, 20]</code></li>
</ol>
<p>The technical term for this is <em>operator overloading</em>: a
single operator, like <code>+</code> or <code>*</code>, can do different
things depending on what it’s applied to.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>The multiplication operator <code>*</code> used on a list replicates
elements of the list and concatenates them together:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[2, 4, 6, 8, 10, 2, 4, 6, 8, 10]</code></pre>
</div>
<p>It’s equivalent to:</p>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a>counts <span class="op">+</span> counts</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>
<code>[value1, value2, value3, ...]</code> creates a list.</li>
<li>Lists can contain any Python object, including lists (i.e., list of
lists).</li>
<li>Lists are indexed and sliced with square brackets (e.g.,
<code>list[0]</code> and <code>list[2:9]</code>), in the same way as
strings and arrays.</li>
<li>Lists are mutable (i.e., their values can be changed in place).</li>
<li>Strings are immutable (i.e., the characters in them cannot be
changed).</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-05-loop"><p>Content from <a href="05-loop.html">Repeating Actions with Loops</a></p>
<hr>
<p>Last updated on 2025-05-22 |

        <a href="https://github.com/swcarpentry/python-novice-inflammation/edit/main/episodes/05-loop.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 30 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I do the same operations on many different values?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain what a <code>for</code> loop does.</li>
<li>Correctly write <code>for</code> loops to repeat simple
calculations.</li>
<li>Trace changes to a loop variable as the loop runs.</li>
<li>Trace changes to other variables as they are updated by a
<code>for</code> loop.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>In the episode about visualizing data, we wrote Python code that
plots values of interest from our first inflammation dataset
(<code>inflammation-01.csv</code>), which revealed some suspicious
features in it.</p>
<figure><img src="../fig/03-loop_2_0.png" alt="Line graphs showing average, maximum and minimum inflammation across all patients over a 40-day period." class="figure mx-auto d-block"></figure><p>We have a dozen data sets right now and potentially more on the way
if Dr. Maverick can keep up their surprisingly fast clinical trial rate.
We want to create plots for all of our data sets with a single
statement. To do that, we’ll have to teach the computer how to repeat
things.</p>
<p>An example task that we might want to repeat is accessing numbers in
a list, which we will do by printing each number on a line of its
own.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>]</span></code></pre>
</div>
<p>In Python, a list is basically an ordered collection of elements, and
every element has a unique number associated with it — its index. This
means that we can access elements in a list using their indices. For
example, we can get the first number in the list <code>odds</code>, by
using <code>odds[0]</code>. One way to print each number is to use four
<code>print</code> statements:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">0</span>])</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">1</span>])</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">2</span>])</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">3</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1</span></span>
<span><span class="fl">3</span></span>
<span><span class="fl">5</span></span>
<span><span class="fl">7</span></span></code></pre>
</div>
<p>This is a bad approach for three reasons:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Not scalable</strong>. Imagine you need to print a list
that has hundreds of elements. It might be easier to type them in
manually.</p></li>
<li><p><strong>Difficult to maintain</strong>. If we want to decorate
each printed element with an asterisk or any other character, we would
have to change four lines of code. While this might not be a problem for
small lists, it would definitely be a problem for longer ones.</p></li>
<li><p><strong>Fragile</strong>. If we use it with a list that has more
elements than what we initially envisioned, it will only display part of
the list’s elements. A shorter list, on the other hand, will cause an
error because it will be trying to display elements of the list that do
not exist.</p></li>
</ol>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>]</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">0</span>])</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">1</span>])</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">2</span>])</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="bu">print</span>(odds[<span class="dv">3</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1</span></span>
<span><span class="fl">3</span></span>
<span><span class="fl">5</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
&lt;ipython-input-3-7974b6cdaf14&gt; in &lt;module&gt;()
      3 print(odds[1])
      4 print(odds[2])
----&gt; 5 print(odds[3])

IndexError: list index out of range</code></pre>
</div>
<p>Here’s a better approach: a <a href="reference.html#for-loop">for
loop</a></p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>]</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="cf">for</span> num <span class="kw">in</span> odds:</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>    <span class="bu">print</span>(num)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1</span></span>
<span><span class="fl">3</span></span>
<span><span class="fl">5</span></span>
<span><span class="fl">7</span></span></code></pre>
</div>
<p>This is shorter — certainly shorter than something that prints every
number in a hundred-number list — and more robust as well:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">11</span>]</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="cf">for</span> num <span class="kw">in</span> odds:</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>    <span class="bu">print</span>(num)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1</span></span>
<span><span class="fl">3</span></span>
<span><span class="fl">5</span></span>
<span><span class="fl">7</span></span>
<span><span class="fl">9</span></span>
<span><span class="fl">11</span></span></code></pre>
</div>
<p>The improved version uses a <a href="reference.html#for-loop">for
loop</a> to repeat an operation — in this case, printing — once for each
thing in a sequence. The general form of a loop is:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="cf">for</span> variable <span class="kw">in</span> collection:</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>    <span class="co"># do things using variable, such as print</span></span></code></pre>
</div>
<p>Using the odds example above, the loop might look like this:</p>
<figure><img src="../fig/05-loops_image_num.png" alt="Loop variable 'num' being assigned the value of each element in the list odds in turn and then being printed" class="figure mx-auto d-block"></figure><p>where each number (<code>num</code>) in the variable
<code>odds</code> is looped through and printed one number after
another. The other numbers in the diagram denote which loop cycle the
number was printed in (1 being the first loop cycle, and 6 being the
final loop cycle).</p>
<p>We can call the <a href="reference.html#loop-variable">loop
variable</a> anything we like, but there must be a colon at the end of
the line starting the loop, and we must indent anything we want to run
inside the loop. Unlike many other languages, there is no command to
signify the end of the loop body (e.g. <code>end for</code>); everything
indented after the <code>for</code> statement belongs to the loop.</p>
<div id="whats-in-a-name" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="whats-in-a-name" class="callout-inner">
<h3 class="callout-title">What’s in a name?</h3>
<div class="callout-content">
<p>In the example above, the loop variable was given the name
<code>num</code> as a mnemonic; it is short for ‘number’. We can choose
any name we want for variables. We might just as easily have chosen the
name <code>banana</code> for the loop variable, as long as we use the
same name when we invoke the variable inside the loop:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">11</span>]</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="cf">for</span> banana <span class="kw">in</span> odds:</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>    <span class="bu">print</span>(banana)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1</span></span>
<span><span class="fl">3</span></span>
<span><span class="fl">5</span></span>
<span><span class="fl">7</span></span>
<span><span class="fl">9</span></span>
<span><span class="fl">11</span></span></code></pre>
</div>
<p>It is a good idea to choose variable names that are meaningful,
otherwise it would be more difficult to understand what the loop is
doing.</p>
</div>
</div>
</div>
<p>Here’s another loop that repeatedly updates a variable:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>length <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>names <span class="op">=</span> [<span class="st">'Curie'</span>, <span class="st">'Darwin'</span>, <span class="st">'Turing'</span>]</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="cf">for</span> value <span class="kw">in</span> names:</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>    length <span class="op">=</span> length <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'There are'</span>, length, <span class="st">'names in the list.'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>There are 3 names in the list.</code></pre>
</div>
<p>It’s worth tracing the execution of this little program step by step.
Since there are three names in <code>names</code>, the statement on line
4 will be executed three times. The first time around,
<code>length</code> is zero (the value assigned to it on line 1) and
<code>value</code> is <code>Curie</code>. The statement adds 1 to the
old value of <code>length</code>, producing 1, and updates
<code>length</code> to refer to that new value. The next time around,
<code>value</code> is <code>Darwin</code> and <code>length</code> is 1,
so <code>length</code> is updated to be 2. After one more update,
<code>length</code> is 3; since there is nothing left in
<code>names</code> for Python to process, the loop finishes and the
<code>print</code> function on line 5 tells us our final answer.</p>
<p>Note that a loop variable is a variable that is being used to record
progress in a loop. It still exists after the loop is over, and we can
re-use variables previously defined as loop variables as well:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>name <span class="op">=</span> <span class="st">'Rosalind'</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="cf">for</span> name <span class="kw">in</span> [<span class="st">'Curie'</span>, <span class="st">'Darwin'</span>, <span class="st">'Turing'</span>]:</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>    <span class="bu">print</span>(name)</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'after the loop, name is'</span>, name)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Curie
Darwin
Turing
after the loop, name is Turing</code></pre>
</div>
<p>Note also that finding the length of an object is such a common
operation that Python actually has a built-in function to do it called
<code>len</code>:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>([<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">4</span></span></code></pre>
</div>
<p><code>len</code> is much faster than any function we could write
ourselves, and much easier to read than a two-line loop; it will also
give us the length of many other things that we haven’t met yet, so we
should always use it when we can.</p>
<div id="from-1-to-n" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="from-1-to-n" class="callout-inner">
<h3 class="callout-title">From 1 to N</h3>
<div class="callout-content">
<p>Python has a built-in function called <code>range</code> that
generates a sequence of numbers. <code>range</code> can accept 1, 2, or
3 parameters.</p>
<ul>
<li>If one parameter is given, <code>range</code> generates a sequence
of that length, starting at zero and incrementing by 1. For example,
<code>range(3)</code> produces the numbers <code>0, 1, 2</code>.</li>
<li>If two parameters are given, <code>range</code> starts at the first
and ends just before the second, incrementing by one. For example,
<code>range(2, 5)</code> produces <code>2, 3, 4</code>.</li>
<li>If <code>range</code> is given 3 parameters, it starts at the first
one, ends just before the second one, and increments by the third one.
For example, <code>range(3, 10, 2)</code> produces
<code>3, 5, 7, 9</code>.</li>
</ul>
<p>Using <code>range</code>, write a loop that prints the first 3
natural numbers:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="dv">1</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="dv">2</span></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a><span class="dv">3</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">4</span>):</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>    <span class="bu">print</span>(number)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="understanding-the-loops" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="understanding-the-loops" class="callout-inner">
<h3 class="callout-title">Understanding the loops</h3>
<div class="callout-content">
<p>Given the following loop:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>word <span class="op">=</span> <span class="st">'oxygen'</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="cf">for</span> letter <span class="kw">in</span> word:</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>    <span class="bu">print</span>(letter)</span></code></pre>
</div>
<p>How many times is the body of the loop executed?</p>
<ul>
<li>3 times</li>
<li>4 times</li>
<li>5 times</li>
<li>6 times</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>The body of the loop is executed 6 times.</p>
</div>
</div>
</div>
</div>
<div id="computing-powers-with-loops" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="computing-powers-with-loops" class="callout-inner">
<h3 class="callout-title">Computing Powers With Loops</h3>
<div class="callout-content">
<p>Exponentiation is built into Python:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">5</span> <span class="op">**</span> <span class="dv">3</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">125</span></span></code></pre>
</div>
<p>Write a loop that calculates the same result as <code>5 ** 3</code>
using multiplication (and without exponentiation).</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>result <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">3</span>):</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>    result <span class="op">=</span> result <span class="op">*</span> <span class="dv">5</span></span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a><span class="bu">print</span>(result)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="summing-a-list" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="summing-a-list" class="callout-inner">
<h3 class="callout-title">Summing a list</h3>
<div class="callout-content">
<p>Write a loop that calculates the sum of elements in a list by adding
each element and printing the final value, so
<code>[124, 402, 36]</code> prints 562</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">124</span>, <span class="dv">402</span>, <span class="dv">36</span>]</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>summed <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a><span class="cf">for</span> num <span class="kw">in</span> numbers:</span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>    summed <span class="op">=</span> summed <span class="op">+</span> num</span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a><span class="bu">print</span>(summed)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="computing-the-value-of-a-polynomial" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="computing-the-value-of-a-polynomial" class="callout-inner">
<h3 class="callout-title">Computing the Value of a Polynomial</h3>
<div class="callout-content">
<p>The built-in function <code>enumerate</code> takes a sequence (e.g. a
<a href="04-lists.html">list</a>) and generates a new sequence of the
same length. Each element of the new sequence is a pair composed of the
index (0, 1, 2,…) and the value from the original sequence:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="cf">for</span> idx, val <span class="kw">in</span> <span class="bu">enumerate</span>(a_list):</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>    <span class="co"># Do something using idx and val</span></span></code></pre>
</div>
<p>The code above loops through <code>a_list</code>, assigning the index
to <code>idx</code> and the value to <code>val</code>.</p>
<p>Suppose you have encoded a polynomial as a list of coefficients in
the following way: the first element is the constant term, the second
element is the coefficient of the linear term, the third is the
coefficient of the quadratic term, where the polynomial is of the form
<span class="math inline">\(ax^0 + bx^1 + cx^2\)</span>.</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>coefs <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">3</span>]</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>y <span class="op">=</span> coefs[<span class="dv">0</span>] <span class="op">*</span> x<span class="op">**</span><span class="dv">0</span> <span class="op">+</span> coefs[<span class="dv">1</span>] <span class="op">*</span> x<span class="op">**</span><span class="dv">1</span> <span class="op">+</span> coefs[<span class="dv">2</span>] <span class="op">*</span> x<span class="op">**</span><span class="dv">2</span></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="bu">print</span>(y)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">97</span></span></code></pre>
</div>
<p>Write a loop using <code>enumerate(coefs)</code> which computes the
value <code>y</code> of any polynomial, given <code>x</code> and
<code>coefs</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>y <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="cf">for</span> idx, coef <span class="kw">in</span> <span class="bu">enumerate</span>(coefs):</span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a>    y <span class="op">=</span> y <span class="op">+</span> coef <span class="op">*</span> x<span class="op">**</span>idx</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Use <code>for variable in sequence</code> to process the elements of
a sequence one at a time.</li>
<li>The body of a <code>for</code> loop must be indented.</li>
<li>Use <code>len(thing)</code> to determine the length of something
that contains other values.</li>
</ul>
</div>
</div>
</div></section><section id="aio-06-files"><p>Content from <a href="06-files.html">Analyzing Data from Multiple Files</a></p>
<hr>
<p>Last updated on 2025-05-22 |

        <a href="https://github.com/swcarpentry/python-novice-inflammation/edit/main/episodes/06-files.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 20 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I do the same operations on many different files?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Use a library function to get a list of filenames that match a
wildcard pattern.</li>
<li>Write a <code>for</code> loop to process multiple files.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>As a final piece to processing our inflammation data, we need a way
to get a list of all the files in our <code>data</code> directory whose
names start with <code>inflammation-</code> and end with
<code>.csv</code>. The following library will help us to achieve
this:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> glob</span></code></pre>
</div>
<p>The <code>glob</code> library contains a function, also called
<code>glob</code>, that finds files and directories whose names match a
pattern. We provide those patterns as strings: the character
<code>*</code> matches zero or more characters, while <code>?</code>
matches any one character. We can use this to get the names of all the
CSV files in the current directory:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="bu">print</span>(glob.glob(<span class="st">'inflammation*.csv'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['inflammation-05.csv', 'inflammation-11.csv', 'inflammation-12.csv', 'inflammation-08.csv',
'inflammation-03.csv', 'inflammation-06.csv', 'inflammation-09.csv', 'inflammation-07.csv',
'inflammation-10.csv', 'inflammation-02.csv', 'inflammation-04.csv', 'inflammation-01.csv']</code></pre>
</div>
<p>As these examples show, <code>glob.glob</code>’s result is a list of
file and directory paths in arbitrary order. This means we can loop over
it to do something with each filename in turn. In our case, the
“something” we want to do is generate a set of plots for each file in
our inflammation dataset.</p>
<p>If we want to start by analyzing just the first three files in
alphabetical order, we can use the <code>sorted</code> built-in function
to generate a new sorted list from the <code>glob.glob</code>
output:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="im">import</span> glob</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>filenames <span class="op">=</span> <span class="bu">sorted</span>(glob.glob(<span class="st">'inflammation*.csv'</span>))</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>filenames <span class="op">=</span> filenames[<span class="dv">0</span>:<span class="dv">3</span>]</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> filenames:</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>    <span class="bu">print</span>(filename)</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>    data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span>filename, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>    fig <span class="op">=</span> matplotlib.pyplot.figure(figsize<span class="op">=</span>(<span class="fl">10.0</span>, <span class="fl">3.0</span>))</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a>    axes1 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>)</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>    axes2 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>    axes3 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>)</span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a>    axes1.set_ylabel(<span class="st">'average'</span>)</span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a>    axes1.plot(numpy.mean(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a>    axes2.set_ylabel(<span class="st">'max'</span>)</span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a>    axes2.plot(numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a>    axes3.set_ylabel(<span class="st">'min'</span>)</span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a>    axes3.plot(numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a></span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a>    fig.tight_layout()</span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a>    matplotlib.pyplot.show()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>inflammation-01.csv</code></pre>
</div>
<figure><img src="../fig/03-loop_49_1.png" alt="Output from the first iteration of the for loop. Three line graphs showing the daily average, maximum and minimum inflammation over a 40-day period for all patients in the first dataset." class="figure mx-auto d-block"></figure><div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>inflammation-02.csv</code></pre>
</div>
<figure><img src="../fig/03-loop_49_3.png" alt="Output from the second iteration of the for loop. Three line graphs showing the daily average, maximum and minimum inflammation over a 40-day period for all patients in the second dataset." class="figure mx-auto d-block"></figure><div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>inflammation-03.csv</code></pre>
</div>
<figure><img src="../fig/03-loop_49_5.png" alt="Output from the third iteration of the for loop. Three line graphs showing the daily average, maximum and minimum inflammation over a 40-day period for all patients in the third dataset." class="figure mx-auto d-block"></figure><p>The plots generated for the second clinical trial file look very
similar to the plots for the first file: their average plots show
similar “noisy” rises and falls; their maxima plots show exactly the
same linear rise and fall; and their minima plots show similar staircase
structures.</p>
<p>The third dataset shows much noisier average and maxima plots that
are far less suspicious than the first two datasets, however the minima
plot shows that the third dataset minima is consistently zero across
every day of the trial. If we produce a heat map for the third data file
we see the following:</p>
<figure><img src="../fig/inflammation-03-imshow.svg" alt="Heat map of the third inflammation dataset. Note that there are sporadic zero values throughout the entire dataset, and the last patient only has zero values over the 40 day study." class="figure mx-auto d-block"></figure><p>We can see that there are zero values sporadically distributed across
all patients and days of the clinical trial, suggesting that there were
potential issues with data collection throughout the trial. In addition,
we can see that the last patient in the study didn’t have any
inflammation flare-ups at all throughout the trial, suggesting that they
may not even suffer from arthritis!</p>
<div id="plotting-differences" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="plotting-differences" class="callout-inner">
<h3 class="callout-title">Plotting Differences</h3>
<div class="callout-content">
<p>Plot the difference between the average inflammations reported in the
first and second datasets (stored in <code>inflammation-01.csv</code>
and <code>inflammation-02.csv</code>, correspondingly), i.e., the
difference between the leftmost plots of the first two figures.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="im">import</span> glob</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>filenames <span class="op">=</span> <span class="bu">sorted</span>(glob.glob(<span class="st">'inflammation*.csv'</span>))</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>data0 <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span>filenames[<span class="dv">0</span>], delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>data1 <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span>filenames[<span class="dv">1</span>], delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a>fig <span class="op">=</span> matplotlib.pyplot.figure(figsize<span class="op">=</span>(<span class="fl">10.0</span>, <span class="fl">3.0</span>))</span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a>matplotlib.pyplot.ylabel(<span class="st">'Difference in average'</span>)</span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a>matplotlib.pyplot.plot(numpy.mean(data0, axis<span class="op">=</span><span class="dv">0</span>) <span class="op">-</span> numpy.mean(data1, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a>fig.tight_layout()</span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a>matplotlib.pyplot.show()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="generate-composite-statistics" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="generate-composite-statistics" class="callout-inner">
<h3 class="callout-title">Generate Composite Statistics</h3>
<div class="callout-content">
<p>Use each of the files once to generate a dataset containing values
averaged over all patients by completing the code inside the loop given
below:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>filenames <span class="op">=</span> glob.glob(<span class="st">'inflammation*.csv'</span>)</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>composite_data <span class="op">=</span> numpy.zeros((<span class="dv">60</span>, <span class="dv">40</span>))</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> filenames:</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>    <span class="co"># sum each new file's data into composite_data as it's read</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>    <span class="co">#</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="co"># and then divide the composite_data by number of samples</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>composite_data <span class="op">=</span> composite_data <span class="op">/</span> <span class="bu">len</span>(filenames)</span></code></pre>
</div>
<p>Then use pyplot to generate average, max, and min for all
patients.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="im">import</span> glob</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>filenames <span class="op">=</span> glob.glob(<span class="st">'inflammation*.csv'</span>)</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>composite_data <span class="op">=</span> numpy.zeros((<span class="dv">60</span>, <span class="dv">40</span>))</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> filenames:</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a>    data <span class="op">=</span> numpy.loadtxt(fname <span class="op">=</span> filename, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a>    composite_data <span class="op">=</span> composite_data <span class="op">+</span> data</span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a>composite_data <span class="op">=</span> composite_data <span class="op">/</span> <span class="bu">len</span>(filenames)</span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a>fig <span class="op">=</span> matplotlib.pyplot.figure(figsize<span class="op">=</span>(<span class="fl">10.0</span>, <span class="fl">3.0</span>))</span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a></span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a>axes1 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>)</span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a>axes2 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a>axes3 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>)</span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a>axes1.set_ylabel(<span class="st">'average'</span>)</span>
<span id="cb10-21"><a href="#cb10-21" tabindex="-1"></a>axes1.plot(numpy.mean(composite_data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb10-22"><a href="#cb10-22" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" tabindex="-1"></a>axes2.set_ylabel(<span class="st">'max'</span>)</span>
<span id="cb10-24"><a href="#cb10-24" tabindex="-1"></a>axes2.plot(numpy.amax(composite_data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb10-25"><a href="#cb10-25" tabindex="-1"></a></span>
<span id="cb10-26"><a href="#cb10-26" tabindex="-1"></a>axes3.set_ylabel(<span class="st">'min'</span>)</span>
<span id="cb10-27"><a href="#cb10-27" tabindex="-1"></a>axes3.plot(numpy.amin(composite_data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb10-28"><a href="#cb10-28" tabindex="-1"></a></span>
<span id="cb10-29"><a href="#cb10-29" tabindex="-1"></a>fig.tight_layout()</span>
<span id="cb10-30"><a href="#cb10-30" tabindex="-1"></a></span>
<span id="cb10-31"><a href="#cb10-31" tabindex="-1"></a>matplotlib.pyplot.show()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>After spending some time investigating the heat map and statistical
plots, as well as doing the above exercises to plot differences between
datasets and to generate composite patient statistics, we gain some
insight into the twelve clinical trial datasets.</p>
<p>The datasets appear to fall into two categories:</p>
<ul>
<li>seemingly “ideal” datasets that agree excellently with
Dr. Maverick’s claims, but display suspicious maxima and minima (such as
<code>inflammation-01.csv</code> and
<code>inflammation-02.csv</code>)</li>
<li>“noisy” datasets that somewhat agree with Dr. Maverick’s claims, but
show concerning data collection issues such as sporadic missing values
and even an unsuitable candidate making it into the clinical trial.</li>
</ul>
<p>In fact, it appears that all three of the “noisy” datasets
(<code>inflammation-03.csv</code>, <code>inflammation-08.csv</code>, and
<code>inflammation-11.csv</code>) are identical down to the last value.
Armed with this information, we confront Dr. Maverick about the
suspicious data and duplicated files.</p>
<p>Dr. Maverick has admitted to fabricating the clinical data for their
drug trial. They did this after discovering that the initial trial had
several issues, including unreliable data recording and poor participant
selection. In order to prove the efficacy of their drug, they created
fake data. When asked for additional data, they attempted to generate
more fake datasets, and also included the original poor-quality dataset
several times in order to make the trials seem more realistic.</p>
<p>Congratulations! We’ve investigated the inflammation data and proven
that the datasets have been synthetically generated.</p>
<p>But it would be a shame to throw away the synthetic datasets that
have taught us so much already, so we’ll forgive the imaginary
Dr. Maverick and continue to use the data to learn how to program.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Use <code>glob.glob(pattern)</code> to create a list of files whose
names match a pattern.</li>
<li>Use <code>*</code> in a pattern to match zero or more characters,
and <code>?</code> to match any single character.</li>
</ul>
</div>
</div>
</div></section><section id="aio-07-cond"><p>Content from <a href="07-cond.html">Making Choices</a></p>
<hr>
<p>Last updated on 2023-11-17 |

        <a href="https://github.com/swcarpentry/python-novice-inflammation/edit/main/episodes/07-cond.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 30 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can my programs do different things based on data values?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Write conditional statements including <code>if</code>,
<code>elif</code>, and <code>else</code> branches.</li>
<li>Correctly evaluate expressions containing <code>and</code> and
<code>or</code>.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>In our last lesson, we discovered something suspicious was going on
in our inflammation data by drawing some plots. How can we use Python to
automatically recognize the different features we saw, and take a
different action for each? In this lesson, we’ll learn how to write code
that runs only when certain conditions are true.</p>
<section><h2 class="section-heading" id="conditionals">Conditionals<a class="anchor" aria-label="anchor" href="#conditionals"></a>
</h2>
<hr class="half-width">
<p>We can ask Python to take different actions, depending on a
condition, with an <code>if</code> statement:</p>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Instructor Note </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" aria-labelledby="headingInstructor1" data-bs-parent="#accordionInstructor1">
<div class="accordion-body">
<p>The following example will lead to a syntax error in the Python
prompt, as it seems to expect exactly one top-level statement per
invocation. Removing <code>print('done')</code> from the example will
fix the problem.</p>
<p>IPython executes the example from a single prompt without throwing an
error.</p>
</div>
</div>
</div>
</div>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>num <span class="op">=</span> <span class="dv">37</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="cf">if</span> num <span class="op">&gt;</span> <span class="dv">100</span>:</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'greater'</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'not greater'</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'done'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>not greater
done</code></pre>
</div>
<p>The second line of this code uses the keyword <code>if</code> to tell
Python that we want to make a choice. If the test that follows the
<code>if</code> statement is true, the body of the <code>if</code>
(i.e., the set of lines indented underneath it) is executed, and
“greater” is printed. If the test is false, the body of the
<code>else</code> is executed instead, and “not greater” is printed.
Only one or the other is ever executed before continuing on with program
execution to print “done”:</p>
<figure><img src="../fig/python-flowchart-conditional.png" alt="A flowchart diagram of the if-else construct that tests if variable num is greater than 100" class="figure mx-auto d-block"></figure><p>Conditional statements don’t have to include an <code>else</code>. If
there isn’t one, Python simply does nothing if the test is false:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>num <span class="op">=</span> <span class="dv">53</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'before conditional...'</span>)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="cf">if</span> num <span class="op">&gt;</span> <span class="dv">100</span>:</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>    <span class="bu">print</span>(num, <span class="st">'is greater than 100'</span>)</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'...after conditional'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>before conditional...
...after conditional</code></pre>
</div>
<p>We can also chain several tests together using <code>elif</code>,
which is short for “else if”. The following Python code uses
<code>elif</code> to print the sign of a number.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>num <span class="op">=</span> <span class="op">-</span><span class="dv">3</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="cf">if</span> num <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>    <span class="bu">print</span>(num, <span class="st">'is positive'</span>)</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="cf">elif</span> num <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>    <span class="bu">print</span>(num, <span class="st">'is zero'</span>)</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>    <span class="bu">print</span>(num, <span class="st">'is negative'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>-3 is negative</code></pre>
</div>
<p>Note that to test for equality we use a double equals sign
<code>==</code> rather than a single equals sign <code>=</code> which is
used to assign values.</p>
<div id="comparing-in-python" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="comparing-in-python" class="callout-inner">
<h3 class="callout-title">Comparing in Python</h3>
<div class="callout-content">
<p>Along with the <code>&gt;</code> and <code>==</code> operators we
have already used for comparing values in our conditionals, there are a
few more options to know about:</p>
<ul>
<li>
<code>&gt;</code>: greater than</li>
<li>
<code>&lt;</code>: less than</li>
<li>
<code>==</code>: equal to</li>
<li>
<code>!=</code>: does not equal</li>
<li>
<code>&gt;=</code>: greater than or equal to</li>
<li>
<code>&lt;=</code>: less than or equal to</li>
</ul>
</div>
</div>
</div>
<p>We can also combine tests using <code>and</code> and <code>or</code>.
<code>and</code> is only true if both parts are true:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="cf">if</span> (<span class="dv">1</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="kw">and</span> (<span class="op">-</span><span class="dv">1</span> <span class="op">&gt;=</span> <span class="dv">0</span>):</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'both parts are true'</span>)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'at least one part is false'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>at least one part is false</code></pre>
</div>
<p>while <code>or</code> is true if at least one part is true:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="cf">if</span> (<span class="dv">1</span> <span class="op">&lt;</span> <span class="dv">0</span>) <span class="kw">or</span> (<span class="dv">1</span> <span class="op">&gt;=</span> <span class="dv">0</span>):</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'at least one test is true'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>at least one test is true</code></pre>
</div>
<div id="true-and-false" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="true-and-false" class="callout-inner">
<h3 class="callout-title">
<code>True</code> and <code>False</code>
</h3>
<div class="callout-content">
<p><code>True</code> and <code>False</code> are special words in Python
called <code>booleans</code>, which represent truth values. A statement
such as <code>1 &lt; 0</code> returns the value <code>False</code>,
while <code>-1 &lt; 0</code> returns the value <code>True</code>.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="checking-our-data">Checking our Data<a class="anchor" aria-label="anchor" href="#checking-our-data"></a>
</h2>
<hr class="half-width">
<p>Now that we’ve seen how conditionals work, we can use them to check
for the suspicious features we saw in our inflammation data. We are
about to use functions provided by the <code>numpy</code> module again.
Therefore, if you’re working in a new Python session, make sure to load
the module and data with:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span><span class="st">'inflammation-01.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span></code></pre>
</div>
<p>From the first couple of plots, we saw that maximum daily
inflammation exhibits a strange behavior and raises one unit a day.
Wouldn’t it be a good idea to detect such behavior and report it as
suspicious? Let’s do that! However, instead of checking every single day
of the study, let’s merely check if maximum inflammation in the
beginning (day 0) and in the middle (day 20) of the study are equal to
the corresponding day numbers.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>max_inflammation_0 <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>)[<span class="dv">0</span>]</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>max_inflammation_20 <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>)[<span class="dv">20</span>]</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="cf">if</span> max_inflammation_0 <span class="op">==</span> <span class="dv">0</span> <span class="kw">and</span> max_inflammation_20 <span class="op">==</span> <span class="dv">20</span>:</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Suspicious looking maxima!'</span>)</span></code></pre>
</div>
<p>We also saw a different problem in the third dataset; the minima per
day were all zero (looks like a healthy person snuck into our study). We
can also check for this with an <code>elif</code> condition:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="cf">elif</span> numpy.<span class="bu">sum</span>(numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>)) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Minima add up to zero!'</span>)</span></code></pre>
</div>
<p>And if neither of these conditions are true, we can use
<code>else</code> to give the all-clear:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Seems OK!'</span>)</span></code></pre>
</div>
<p>Let’s test that out:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span><span class="st">'inflammation-01.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>max_inflammation_0 <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>)[<span class="dv">0</span>]</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>max_inflammation_20 <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>)[<span class="dv">20</span>]</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="cf">if</span> max_inflammation_0 <span class="op">==</span> <span class="dv">0</span> <span class="kw">and</span> max_inflammation_20 <span class="op">==</span> <span class="dv">20</span>:</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Suspicious looking maxima!'</span>)</span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="cf">elif</span> numpy.<span class="bu">sum</span>(numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>)) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Minima add up to zero!'</span>)</span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Seems OK!'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Suspicious looking maxima!</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span><span class="st">'inflammation-03.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>max_inflammation_0 <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>)[<span class="dv">0</span>]</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>max_inflammation_20 <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>)[<span class="dv">20</span>]</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a><span class="cf">if</span> max_inflammation_0 <span class="op">==</span> <span class="dv">0</span> <span class="kw">and</span> max_inflammation_20 <span class="op">==</span> <span class="dv">20</span>:</span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Suspicious looking maxima!'</span>)</span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a><span class="cf">elif</span> numpy.<span class="bu">sum</span>(numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>)) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Minima add up to zero!'</span>)</span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Seems OK!'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Minima add up to zero!</code></pre>
</div>
<p>In this way, we have asked Python to do something different depending
on the condition of our data. Here we printed messages in all cases, but
we could also imagine not using the <code>else</code> catch-all so that
messages are only printed when something is wrong, freeing us from
having to manually examine every plot for features we’ve seen
before.</p>
<div id="how-many-paths" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="how-many-paths" class="callout-inner">
<h3 class="callout-title">How Many Paths?</h3>
<div class="callout-content">
<p>Consider this code:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="cf">if</span> <span class="dv">4</span> <span class="op">&gt;</span> <span class="dv">5</span>:</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'A'</span>)</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="cf">elif</span> <span class="dv">4</span> <span class="op">==</span> <span class="dv">5</span>:</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'B'</span>)</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="cf">elif</span> <span class="dv">4</span> <span class="op">&lt;</span> <span class="dv">5</span>:</span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'C'</span>)</span></code></pre>
</div>
<p>Which of the following would be printed if you were to run this code?
Why did you pick this answer?</p>
<ol style="list-style-type: decimal">
<li>A</li>
<li>B</li>
<li>C</li>
<li>B and C</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>C gets printed because the first two conditions,
<code>4 &gt; 5</code> and <code>4 == 5</code>, are not true, but
<code>4 &lt; 5</code> is true. In this case only one of these conditions
can be true for at a time, but in other scenarios multiple
<code>elif</code> conditions could be met. In these scenarios only the
action associated with the first true <code>elif</code> condition will
occur, starting from the top of the conditional section. <img src="../fig/python-else-if.png" alt="A flowchart diagram of a conditional section with multiple elif conditions and some possible outcomes." class="figure">
This contrasts with the case of multiple <code>if</code> statements,
where every action can occur as long as their condition is met. <img src="../fig/python-multi-if.png" alt="A flowchart diagram of a conditional section with multiple if statements and some possible outcomes." class="figure"></p>
</div>
</div>
</div>
</div>
<div id="what-is-truth" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="what-is-truth" class="callout-inner">
<h3 class="callout-title">What Is Truth?</h3>
<div class="callout-content">
<p><code>True</code> and <code>False</code> booleans are not the only
values in Python that are true and false. In fact, <em>any</em> value
can be used in an <code>if</code> or <code>elif</code>. After reading
and running the code below, explain what the rule is for which values
are considered true and which are considered false.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="cf">if</span> <span class="st">''</span>:</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'empty string is true'</span>)</span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a><span class="cf">if</span> <span class="st">'word'</span>:</span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'word is true'</span>)</span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a><span class="cf">if</span> []:</span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'empty list is true'</span>)</span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a><span class="cf">if</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]:</span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'non-empty list is true'</span>)</span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a><span class="cf">if</span> <span class="dv">0</span>:</span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'zero is true'</span>)</span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a><span class="cf">if</span> <span class="dv">1</span>:</span>
<span id="cb20-12"><a href="#cb20-12" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'one is true'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="thats-not-not-what-i-meant" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="thats-not-not-what-i-meant" class="callout-inner">
<h3 class="callout-title">That’s Not Not What I Meant</h3>
<div class="callout-content">
<p>Sometimes it is useful to check whether some condition is not true.
The Boolean operator <code>not</code> can do this explicitly. After
reading and running the code below, write some <code>if</code>
statements that use <code>not</code> to test the rule that you
formulated in the previous challenge.</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> <span class="st">''</span>:</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'empty string is not true'</span>)</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> <span class="st">'word'</span>:</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'word is not true'</span>)</span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> <span class="kw">not</span> <span class="va">True</span>:</span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'not not True is true'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="close-enough" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="close-enough" class="callout-inner">
<h3 class="callout-title">Close Enough</h3>
<div class="callout-content">
<p>Write some conditions that print <code>True</code> if the variable
<code>a</code> is within 10% of the variable <code>b</code> and
<code>False</code> otherwise. Compare your implementation with your
partner’s: do you get the same answer for all possible pairs of
numbers?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Hint </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>There is a <a href="https://docs.python.org/3/library/functions.html#abs" class="external-link">built-in
function <code>abs</code></a> that returns the absolute value of a
number:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">abs</span>(<span class="op">-</span><span class="dv">12</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">12</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Solution 1 </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>a <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>b <span class="op">=</span> <span class="fl">5.1</span></span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a><span class="cf">if</span> <span class="bu">abs</span>(a <span class="op">-</span> b) <span class="op">&lt;=</span> <span class="fl">0.1</span> <span class="op">*</span> <span class="bu">abs</span>(b):</span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'True'</span>)</span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'False'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Solution 2 </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">abs</span>(a <span class="op">-</span> b) <span class="op">&lt;=</span> <span class="fl">0.1</span> <span class="op">*</span> <span class="bu">abs</span>(b))</span></code></pre>
</div>
<p>This works because the Booleans <code>True</code> and
<code>False</code> have string representations which can be printed.</p>
</div>
</div>
</div>
</div>
<div id="in-place-operators" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="in-place-operators" class="callout-inner">
<h3 class="callout-title">In-Place Operators</h3>
<div class="callout-content">
<p>Python (and most other languages in the C family) provides <a href="reference.html#in-place-operators">in-place operators</a> that
work like this:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">1</span>  <span class="co"># original value</span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>x <span class="op">+=</span> <span class="dv">1</span> <span class="co"># add one to x, assigning result back to x</span></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>x <span class="op">*=</span> <span class="dv">3</span> <span class="co"># multiply x by 3</span></span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a><span class="bu">print</span>(x)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">6</span></span></code></pre>
</div>
<p>Write some code that sums the positive and negative numbers in a list
separately, using in-place operators. Do you think the result is more or
less readable than writing the same without in-place operators?</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>positive_sum <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>negative_sum <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>test_list <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">7</span>, <span class="op">-</span><span class="dv">8</span>]</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="cf">for</span> num <span class="kw">in</span> test_list:</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a>    <span class="cf">if</span> num <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a>        positive_sum <span class="op">+=</span> num</span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a>    <span class="cf">elif</span> num <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb28-9"><a href="#cb28-9" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb28-10"><a href="#cb28-10" tabindex="-1"></a>        negative_sum <span class="op">+=</span> num</span>
<span id="cb28-11"><a href="#cb28-11" tabindex="-1"></a><span class="bu">print</span>(positive_sum, negative_sum)</span></code></pre>
</div>
<p>Here <code>pass</code> means “don’t do anything”. In this particular
case, it’s not actually needed, since if <code>num == 0</code> neither
sum needs to change, but it illustrates the use of <code>elif</code> and
<code>pass</code>.</p>
</div>
</div>
</div>
</div>
<div id="sorting-a-list-into-buckets" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="sorting-a-list-into-buckets" class="callout-inner">
<h3 class="callout-title">Sorting a List Into Buckets</h3>
<div class="callout-content">
<p>In our <code>data</code> folder, large data sets are stored in files
whose names start with “inflammation-” and small data sets – in files
whose names start with “small-”. We also have some other files that we
do not care about at this point. We’d like to break all these files into
three lists called <code>large_files</code>, <code>small_files</code>,
and <code>other_files</code>, respectively.</p>
<p>Add code to the template below to do this. Note that the string
method <a href="https://docs.python.org/3/library/stdtypes.html#str.startswith" class="external-link"><code>startswith</code></a>
returns <code>True</code> if and only if the string it is called on
starts with the string passed as an argument, that is:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="co">'String'</span>.startswith(<span class="st">'Str'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">True</span></span></code></pre>
</div>
<p>But</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co">'String'</span>.startswith(<span class="st">'str'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">False</span></span></code></pre>
</div>
<p>Use the following Python code as your starting point:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a>filenames <span class="op">=</span> [<span class="st">'inflammation-01.csv'</span>,</span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a>         <span class="st">'myscript.py'</span>,</span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a>         <span class="st">'inflammation-02.csv'</span>,</span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a>         <span class="st">'small-01.csv'</span>,</span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a>         <span class="st">'small-02.csv'</span>]</span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a>large_files <span class="op">=</span> []</span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a>small_files <span class="op">=</span> []</span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a>other_files <span class="op">=</span> []</span></code></pre>
</div>
<p>Your solution should:</p>
<ol style="list-style-type: decimal">
<li>loop over the names of the files</li>
<li>figure out which group each filename belongs in</li>
<li>append the filename to that list</li>
</ol>
<p>In the end the three lists should be:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a>large_files <span class="op">=</span> [<span class="st">'inflammation-01.csv'</span>, <span class="st">'inflammation-02.csv'</span>]</span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a>small_files <span class="op">=</span> [<span class="st">'small-01.csv'</span>, <span class="st">'small-02.csv'</span>]</span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a>other_files <span class="op">=</span> [<span class="st">'myscript.py'</span>]</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> filenames:</span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a>    <span class="cf">if</span> filename.startswith(<span class="st">'inflammation-'</span>):</span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a>        large_files.append(filename)</span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a>    <span class="cf">elif</span> filename.startswith(<span class="st">'small-'</span>):</span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a>        small_files.append(filename)</span>
<span id="cb35-6"><a href="#cb35-6" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb35-7"><a href="#cb35-7" tabindex="-1"></a>        other_files.append(filename)</span>
<span id="cb35-8"><a href="#cb35-8" tabindex="-1"></a></span>
<span id="cb35-9"><a href="#cb35-9" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'large_files:'</span>, large_files)</span>
<span id="cb35-10"><a href="#cb35-10" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'small_files:'</span>, small_files)</span>
<span id="cb35-11"><a href="#cb35-11" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'other_files:'</span>, other_files)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="counting-vowels" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="counting-vowels" class="callout-inner">
<h3 class="callout-title">Counting Vowels</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Write a loop that counts the number of vowels in a character
string.</li>
<li>Test it on a few individual words and full sentences.</li>
<li>Once you are done, compare your solution to your neighbor’s. Did you
make the same decisions about how to handle the letter ‘y’ (which some
people think is a vowel, and some do not)?</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Show me the solution </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a>vowels <span class="op">=</span> <span class="st">'aeiouAEIOU'</span></span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a>sentence <span class="op">=</span> <span class="st">'Mary had a little lamb.'</span></span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a>count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a><span class="cf">for</span> char <span class="kw">in</span> sentence:</span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a>    <span class="cf">if</span> char <span class="kw">in</span> vowels:</span>
<span id="cb36-6"><a href="#cb36-6" tabindex="-1"></a>        count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb36-7"><a href="#cb36-7" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The number of vowels in this string is '</span> <span class="op">+</span> <span class="bu">str</span>(count))</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Use <code>if condition</code> to start a conditional statement,
<code>elif condition</code> to provide additional tests, and
<code>else</code> to provide a default.</li>
<li>The bodies of the branches of conditional statements must be
indented.</li>
<li>Use <code>==</code> to test for equality.</li>
<li>
<code>X and Y</code> is only true if both <code>X</code> and
<code>Y</code> are true.</li>
<li>
<code>X or Y</code> is true if either <code>X</code> or
<code>Y</code>, or both, are true.</li>
<li>Zero, the empty string, and the empty list are considered false; all
other numbers, strings, and lists are considered true.</li>
<li>
<code>True</code> and <code>False</code> represent truth
values.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-08-func"><p>Content from <a href="08-func.html">Creating Functions</a></p>
<hr>
<p>Last updated on 2025-05-22 |

        <a href="https://github.com/swcarpentry/python-novice-inflammation/edit/main/episodes/08-func.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 30 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I define new functions?</li>
<li>What’s the difference between defining and calling a function?</li>
<li>What happens when I call a function?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Define a function that takes parameters.</li>
<li>Return a value from a function.</li>
<li>Test and debug a function.</li>
<li>Set default values for function parameters.</li>
<li>Explain why we should divide programs into small, single-purpose
functions.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>At this point, we’ve seen that code can have Python make decisions
about what it sees in our data. What if we want to convert some of our
data, like taking a temperature in Fahrenheit and converting it to
Celsius. We could write something like this for converting a single
number</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>fahrenheit_val <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>celsius_val <span class="op">=</span> ((fahrenheit_val <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="dv">5</span><span class="op">/</span><span class="dv">9</span>))</span></code></pre>
</div>
<p>and for a second number we could just copy the line and rename the
variables</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>fahrenheit_val <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>celsius_val <span class="op">=</span> ((fahrenheit_val <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="dv">5</span><span class="op">/</span><span class="dv">9</span>))</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>fahrenheit_val2 <span class="op">=</span> <span class="dv">43</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>celsius_val2 <span class="op">=</span> ((fahrenheit_val2 <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="dv">5</span><span class="op">/</span><span class="dv">9</span>))</span></code></pre>
</div>
<p>But we would be in trouble as soon as we had to do this more than a
couple times. Cutting and pasting it is going to make our code get very
long and very repetitive, very quickly. We’d like a way to package our
code so that it is easier to reuse, a shorthand way of re-executing
longer pieces of code. In Python we can use ‘functions’. Let’s start by
defining a function <code>fahr_to_celsius</code> that converts
temperatures from Fahrenheit to Celsius:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="kw">def</span> explicit_fahr_to_celsius(temp):</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>    <span class="co"># Assign the converted value to a variable</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>    converted <span class="op">=</span> ((temp <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="dv">5</span><span class="op">/</span><span class="dv">9</span>))</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>    <span class="co"># Return the value of the new variable</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>    <span class="cf">return</span> converted</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>    </span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="kw">def</span> fahr_to_celsius(temp):</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>    <span class="co"># Return converted value more efficiently using the return</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>    <span class="co"># function without creating a new variable. This code does</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>    <span class="co"># the same thing as the previous function but it is more explicit</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>    <span class="co"># in explaining how the return command works.</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>    <span class="cf">return</span> ((temp <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="dv">5</span><span class="op">/</span><span class="dv">9</span>))</span></code></pre>
</div>
<figure><img src="../fig/python-function.svg" alt="Labeled parts of a Python function definition" class="figure mx-auto d-block"></figure><p>The function definition opens with the keyword <code>def</code>
followed by the name of the function (<code>fahr_to_celsius</code>) and
a parenthesized list of parameter names (<code>temp</code>). The <a href="reference.html#body">body</a> of the function — the statements
that are executed when it runs — is indented below the definition line.
The body concludes with a <code>return</code> keyword followed by the
return value.</p>
<p>When we call the function, the values we pass to it are assigned to
those variables so that we can use them inside the function. Inside the
function, we use a <a href="reference.html#return-statement">return
statement</a> to send a result back to whoever asked for it.</p>
<p>Let’s try running our function.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>fahr_to_celsius(<span class="dv">32</span>)</span></code></pre>
</div>
<p>This command should call our function, using “32” as the input and
return the function value.</p>
<p>In fact, calling our own function is no different from calling any
other function:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'freezing point of water:'</span>, fahr_to_celsius(<span class="dv">32</span>), <span class="st">'C'</span>)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'boiling point of water:'</span>, fahr_to_celsius(<span class="dv">212</span>), <span class="st">'C'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>freezing point of water: 0.0 C
boiling point of water: 100.0 C</code></pre>
</div>
<p>We’ve successfully called the function that we defined, and we have
access to the value that we returned.</p>
<section><h2 class="section-heading" id="composing-functions">Composing Functions<a class="anchor" aria-label="anchor" href="#composing-functions"></a>
</h2>
<hr class="half-width">
<p>Now that we’ve seen how to turn Fahrenheit into Celsius, we can also
write the function to turn Celsius into Kelvin:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="kw">def</span> celsius_to_kelvin(temp_c):</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>    <span class="cf">return</span> temp_c <span class="op">+</span> <span class="fl">273.15</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'freezing point of water in Kelvin:'</span>, celsius_to_kelvin(<span class="fl">0.</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>freezing point of water in Kelvin: 273.15</code></pre>
</div>
<p>What about converting Fahrenheit to Kelvin? We could write out the
formula, but we don’t need to. Instead, we can <a href="reference.html#compose">compose</a> the two functions we have
already created:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="kw">def</span> fahr_to_kelvin(temp_f):</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>    temp_c <span class="op">=</span> fahr_to_celsius(temp_f)</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>    temp_k <span class="op">=</span> celsius_to_kelvin(temp_c)</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>    <span class="cf">return</span> temp_k</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'boiling point of water in Kelvin:'</span>, fahr_to_kelvin(<span class="fl">212.0</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>boiling point of water in Kelvin: 373.15</code></pre>
</div>
<p>This is our first taste of how larger programs are built: we define
basic operations, then combine them in ever-larger chunks to get the
effect we want. Real-life functions will usually be larger than the ones
shown here — typically half a dozen to a few dozen lines — but they
shouldn’t ever be much longer than that, or the next person who reads it
won’t be able to understand what’s going on.</p>
</section><section><h2 class="section-heading" id="variable-scope">Variable Scope<a class="anchor" aria-label="anchor" href="#variable-scope"></a>
</h2>
<hr class="half-width">
<p>In composing our temperature conversion functions, we created
variables inside of those functions, <code>temp</code>,
<code>temp_c</code>, <code>temp_f</code>, and <code>temp_k</code>. We
refer to these variables as <a href="reference.html#local-variable">local variables</a> because they no
longer exist once the function is done executing. If we try to access
their values outside of the function, we will encounter an error:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Again, temperature in Kelvin was:'</span>, temp_k)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-1-eed2471d229b&gt; in &lt;module&gt;
----&gt; 1 print('Again, temperature in Kelvin was:', temp_k)

NameError: name 'temp_k' is not defined</code></pre>
</div>
<p>If you want to reuse the temperature in Kelvin after you have
calculated it with <code>fahr_to_kelvin</code>, you can store the result
of the function call in a variable:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>temp_kelvin <span class="op">=</span> fahr_to_kelvin(<span class="fl">212.0</span>)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'temperature in Kelvin was:'</span>, temp_kelvin)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>temperature in Kelvin was: 373.15</code></pre>
</div>
<p>The variable <code>temp_kelvin</code>, being defined outside any
function, is said to be <a href="reference.html#global-variable">global</a>.</p>
<p>Inside a function, one can read the value of such global
variables:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="kw">def</span> print_temperatures():</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'temperature in Fahrenheit was:'</span>, temp_fahr)</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'temperature in Kelvin was:'</span>, temp_kelvin)</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>temp_fahr <span class="op">=</span> <span class="fl">212.0</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>temp_kelvin <span class="op">=</span> fahr_to_kelvin(temp_fahr)</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a>print_temperatures()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>temperature in Fahrenheit was: 212.0
temperature in Kelvin was: 373.15</code></pre>
</div>
</section><section><h2 class="section-heading" id="tidying-up">Tidying up<a class="anchor" aria-label="anchor" href="#tidying-up"></a>
</h2>
<hr class="half-width">
<p>Now that we know how to wrap bits of code up in functions, we can
make our inflammation analysis easier to read and easier to reuse.
First, let’s make a <code>visualize</code> function that generates our
plots:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="kw">def</span> visualize(filename):</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>    data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span>filename, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>    fig <span class="op">=</span> matplotlib.pyplot.figure(figsize<span class="op">=</span>(<span class="fl">10.0</span>, <span class="fl">3.0</span>))</span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>    axes1 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>)</span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a>    axes2 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a>    axes3 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>)</span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a>    axes1.set_ylabel(<span class="st">'average'</span>)</span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a>    axes1.plot(numpy.mean(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a>    axes2.set_ylabel(<span class="st">'max'</span>)</span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a>    axes2.plot(numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb17-16"><a href="#cb17-16" tabindex="-1"></a></span>
<span id="cb17-17"><a href="#cb17-17" tabindex="-1"></a>    axes3.set_ylabel(<span class="st">'min'</span>)</span>
<span id="cb17-18"><a href="#cb17-18" tabindex="-1"></a>    axes3.plot(numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb17-19"><a href="#cb17-19" tabindex="-1"></a></span>
<span id="cb17-20"><a href="#cb17-20" tabindex="-1"></a>    fig.tight_layout()</span>
<span id="cb17-21"><a href="#cb17-21" tabindex="-1"></a>    matplotlib.pyplot.show()</span></code></pre>
</div>
<p>and another function called <code>detect_problems</code> that checks
for those systematics we noticed:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="kw">def</span> detect_problems(filename):</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>    data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span>filename, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>    <span class="cf">if</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>)[<span class="dv">0</span>] <span class="op">==</span> <span class="dv">0</span> <span class="kw">and</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">0</span>)[<span class="dv">20</span>] <span class="op">==</span> <span class="dv">20</span>:</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'Suspicious looking maxima!'</span>)</span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a>    <span class="cf">elif</span> numpy.<span class="bu">sum</span>(numpy.amin(data, axis<span class="op">=</span><span class="dv">0</span>)) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'Minima add up to zero!'</span>)</span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'Seems OK!'</span>)</span></code></pre>
</div>
<p>Wait! Didn’t we forget to specify what both of these functions should
return? Well, we didn’t. In Python, functions are not required to
include a <code>return</code> statement and can be used for the sole
purpose of grouping together pieces of code that conceptually do one
thing. In such cases, function names usually describe what they do,
<em>e.g.</em> <code>visualize</code>, <code>detect_problems</code>.</p>
<p>Notice that rather than jumbling this code together in one giant
<code>for</code> loop, we can now read and reuse both ideas separately.
We can reproduce the previous analysis with a much simpler
<code>for</code> loop:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>filenames <span class="op">=</span> <span class="bu">sorted</span>(glob.glob(<span class="st">'inflammation*.csv'</span>))</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> filenames[:<span class="dv">3</span>]:</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>    <span class="bu">print</span>(filename)</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a>    visualize(filename)</span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a>    detect_problems(filename)</span></code></pre>
</div>
<p>By giving our functions human-readable names, we can more easily read
and understand what is happening in the <code>for</code> loop. Even
better, if at some later date we want to use either of those pieces of
code again, we can do so in a single line.</p>
</section><section><h2 class="section-heading" id="testing-and-documenting">Testing and Documenting<a class="anchor" aria-label="anchor" href="#testing-and-documenting"></a>
</h2>
<hr class="half-width">
<p>Once we start putting things in functions so that we can re-use them,
we need to start testing that those functions are working correctly. To
see how to do this, let’s write a function to offset a dataset so that
it’s mean value shifts to a user-defined value:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="kw">def</span> offset_mean(data, target_mean_value):</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>    <span class="cf">return</span> (data <span class="op">-</span> numpy.mean(data)) <span class="op">+</span> target_mean_value</span></code></pre>
</div>
<p>We could test this on our actual data, but since we don’t know what
the values ought to be, it will be hard to tell if the result was
correct. Instead, let’s use NumPy to create a matrix of 0’s and then
offset its values to have a mean value of 3:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>z <span class="op">=</span> numpy.zeros((<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="bu">print</span>(offset_mean(z, <span class="dv">3</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[ 3.  3.]
 [ 3.  3.]]</code></pre>
</div>
<p>That looks right, so let’s try <code>offset_mean</code> on our real
data:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a>data <span class="op">=</span> numpy.loadtxt(fname<span class="op">=</span><span class="st">'inflammation-01.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="bu">print</span>(offset_mean(data, <span class="dv">0</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[-6.14875 -6.14875 -5.14875 ... -3.14875 -6.14875 -6.14875]
 [-6.14875 -5.14875 -4.14875 ... -5.14875 -6.14875 -5.14875]
 [-6.14875 -5.14875 -5.14875 ... -4.14875 -5.14875 -5.14875]
 ...
 [-6.14875 -5.14875 -5.14875 ... -5.14875 -5.14875 -5.14875]
 [-6.14875 -6.14875 -6.14875 ... -6.14875 -4.14875 -6.14875]
 [-6.14875 -6.14875 -5.14875 ... -5.14875 -5.14875 -6.14875]]</code></pre>
</div>
<p>It’s hard to tell from the default output whether the result is
correct, but there are a few tests that we can run to reassure us:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'original min, mean, and max are:'</span>, numpy.amin(data), numpy.mean(data), numpy.amax(data))</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>offset_data <span class="op">=</span> offset_mean(data, <span class="dv">0</span>)</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'min, mean, and max of offset data are:'</span>,</span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>      numpy.amin(offset_data),</span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>      numpy.mean(offset_data),</span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a>      numpy.amax(offset_data))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>original min, mean, and max are: 0.0 6.14875 20.0
min, mean, and max of offset data are: -6.14875 2.842170943040401e-16 13.85125</code></pre>
</div>
<p>That seems almost right: the original mean was about 6.1, so the
lower bound from zero is now about -6.1. The mean of the offset data
isn’t quite zero, but it’s pretty close. We can even go further and
check that the standard deviation hasn’t changed:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'std dev before and after:'</span>, numpy.std(data), numpy.std(offset_data))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>std dev before and after: 4.613833197118566 4.613833197118566</code></pre>
</div>
<p>Those values look the same, but we probably wouldn’t notice if they
were different in the sixth decimal place. Let’s do this instead:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'difference in standard deviations before and after:'</span>,</span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a>      numpy.std(data) <span class="op">-</span> numpy.std(offset_data))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>difference in standard deviations before and after: 0.0</code></pre>
</div>
<p>Everything looks good, and we should probably get back to doing our
analysis. We have one more task first, though: we should write some <a href="reference.html#documentation">documentation</a> for our function
to remind ourselves later what it’s for and how to use it.</p>
<p>The usual way to put documentation in software is to add <a href="reference.html#comment">comments</a> like this:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co"># offset_mean(data, target_mean_value):</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="co"># return a new array containing the original data with its mean offset to match the desired value.</span></span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="kw">def</span> offset_mean(data, target_mean_value):</span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a>    <span class="cf">return</span> (data <span class="op">-</span> numpy.mean(data)) <span class="op">+</span> target_mean_value</span></code></pre>
</div>
<p>There’s a better way, though. If the first thing in a function is a
string that isn’t assigned to a variable, that string is attached to the
function as its documentation:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="kw">def</span> offset_mean(data, target_mean_value):</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>    <span class="co">"""Return a new array containing the original data</span></span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="co">       with its mean offset to match the desired value."""</span></span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a>    <span class="cf">return</span> (data <span class="op">-</span> numpy.mean(data)) <span class="op">+</span> target_mean_value</span></code></pre>
</div>
<p>This is better because we can now ask Python’s built-in help system
to show us the documentation for the function:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="bu">help</span>(offset_mean)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Help on function offset_mean in module __main__:

offset_mean(data, target_mean_value)
    Return a new array containing the original data with its mean offset to match the desired value.</code></pre>
</div>
<p>A string like this is called a <a href="reference.html#docstring">docstring</a>. We don’t need to use
triple quotes when we write one, but if we do, we can break the string
across multiple lines:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="kw">def</span> offset_mean(data, target_mean_value):</span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a>    <span class="co">"""Return a new array containing the original data</span></span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a><span class="co">       with its mean offset to match the desired value.</span></span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a><span class="co">    Examples</span></span>
<span id="cb35-6"><a href="#cb35-6" tabindex="-1"></a><span class="co">    --------</span></span>
<span id="cb35-7"><a href="#cb35-7" tabindex="-1"></a><span class="co">    &gt;&gt;&gt; offset_mean([1, 2, 3], 0)</span></span>
<span id="cb35-8"><a href="#cb35-8" tabindex="-1"></a><span class="co">    array([-1.,  0.,  1.])</span></span>
<span id="cb35-9"><a href="#cb35-9" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb35-10"><a href="#cb35-10" tabindex="-1"></a>    <span class="cf">return</span> (data <span class="op">-</span> numpy.mean(data)) <span class="op">+</span> target_mean_value</span>
<span id="cb35-11"><a href="#cb35-11" tabindex="-1"></a></span>
<span id="cb35-12"><a href="#cb35-12" tabindex="-1"></a><span class="bu">help</span>(offset_mean)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Help on function offset_mean in module __main__:

offset_mean(data, target_mean_value)
    Return a new array containing the original data
       with its mean offset to match the desired value.

    Examples
    --------
    &gt;&gt;&gt; offset_mean([1, 2, 3], 0)
    array([-1.,  0.,  1.])</code></pre>
</div>
</section><section><h2 class="section-heading" id="defining-defaults">Defining Defaults<a class="anchor" aria-label="anchor" href="#defining-defaults"></a>
</h2>
<hr class="half-width">
<p>We have passed parameters to functions in two ways: directly, as in
<code>type(data)</code>, and by name, as in
<code>numpy.loadtxt(fname='something.csv', delimiter=',')</code>. In
fact, we can pass the filename to <code>loadtxt</code> without the
<code>fname=</code>:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a>numpy.loadtxt(<span class="st">'inflammation-01.csv'</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array([[ 0.,  0.,  1., ...,  3.,  0.,  0.],
       [ 0.,  1.,  2., ...,  1.,  0.,  1.],
       [ 0.,  1.,  1., ...,  2.,  1.,  1.],
       ...,
       [ 0.,  1.,  1., ...,  1.,  1.,  1.],
       [ 0.,  0.,  0., ...,  0.,  2.,  0.],
       [ 0.,  0.,  1., ...,  1.,  1.,  0.]])</code></pre>
</div>
<p>but we still need to say <code>delimiter=</code>:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a>numpy.loadtxt(<span class="st">'inflammation-01.csv'</span>, <span class="st">','</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "/Users/username/anaconda3/lib/python3.6/site-packages/numpy/lib/npyio.py", line 1041, in loa
dtxt
    dtype = np.dtype(dtype)
  File "/Users/username/anaconda3/lib/python3.6/site-packages/numpy/core/_internal.py", line 199, in
_commastring
    newitem = (dtype, eval(repeats))
  File "&lt;string&gt;", line 1
    ,
    ^
SyntaxError: unexpected EOF while parsing</code></pre>
</div>
<p>To understand what’s going on, and make our own functions easier to
use, let’s re-define our <code>offset_mean</code> function like
this:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="kw">def</span> offset_mean(data, target_mean_value<span class="op">=</span><span class="fl">0.0</span>):</span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a>    <span class="co">"""Return a new array containing the original data</span></span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a><span class="co">       with its mean offset to match the desired value, (0 by default).</span></span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" tabindex="-1"></a><span class="co">    Examples</span></span>
<span id="cb41-6"><a href="#cb41-6" tabindex="-1"></a><span class="co">    --------</span></span>
<span id="cb41-7"><a href="#cb41-7" tabindex="-1"></a><span class="co">    &gt;&gt;&gt; offset_mean([1, 2, 3])</span></span>
<span id="cb41-8"><a href="#cb41-8" tabindex="-1"></a><span class="co">    array([-1.,  0.,  1.])</span></span>
<span id="cb41-9"><a href="#cb41-9" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb41-10"><a href="#cb41-10" tabindex="-1"></a>    <span class="cf">return</span> (data <span class="op">-</span> numpy.mean(data)) <span class="op">+</span> target_mean_value</span></code></pre>
</div>
<p>The key change is that the second parameter is now written
<code>target_mean_value=0.0</code> instead of just
<code>target_mean_value</code>. If we call the function with two
arguments, it works as it did before:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a>test_data <span class="op">=</span> numpy.zeros((<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="bu">print</span>(offset_mean(test_data, <span class="dv">3</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[ 3.  3.]
 [ 3.  3.]]</code></pre>
</div>
<p>But we can also now call it with just one parameter, in which case
<code>target_mean_value</code> is automatically assigned the <a href="reference.html#default-value">default value</a> of 0.0:</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a>more_data <span class="op">=</span> <span class="dv">5</span> <span class="op">+</span> numpy.zeros((<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'data before mean offset:'</span>)</span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a><span class="bu">print</span>(more_data)</span>
<span id="cb44-4"><a href="#cb44-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'offset data:'</span>)</span>
<span id="cb44-5"><a href="#cb44-5" tabindex="-1"></a><span class="bu">print</span>(offset_mean(more_data))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>data before mean offset:
[[ 5.  5.]
 [ 5.  5.]]
offset data:
[[ 0.  0.]
 [ 0.  0.]]</code></pre>
</div>
<p>This is handy: if we usually want a function to work one way, but
occasionally need it to do something else, we can allow people to pass a
parameter when they need to but provide a default to make the normal
case easier. The example below shows how Python matches values to
parameters:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="kw">def</span> display(a<span class="op">=</span><span class="dv">1</span>, b<span class="op">=</span><span class="dv">2</span>, c<span class="op">=</span><span class="dv">3</span>):</span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'a:'</span>, a, <span class="st">'b:'</span>, b, <span class="st">'c:'</span>, c)</span>
<span id="cb46-3"><a href="#cb46-3" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'no parameters:'</span>)</span>
<span id="cb46-5"><a href="#cb46-5" tabindex="-1"></a>display()</span>
<span id="cb46-6"><a href="#cb46-6" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'one parameter:'</span>)</span>
<span id="cb46-7"><a href="#cb46-7" tabindex="-1"></a>display(<span class="dv">55</span>)</span>
<span id="cb46-8"><a href="#cb46-8" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'two parameters:'</span>)</span>
<span id="cb46-9"><a href="#cb46-9" tabindex="-1"></a>display(<span class="dv">55</span>, <span class="dv">66</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>no parameters:
a: 1 b: 2 c: 3
one parameter:
a: 55 b: 2 c: 3
two parameters:
a: 55 b: 66 c: 3</code></pre>
</div>
<p>As this example shows, parameters are matched up from left to right,
and any that haven’t been given a value explicitly get their default
value. We can override this behavior by naming the value as we pass it
in:</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'only setting the value of c'</span>)</span>
<span id="cb48-2"><a href="#cb48-2" tabindex="-1"></a>display(c<span class="op">=</span><span class="dv">77</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>only setting the value of c
a: 1 b: 2 c: 77</code></pre>
</div>
<p>With that in hand, let’s look at the help for
<code>numpy.loadtxt</code>:</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="bu">help</span>(numpy.loadtxt)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Help on function loadtxt in module numpy.lib.npyio:

loadtxt(fname, dtype=&lt;class 'float'&gt;, comments='#', delimiter=None, converters=None, skiprows=0, use
cols=None, unpack=False, ndmin=0, encoding='bytes')
    Load data from a text file.

    Each row in the text file must have the same number of values.

    Parameters
    ----------
...</code></pre>
</div>
<p>There’s a lot of information here, but the most important part is the
first couple of lines:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>loadtxt(fname, dtype=&lt;class 'float'&gt;, comments='#', delimiter=None, converters=None, skiprows=0, use
cols=None, unpack=False, ndmin=0, encoding='bytes')</code></pre>
</div>
<p>This tells us that <code>loadtxt</code> has one parameter called
<code>fname</code> that doesn’t have a default value, and eight others
that do. If we call the function like this:</p>
<div class="codewrapper sourceCode" id="cb53">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a>numpy.loadtxt(<span class="st">'inflammation-01.csv'</span>, <span class="st">','</span>)</span></code></pre>
</div>
<p>then the filename is assigned to <code>fname</code> (which is what we
want), but the delimiter string <code>','</code> is assigned to
<code>dtype</code> rather than <code>delimiter</code>, because
<code>dtype</code> is the second parameter in the list. However
<code>','</code> isn’t a known <code>dtype</code> so our code produced
an error message when we tried to run it. When we call
<code>loadtxt</code> we don’t have to provide <code>fname=</code> for
the filename because it’s the first item in the list, but if we want the
<code>','</code> to be assigned to the variable <code>delimiter</code>,
we <em>do</em> have to provide <code>delimiter=</code> for the second
parameter since <code>delimiter</code> is not the second parameter in
the list.</p>
</section><section><h2 class="section-heading" id="readable-functions">Readable functions<a class="anchor" aria-label="anchor" href="#readable-functions"></a>
</h2>
<hr class="half-width">
<p>Consider these two functions:</p>
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a><span class="kw">def</span> s(p):</span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a>    a <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb54-3"><a href="#cb54-3" tabindex="-1"></a>    <span class="cf">for</span> v <span class="kw">in</span> p:</span>
<span id="cb54-4"><a href="#cb54-4" tabindex="-1"></a>        a <span class="op">+=</span> v</span>
<span id="cb54-5"><a href="#cb54-5" tabindex="-1"></a>    m <span class="op">=</span> a <span class="op">/</span> <span class="bu">len</span>(p)</span>
<span id="cb54-6"><a href="#cb54-6" tabindex="-1"></a>    d <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb54-7"><a href="#cb54-7" tabindex="-1"></a>    <span class="cf">for</span> v <span class="kw">in</span> p:</span>
<span id="cb54-8"><a href="#cb54-8" tabindex="-1"></a>        d <span class="op">+=</span> (v <span class="op">-</span> m) <span class="op">*</span> (v <span class="op">-</span> m)</span>
<span id="cb54-9"><a href="#cb54-9" tabindex="-1"></a>    <span class="cf">return</span> numpy.sqrt(d <span class="op">/</span> (<span class="bu">len</span>(p) <span class="op">-</span> <span class="dv">1</span>))</span>
<span id="cb54-10"><a href="#cb54-10" tabindex="-1"></a></span>
<span id="cb54-11"><a href="#cb54-11" tabindex="-1"></a><span class="kw">def</span> std_dev(sample):</span>
<span id="cb54-12"><a href="#cb54-12" tabindex="-1"></a>    sample_sum <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb54-13"><a href="#cb54-13" tabindex="-1"></a>    <span class="cf">for</span> value <span class="kw">in</span> sample:</span>
<span id="cb54-14"><a href="#cb54-14" tabindex="-1"></a>        sample_sum <span class="op">+=</span> value</span>
<span id="cb54-15"><a href="#cb54-15" tabindex="-1"></a></span>
<span id="cb54-16"><a href="#cb54-16" tabindex="-1"></a>    sample_mean <span class="op">=</span> sample_sum <span class="op">/</span> <span class="bu">len</span>(sample)</span>
<span id="cb54-17"><a href="#cb54-17" tabindex="-1"></a></span>
<span id="cb54-18"><a href="#cb54-18" tabindex="-1"></a>    sum_squared_devs <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb54-19"><a href="#cb54-19" tabindex="-1"></a>    <span class="cf">for</span> value <span class="kw">in</span> sample:</span>
<span id="cb54-20"><a href="#cb54-20" tabindex="-1"></a>        sum_squared_devs <span class="op">+=</span> (value <span class="op">-</span> sample_mean) <span class="op">*</span> (value <span class="op">-</span> sample_mean)</span>
<span id="cb54-21"><a href="#cb54-21" tabindex="-1"></a></span>
<span id="cb54-22"><a href="#cb54-22" tabindex="-1"></a>    <span class="cf">return</span> numpy.sqrt(sum_squared_devs <span class="op">/</span> (<span class="bu">len</span>(sample) <span class="op">-</span> <span class="dv">1</span>))</span></code></pre>
</div>
<p>The functions <code>s</code> and <code>std_dev</code> are
computationally equivalent (they both calculate the sample standard
deviation), but to a human reader, they look very different. You
probably found <code>std_dev</code> much easier to read and understand
than <code>s</code>.</p>
<p>As this example illustrates, both documentation and a programmer’s
<em>coding style</em> combine to determine how easy it is for others to
read and understand the programmer’s code. Choosing meaningful variable
names and using blank spaces to break the code into logical “chunks” are
helpful techniques for producing <em>readable code</em>. This is useful
not only for sharing code with others, but also for the original
programmer. If you need to revisit code that you wrote months ago and
haven’t thought about since then, you will appreciate the value of
readable code!</p>
<div id="combining-strings" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="combining-strings" class="callout-inner">
<h3 class="callout-title">Combining Strings</h3>
<div class="callout-content">
<p>“Adding” two strings produces their concatenation:
<code>'a' + 'b'</code> is <code>'ab'</code>. Write a function called
<code>fence</code> that takes two parameters called
<code>original</code> and <code>wrapper</code> and returns a new string
that has the wrapper character at the beginning and end of the original.
A call to your function should look like this:</p>
<div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="bu">print</span>(fence(<span class="st">'name'</span>, <span class="st">'*'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>*name*</code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb57">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a><span class="kw">def</span> fence(original, wrapper):</span>
<span id="cb57-2"><a href="#cb57-2" tabindex="-1"></a>    <span class="cf">return</span> wrapper <span class="op">+</span> original <span class="op">+</span> wrapper</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="return-versus-print" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="return-versus-print" class="callout-inner">
<h3 class="callout-title">Return versus print</h3>
<div class="callout-content">
<p>Note that <code>return</code> and <code>print</code> are not
interchangeable. <code>print</code> is a Python function that
<em>prints</em> data to the screen. It enables us, <em>users</em>, see
the data. <code>return</code> statement, on the other hand, makes data
visible to the program. Let’s have a look at the following function:</p>
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb58-2"><a href="#cb58-2" tabindex="-1"></a>    <span class="bu">print</span>(a <span class="op">+</span> b)</span></code></pre>
</div>
<p><strong>Question</strong>: What will we see if we execute the
following commands?</p>
<div class="codewrapper sourceCode" id="cb59">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" tabindex="-1"></a>A <span class="op">=</span> add(<span class="dv">7</span>, <span class="dv">3</span>)</span>
<span id="cb59-2"><a href="#cb59-2" tabindex="-1"></a><span class="bu">print</span>(A)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Python will first execute the function <code>add</code> with
<code>a = 7</code> and <code>b = 3</code>, and, therefore, print
<code>10</code>. However, because function <code>add</code> does not
have a line that starts with <code>return</code> (no <code>return</code>
“statement”), it will, by default, return nothing which, in Python
world, is called <code>None</code>. Therefore, <code>A</code> will be
assigned to <code>None</code> and the last line (<code>print(A)</code>)
will print <code>None</code>. As a result, we will see:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">10</span></span>
<span><span class="va">None</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="selecting-characters-from-strings" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="selecting-characters-from-strings" class="callout-inner">
<h3 class="callout-title">Selecting Characters From Strings</h3>
<div class="callout-content">
<p>If the variable <code>s</code> refers to a string, then
<code>s[0]</code> is the string’s first character and <code>s[-1]</code>
is its last. Write a function called <code>outer</code> that returns a
string made up of just the first and last characters of its input. A
call to your function should look like this:</p>
<div class="codewrapper sourceCode" id="cb61">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a><span class="bu">print</span>(outer(<span class="st">'helium'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">hm</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb63">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" tabindex="-1"></a><span class="kw">def</span> outer(input_string):</span>
<span id="cb63-2"><a href="#cb63-2" tabindex="-1"></a>    <span class="cf">return</span> input_string[<span class="dv">0</span>] <span class="op">+</span> input_string[<span class="op">-</span><span class="dv">1</span>]</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="rescaling-an-array" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="rescaling-an-array" class="callout-inner">
<h3 class="callout-title">Rescaling an Array</h3>
<div class="callout-content">
<p>Write a function <code>rescale</code> that takes an array as input
and returns a corresponding array of values scaled to lie in the range
0.0 to 1.0. (Hint: If <code>L</code> and <code>H</code> are the lowest
and highest values in the original array, then the replacement for a
value <code>v</code> should be <code>(v-L) / (H-L)</code>.)</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb64">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a><span class="kw">def</span> rescale(input_array):</span>
<span id="cb64-2"><a href="#cb64-2" tabindex="-1"></a>    L <span class="op">=</span> numpy.amin(input_array)</span>
<span id="cb64-3"><a href="#cb64-3" tabindex="-1"></a>    H <span class="op">=</span> numpy.amax(input_array)</span>
<span id="cb64-4"><a href="#cb64-4" tabindex="-1"></a>    output_array <span class="op">=</span> (input_array <span class="op">-</span> L) <span class="op">/</span> (H <span class="op">-</span> L)</span>
<span id="cb64-5"><a href="#cb64-5" tabindex="-1"></a>    <span class="cf">return</span> output_array</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="testing-and-documenting-your-function" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="testing-and-documenting-your-function" class="callout-inner">
<h3 class="callout-title">Testing and Documenting Your Function</h3>
<div class="callout-content">
<p>Run the commands <code>help(numpy.arange)</code> and
<code>help(numpy.linspace)</code> to see how to use these functions to
generate regularly-spaced values, then use those values to test your
<code>rescale</code> function. Once you’ve successfully tested your
function, add a docstring that explains what it does.</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb65">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" tabindex="-1"></a><span class="co">"""Takes an array as input, and returns a corresponding array scaled so</span></span>
<span id="cb65-2"><a href="#cb65-2" tabindex="-1"></a><span class="co">that 0 corresponds to the minimum and 1 to the maximum value of the input array.</span></span>
<span id="cb65-3"><a href="#cb65-3" tabindex="-1"></a></span>
<span id="cb65-4"><a href="#cb65-4" tabindex="-1"></a><span class="co">Examples:</span></span>
<span id="cb65-5"><a href="#cb65-5" tabindex="-1"></a><span class="co">&gt;&gt;&gt; rescale(numpy.arange(10.0))</span></span>
<span id="cb65-6"><a href="#cb65-6" tabindex="-1"></a><span class="co">array([ 0.        ,  0.11111111,  0.22222222,  0.33333333,  0.44444444,</span></span>
<span id="cb65-7"><a href="#cb65-7" tabindex="-1"></a><span class="co">       0.55555556,  0.66666667,  0.77777778,  0.88888889,  1.        ])</span></span>
<span id="cb65-8"><a href="#cb65-8" tabindex="-1"></a><span class="co">&gt;&gt;&gt; rescale(numpy.linspace(0, 100, 5))</span></span>
<span id="cb65-9"><a href="#cb65-9" tabindex="-1"></a><span class="co">array([ 0.  ,  0.25,  0.5 ,  0.75,  1.  ])</span></span>
<span id="cb65-10"><a href="#cb65-10" tabindex="-1"></a><span class="co">"""</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="defining-defaults-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="defining-defaults-1" class="callout-inner">
<h3 class="callout-title">Defining Defaults</h3>
<div class="callout-content">
<p>Rewrite the <code>rescale</code> function so that it scales data to
lie between <code>0.0</code> and <code>1.0</code> by default, but will
allow the caller to specify lower and upper bounds if they want. Compare
your implementation to your neighbor’s: do the two functions always
behave the same way?</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb66">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="kw">def</span> rescale(input_array, low_val<span class="op">=</span><span class="fl">0.0</span>, high_val<span class="op">=</span><span class="fl">1.0</span>):</span>
<span id="cb66-2"><a href="#cb66-2" tabindex="-1"></a>    <span class="co">"""rescales input array values to lie between low_val and high_val"""</span></span>
<span id="cb66-3"><a href="#cb66-3" tabindex="-1"></a>    L <span class="op">=</span> numpy.amin(input_array)</span>
<span id="cb66-4"><a href="#cb66-4" tabindex="-1"></a>    H <span class="op">=</span> numpy.amax(input_array)</span>
<span id="cb66-5"><a href="#cb66-5" tabindex="-1"></a>    intermed_array <span class="op">=</span> (input_array <span class="op">-</span> L) <span class="op">/</span> (H <span class="op">-</span> L)</span>
<span id="cb66-6"><a href="#cb66-6" tabindex="-1"></a>    output_array <span class="op">=</span> intermed_array <span class="op">*</span> (high_val <span class="op">-</span> low_val) <span class="op">+</span> low_val</span>
<span id="cb66-7"><a href="#cb66-7" tabindex="-1"></a>    <span class="cf">return</span> output_array</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="variables-inside-and-outside-functions" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="variables-inside-and-outside-functions" class="callout-inner">
<h3 class="callout-title">Variables Inside and Outside Functions</h3>
<div class="callout-content">
<p>What does the following piece of code display when run — and why?</p>
<div class="codewrapper sourceCode" id="cb67">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a>f <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb67-2"><a href="#cb67-2" tabindex="-1"></a>k <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb67-3"><a href="#cb67-3" tabindex="-1"></a></span>
<span id="cb67-4"><a href="#cb67-4" tabindex="-1"></a><span class="kw">def</span> f2k(f):</span>
<span id="cb67-5"><a href="#cb67-5" tabindex="-1"></a>    k <span class="op">=</span> ((f <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="fl">5.0</span> <span class="op">/</span> <span class="fl">9.0</span>)) <span class="op">+</span> <span class="fl">273.15</span></span>
<span id="cb67-6"><a href="#cb67-6" tabindex="-1"></a>    <span class="cf">return</span> k</span>
<span id="cb67-7"><a href="#cb67-7" tabindex="-1"></a></span>
<span id="cb67-8"><a href="#cb67-8" tabindex="-1"></a><span class="bu">print</span>(f2k(<span class="dv">8</span>))</span>
<span id="cb67-9"><a href="#cb67-9" tabindex="-1"></a><span class="bu">print</span>(f2k(<span class="dv">41</span>))</span>
<span id="cb67-10"><a href="#cb67-10" tabindex="-1"></a><span class="bu">print</span>(f2k(<span class="dv">32</span>))</span>
<span id="cb67-11"><a href="#cb67-11" tabindex="-1"></a></span>
<span id="cb67-12"><a href="#cb67-12" tabindex="-1"></a><span class="bu">print</span>(k)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Show me the solution </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">259.81666666666666</span></span>
<span><span class="fl">278.15</span></span>
<span><span class="fl">273.15</span></span>
<span><span class="fl">0</span></span></code></pre>
</div>
<p><code>k</code> is 0 because the <code>k</code> inside the function
<code>f2k</code> doesn’t know about the <code>k</code> defined outside
the function. When the <code>f2k</code> function is called, it creates a
<a href="reference.html#local-variable">local variable</a>
<code>k</code>. The function does not return any values and does not
alter <code>k</code> outside of its local copy. Therefore the original
value of <code>k</code> remains unchanged. Beware that a local
<code>k</code> is created because <code>f2k</code> internal statements
<em>affect</em> a new value to it. If <code>k</code> was only
<code>read</code>, it would simply retrieve the global <code>k</code>
value.</p>
</div>
</div>
</div>
</div>
<div id="mixing-default-and-non-default-parameters" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="mixing-default-and-non-default-parameters" class="callout-inner">
<h3 class="callout-title">Mixing Default and Non-Default Parameters</h3>
<div class="callout-content">
<p>Given the following code:</p>
<div class="codewrapper sourceCode" id="cb69">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" tabindex="-1"></a><span class="kw">def</span> numbers(one, two<span class="op">=</span><span class="dv">2</span>, three, four<span class="op">=</span><span class="dv">4</span>):</span>
<span id="cb69-2"><a href="#cb69-2" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">str</span>(one) <span class="op">+</span> <span class="bu">str</span>(two) <span class="op">+</span> <span class="bu">str</span>(three) <span class="op">+</span> <span class="bu">str</span>(four)</span>
<span id="cb69-3"><a href="#cb69-3" tabindex="-1"></a>    <span class="cf">return</span> n</span>
<span id="cb69-4"><a href="#cb69-4" tabindex="-1"></a></span>
<span id="cb69-5"><a href="#cb69-5" tabindex="-1"></a><span class="bu">print</span>(numbers(<span class="dv">1</span>, three<span class="op">=</span><span class="dv">3</span>))</span></code></pre>
</div>
<p>What do you expect will be printed? What is actually printed? What
rule do you think Python is following?</p>
<ol style="list-style-type: decimal">
<li><code>1234</code></li>
<li><code>one2three4</code></li>
<li><code>1239</code></li>
<li><code>SyntaxError</code></li>
</ol>
<p>Given that, what does the following piece of code display when
run?</p>
<div class="codewrapper sourceCode" id="cb70">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a><span class="kw">def</span> func(a, b<span class="op">=</span><span class="dv">3</span>, c<span class="op">=</span><span class="dv">6</span>):</span>
<span id="cb70-2"><a href="#cb70-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'a: '</span>, a, <span class="st">'b: '</span>, b, <span class="st">'c:'</span>, c)</span>
<span id="cb70-3"><a href="#cb70-3" tabindex="-1"></a></span>
<span id="cb70-4"><a href="#cb70-4" tabindex="-1"></a>func(<span class="op">-</span><span class="dv">1</span>, <span class="dv">2</span>)</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li><code>a: b: 3 c: 6</code></li>
<li><code>a: -1 b: 3 c: 6</code></li>
<li><code>a: -1 b: 2 c: 6</code></li>
<li><code>a: b: -1 c: 2</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8"> Show me the solution </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" aria-labelledby="headingSolution8" data-bs-parent="#accordionSolution8">
<div class="accordion-body">
<p>Attempting to define the <code>numbers</code> function results in
<code>4. SyntaxError</code>. The defined parameters <code>two</code> and
<code>four</code> are given default values. Because <code>one</code> and
<code>three</code> are not given default values, they are required to be
included as arguments when the function is called and must be placed
before any parameters that have default values in the function
definition.</p>
<p>The given call to <code>func</code> displays
<code>a: -1 b: 2 c: 6</code>. -1 is assigned to the first parameter
<code>a</code>, 2 is assigned to the next parameter <code>b</code>, and
<code>c</code> is not passed a value, so it uses its default value
6.</p>
</div>
</div>
</div>
</div>
<div id="readable-code" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="readable-code" class="callout-inner">
<h3 class="callout-title">Readable Code</h3>
<div class="callout-content">
<p>Revise a function you wrote for one of the previous exercises to try
to make the code more readable. Then, collaborate with one of your
neighbors to critique each other’s functions and discuss how your
function implementations could be further improved to make them more
readable.</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Define a function using
<code>def function_name(parameter)</code>.</li>
<li>The body of a function must be indented.</li>
<li>Call a function using <code>function_name(value)</code>.</li>
<li>Numbers are stored as integers or floating-point numbers.</li>
<li>Variables defined within a function can only be seen and used within
the body of the function.</li>
<li>Variables created outside of any function are called global
variables.</li>
<li>Within a function, we can access global variables.</li>
<li>Variables created within a function override global variables if
their names match.</li>
<li>Put docstrings in functions to provide help for that function.</li>
<li>Specify default values for parameters when defining a function using
<code>name=value</code> in the parameter list.</li>
<li>Parameters can be passed by matching based on name, by position, or
by omitting them (in which case the default value is used).</li>
<li>Put code whose parameters change frequently in a function, then call
it with different parameter values to customize its behavior.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-09-errors"><p>Content from <a href="09-errors.html">Errors and Exceptions</a></p>
<hr>
<p>Last updated on 2023-04-21 |

        <a href="https://github.com/swcarpentry/python-novice-inflammation/edit/main/episodes/09-errors.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 30 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How does Python report errors?</li>
<li>How can I handle errors in Python programs?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>To be able to read a traceback, and determine where the error took
place and what type it is.</li>
<li>To be able to describe the types of situations in which syntax
errors, indentation errors, name errors, index errors, and missing file
errors occur.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Every programmer encounters errors, both those who are just
beginning, and those who have been programming for years. Encountering
errors and exceptions can be very frustrating at times, and can make
coding feel like a hopeless endeavour. However, understanding what the
different types of errors are and when you are likely to encounter them
can help a lot. Once you know <em>why</em> you get certain types of
errors, they become much easier to fix.</p>
<p>Errors in Python have a very specific form, called a <a href="reference.html#traceback">traceback</a>. Let’s examine one:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># This code has an intentional error. You can type it directly or</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="co"># use it for reference to understand the error message below.</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="kw">def</span> favorite_ice_cream():</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    ice_creams <span class="op">=</span> [</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>        <span class="st">'chocolate'</span>,</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>        <span class="st">'vanilla'</span>,</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>        <span class="st">'strawberry'</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>    ]</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>    <span class="bu">print</span>(ice_creams[<span class="dv">3</span>])</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>favorite_ice_cream()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
&lt;ipython-input-1-70bd89baa4df&gt; in &lt;module&gt;()
      9     print(ice_creams[3])
      10
----&gt; 11 favorite_ice_cream()

&lt;ipython-input-1-70bd89baa4df&gt; in favorite_ice_cream()
      7         'strawberry'
      8     ]
----&gt; 9     print(ice_creams[3])
      10
      11 favorite_ice_cream()

IndexError: list index out of range</code></pre>
</div>
<p>This particular traceback has two levels. You can determine the
number of levels by looking for the number of arrows on the left hand
side. In this case:</p>
<ol style="list-style-type: decimal">
<li><p>The first shows code from the cell above, with an arrow pointing
to Line 11 (which is <code>favorite_ice_cream()</code>).</p></li>
<li><p>The second shows some code in the function
<code>favorite_ice_cream</code>, with an arrow pointing to Line 9 (which
is <code>print(ice_creams[3])</code>).</p></li>
</ol>
<p>The last level is the actual place where the error occurred. The
other level(s) show what function the program executed to get to the
next level down. So, in this case, the program first performed a <a href="reference.html#function-call">function call</a> to the function
<code>favorite_ice_cream</code>. Inside this function, the program
encountered an error on Line 6, when it tried to run the code
<code>print(ice_creams[3])</code>.</p>
<div id="long-tracebacks" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="long-tracebacks" class="callout-inner">
<h3 class="callout-title">Long Tracebacks</h3>
<div class="callout-content">
<p>Sometimes, you might see a traceback that is very long -- sometimes
they might even be 20 levels deep! This can make it seem like something
horrible happened, but the length of the error message does not reflect
severity, rather, it indicates that your program called many functions
before it encountered the error. Most of the time, the actual place
where the error occurred is at the bottom-most level, so you can skip
down the traceback to the bottom.</p>
</div>
</div>
</div>
<p>So what error did the program actually encounter? In the last line of
the traceback, Python helpfully tells us the category or type of error
(in this case, it is an <code>IndexError</code>) and a more detailed
error message (in this case, it says “list index out of range”).</p>
<p>If you encounter an error and don’t know what it means, it is still
important to read the traceback closely. That way, if you fix the error,
but encounter a new one, you can tell that the error changed.
Additionally, sometimes knowing <em>where</em> the error occurred is
enough to fix it, even if you don’t entirely understand the message.</p>
<p>If you do encounter an error you don’t recognize, try looking at the
<a href="https://docs.python.org/3/library/exceptions.html" class="external-link">official
documentation on errors</a>. However, note that you may not always be
able to find the error there, as it is possible to create custom errors.
In that case, hopefully the custom error message is informative enough
to help you figure out what went wrong.</p>
<div id="reading-error-messages" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="reading-error-messages" class="callout-inner">
<h3 class="callout-title">Reading Error Messages</h3>
<div class="callout-content">
<p>Read the Python code and the resulting traceback below, and answer
the following questions:</p>
<ol style="list-style-type: decimal">
<li>How many levels does the traceback have?</li>
<li>What is the function name where the error occurred?</li>
<li>On which line number in this function did the error occur?</li>
<li>What is the type of error?</li>
<li>What is the error message?</li>
</ol>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># This code has an intentional error. Do not type it directly;</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co"># use it for reference to understand the error message below.</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="kw">def</span> print_message(day):</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>    messages <span class="op">=</span> [</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>        <span class="st">'Hello, world!'</span>,</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>        <span class="st">'Today is Tuesday!'</span>,</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>        <span class="st">'It is the middle of the week.'</span>,</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>        <span class="st">'Today is Donnerstag in German!'</span>,</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>        <span class="st">'Last day of the week!'</span>,</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>        <span class="st">'Hooray for the weekend!'</span>,</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>        <span class="st">'Aw, the weekend is almost over.'</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>    ]</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a>    <span class="bu">print</span>(messages[day])</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="kw">def</span> print_sunday_message():</span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>    print_message(<span class="dv">7</span>)</span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a>print_sunday_message()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
&lt;ipython-input-7-3ad455d81842&gt; in &lt;module&gt;
     16     print_message(7)
     17
---&gt; 18 print_sunday_message()
     19

&lt;ipython-input-7-3ad455d81842&gt; in print_sunday_message()
     14
     15 def print_sunday_message():
---&gt; 16     print_message(7)
     17
     18 print_sunday_message()

&lt;ipython-input-7-3ad455d81842&gt; in print_message(day)
     11         'Aw, the weekend is almost over.'
     12     ]
---&gt; 13     print(messages[day])
     14
     15 def print_sunday_message():

IndexError: list index out of range</code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>3 levels</li>
<li><code>print_message</code></li>
<li>13</li>
<li><code>IndexError</code></li>
<li>
<code>list index out of range</code> You can then infer that
<code>7</code> is not the right index to use with
<code>messages</code>.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="better-errors-on-newer-pythons" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="better-errors-on-newer-pythons" class="callout-inner">
<h3 class="callout-title">Better errors on newer Pythons</h3>
<div class="callout-content">
<p>Newer versions of Python have improved error printouts. If you are
debugging errors, it is often helpful to use the latest Python version,
even if you support older versions of Python.</p>
</div>
</div>
</div>
<section><h2 class="section-heading" id="syntax-errors">Syntax Errors<a class="anchor" aria-label="anchor" href="#syntax-errors"></a>
</h2>
<hr class="half-width">
<p>When you forget a colon at the end of a line, accidentally add one
space too many when indenting under an <code>if</code> statement, or
forget a parenthesis, you will encounter a <a href="reference.html#syntax-error">syntax error</a>. This means that
Python couldn’t figure out how to read your program. This is similar to
forgetting punctuation in English: for example, this text is difficult
to read there is no punctuation there is also no capitalization why is
this hard because you have to figure out where each sentence ends you
also have to figure out where each sentence begins to some extent it
might be ambiguous if there should be a sentence break or not</p>
<p>People can typically figure out what is meant by text with no
punctuation, but people are much smarter than computers. If Python
doesn’t know how to read the program, it will give up and inform you
with an error. For example:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="kw">def</span> some_function()</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>    msg <span class="op">=</span> <span class="st">'hello, world!'</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>    <span class="bu">print</span>(msg)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>     <span class="cf">return</span> msg</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>  File "&lt;ipython-input-3-6bb841ea1423&gt;", line 1
    def some_function()
                       ^
SyntaxError: invalid syntax</code></pre>
</div>
<p>Here, Python tells us that there is a <code>SyntaxError</code> on
line 1, and even puts a little arrow in the place where there is an
issue. In this case the problem is that the function definition is
missing a colon at the end.</p>
<p>Actually, the function above has <em>two</em> issues with syntax. If
we fix the problem with the colon, we see that there is <em>also</em> an
<code>IndentationError</code>, which means that the lines in the
function definition do not all have the same indentation:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="kw">def</span> some_function():</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>    msg <span class="op">=</span> <span class="st">'hello, world!'</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>    <span class="bu">print</span>(msg)</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>     <span class="cf">return</span> msg</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>  File "&lt;ipython-input-4-ae290e7659cb&gt;", line 4
    return msg
    ^
IndentationError: unexpected indent</code></pre>
</div>
<p>Both <code>SyntaxError</code> and <code>IndentationError</code>
indicate a problem with the syntax of your program, but an
<code>IndentationError</code> is more specific: it <em>always</em> means
that there is a problem with how your code is indented.</p>
<div id="tabs-and-spaces" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="tabs-and-spaces" class="callout-inner">
<h3 class="callout-title">Tabs and Spaces</h3>
<div class="callout-content">
<p>Some indentation errors are harder to spot than others. In
particular, mixing spaces and tabs can be difficult to spot because they
are both <a href="reference.html#whitespace">whitespace</a>. In the
example below, the first two lines in the body of the function
<code>some_function</code> are indented with tabs, while the third line
— with spaces. If you’re working in a Jupyter notebook, be sure to copy
and paste this example rather than trying to type it in manually because
Jupyter automatically replaces tabs with spaces.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="kw">def</span> some_function():</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>	msg <span class="op">=</span> <span class="st">'hello, world!'</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>	<span class="bu">print</span>(msg)</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>        <span class="cf">return</span> msg</span></code></pre>
</div>
<p>Visually it is impossible to spot the error. Fortunately, Python does
not allow you to mix tabs and spaces.</p>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>  File "&lt;ipython-input-5-653b36fbcd41&gt;", line 4
    return msg
              ^
TabError: inconsistent use of tabs and spaces in indentation</code></pre>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="variable-name-errors">Variable Name Errors<a class="anchor" aria-label="anchor" href="#variable-name-errors"></a>
</h2>
<hr class="half-width">
<p>Another very common type of error is called a <code>NameError</code>,
and occurs when you try to use a variable that does not exist. For
example:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="bu">print</span>(a)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-7-9d7b17ad5387&gt; in &lt;module&gt;()
----&gt; 1 print(a)

NameError: name 'a' is not defined</code></pre>
</div>
<p>Variable name errors come with some of the most informative error
messages, which are usually of the form “name ‘the_variable_name’ is not
defined”.</p>
<p>Why does this error message occur? That’s a harder question to
answer, because it depends on what your code is supposed to do. However,
there are a few very common reasons why you might have an undefined
variable. The first is that you meant to use a <a href="reference.html#string">string</a>, but forgot to put quotes around
it:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="bu">print</span>(hello)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-8-9553ee03b645&gt; in &lt;module&gt;()
----&gt; 1 print(hello)

NameError: name 'hello' is not defined</code></pre>
</div>
<p>The second reason is that you might be trying to use a variable that
does not yet exist. In the following example, <code>count</code> should
have been defined (e.g., with <code>count = 0</code>) before the for
loop:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>    count <span class="op">=</span> count <span class="op">+</span> number</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The count is:'</span>, count)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-9-dd6a12d7ca5c&gt; in &lt;module&gt;()
      1 for number in range(10):
----&gt; 2     count = count + number
      3 print('The count is:', count)

NameError: name 'count' is not defined</code></pre>
</div>
<p>Finally, the third possibility is that you made a typo when you were
writing your code. Let’s say we fixed the error above by adding the line
<code>Count = 0</code> before the for loop. Frustratingly, this actually
does not fix the error. Remember that variables are <a href="reference.html#case-sensitive">case-sensitive</a>, so the variable
<code>count</code> is different from <code>Count</code>. We still get
the same error, because we still have not defined
<code>count</code>:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>Count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>    count <span class="op">=</span> count <span class="op">+</span> number</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The count is:'</span>, count)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-10-d77d40059aea&gt; in &lt;module&gt;()
      1 Count = 0
      2 for number in range(10):
----&gt; 3     count = count + number
      4 print('The count is:', count)

NameError: name 'count' is not defined</code></pre>
</div>
</section><section><h2 class="section-heading" id="index-errors">Index Errors<a class="anchor" aria-label="anchor" href="#index-errors"></a>
</h2>
<hr class="half-width">
<p>Next up are errors having to do with containers (like lists and
strings) and the items within them. If you try to access an item in a
list or a string that does not exist, then you will get an error. This
makes sense: if you asked someone what day they would like to get
coffee, and they answered “caturday”, you might be a bit annoyed. Python
gets similarly annoyed if you try to ask it for an item that doesn’t
exist:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>letters <span class="op">=</span> [<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>]</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Letter #1 is'</span>, letters[<span class="dv">0</span>])</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Letter #2 is'</span>, letters[<span class="dv">1</span>])</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Letter #3 is'</span>, letters[<span class="dv">2</span>])</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Letter #4 is'</span>, letters[<span class="dv">3</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">Letter</span> <span class="co">#1 is a</span></span>
<span><span class="va">Letter</span> <span class="co">#2 is b</span></span>
<span><span class="va">Letter</span> <span class="co">#3 is c</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
&lt;ipython-input-11-d817f55b7d6c&gt; in &lt;module&gt;()
      3 print('Letter #2 is', letters[1])
      4 print('Letter #3 is', letters[2])
----&gt; 5 print('Letter #4 is', letters[3])

IndexError: list index out of range</code></pre>
</div>
<p>Here, Python is telling us that there is an <code>IndexError</code>
in our code, meaning we tried to access a list index that did not
exist.</p>
</section><section><h2 class="section-heading" id="file-errors">File Errors<a class="anchor" aria-label="anchor" href="#file-errors"></a>
</h2>
<hr class="half-width">
<p>The last type of error we’ll cover today are those associated with
reading and writing files: <code>FileNotFoundError</code>. If you try to
read a file that does not exist, you will receive a
<code>FileNotFoundError</code> telling you so. If you attempt to write
to a file that was opened read-only, Python 3 returns an
<code>UnsupportedOperationError</code>. More generally, problems with
input and output manifest as <code>OSError</code>s, which may show up as
a more specific subclass; you can see <a href="https://docs.python.org/3/library/exceptions.html#os-exceptions" class="external-link">the
list in the Python docs</a>. They all have a unique UNIX
<code>errno</code>, which is you can see in the error message.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>file_handle <span class="op">=</span> <span class="bu">open</span>(<span class="st">'myfile.txt'</span>, <span class="st">'r'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
FileNotFoundError                         Traceback (most recent call last)
&lt;ipython-input-14-f6e1ac4aee96&gt; in &lt;module&gt;()
----&gt; 1 file_handle = open('myfile.txt', 'r')

FileNotFoundError: [Errno 2] No such file or directory: 'myfile.txt'</code></pre>
</div>
<p>One reason for receiving this error is that you specified an
incorrect path to the file. For example, if I am currently in a folder
called <code>myproject</code>, and I have a file in
<code>myproject/writing/myfile.txt</code>, but I try to open
<code>myfile.txt</code>, this will fail. The correct path would be
<code>writing/myfile.txt</code>. It is also possible that the file name
or its path contains a typo.</p>
<p>A related issue can occur if you use the “read” flag instead of the
“write” flag. Python will not give you an error if you try to open a
file for writing when the file does not exist. However, if you meant to
open a file for reading, but accidentally opened it for writing, and
then try to read from it, you will get an
<code>UnsupportedOperation</code> error telling you that the file was
not opened for reading:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>file_handle <span class="op">=</span> <span class="bu">open</span>(<span class="st">'myfile.txt'</span>, <span class="st">'w'</span>)</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>file_handle.read()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
UnsupportedOperation                      Traceback (most recent call last)
&lt;ipython-input-15-b846479bc61f&gt; in &lt;module&gt;()
      1 file_handle = open('myfile.txt', 'w')
----&gt; 2 file_handle.read()

UnsupportedOperation: not readable</code></pre>
</div>
<p>These are the most common errors with files, though many others
exist. If you get an error that you’ve never seen before, searching the
Internet for that error type often reveals common reasons why you might
get that error.</p>
<div id="identifying-syntax-errors" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="identifying-syntax-errors" class="callout-inner">
<h3 class="callout-title">Identifying Syntax Errors</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Read the code below, and (without running it) try to identify what
the errors are.</li>
<li>Run the code, and read the error message. Is it a
<code>SyntaxError</code> or an <code>IndentationError</code>?</li>
<li>Fix the error.</li>
<li>Repeat steps 2 and 3, until you have fixed all the errors.</li>
</ol>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="kw">def</span> another_function</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">'Syntax errors are annoying.'</span>)</span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>   <span class="bu">print</span>(<span class="st">'But at least Python tells us about them!'</span>)</span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">'So they are usually not too hard to fix.'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p><code>SyntaxError</code> for missing <code>():</code> at end of first
line, <code>IndentationError</code> for mismatch between second and
third lines. A fixed version is:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="kw">def</span> another_function():</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Syntax errors are annoying.'</span>)</span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'But at least Python tells us about them!'</span>)</span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'So they are usually not too hard to fix.'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="identifying-variable-name-errors" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="identifying-variable-name-errors" class="callout-inner">
<h3 class="callout-title">Identifying Variable Name Errors</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Read the code below, and (without running it) try to identify what
the errors are.</li>
<li>Run the code, and read the error message. What type of
<code>NameError</code> do you think this is? In other words, is it a
string with no quotes, a misspelled variable, or a variable that should
have been defined but was not?</li>
<li>Fix the error.</li>
<li>Repeat steps 2 and 3, until you have fixed all the errors.</li>
</ol>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>    <span class="co"># use a if the number is a multiple of 3, otherwise use b</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>    <span class="cf">if</span> (Number <span class="op">%</span> <span class="dv">3</span>) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>        message <span class="op">=</span> message <span class="op">+</span> a</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a>        message <span class="op">=</span> message <span class="op">+</span> <span class="st">'b'</span></span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a><span class="bu">print</span>(message)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>3 <code>NameError</code>s for <code>number</code> being misspelled,
for <code>message</code> not defined, and for <code>a</code> not being
in quotes.</p>
<p>Fixed version:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a>message <span class="op">=</span> <span class="st">''</span></span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a>    <span class="co"># use a if the number is a multiple of 3, otherwise use b</span></span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a>    <span class="cf">if</span> (number <span class="op">%</span> <span class="dv">3</span>) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a>        message <span class="op">=</span> message <span class="op">+</span> <span class="st">'a'</span></span>
<span id="cb29-6"><a href="#cb29-6" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb29-7"><a href="#cb29-7" tabindex="-1"></a>        message <span class="op">=</span> message <span class="op">+</span> <span class="st">'b'</span></span>
<span id="cb29-8"><a href="#cb29-8" tabindex="-1"></a><span class="bu">print</span>(message)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="identifying-index-errors" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="identifying-index-errors" class="callout-inner">
<h3 class="callout-title">Identifying Index Errors</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Read the code below, and (without running it) try to identify what
the errors are.</li>
<li>Run the code, and read the error message. What type of error is
it?</li>
<li>Fix the error.</li>
</ol>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>seasons <span class="op">=</span> [<span class="st">'Spring'</span>, <span class="st">'Summer'</span>, <span class="st">'Fall'</span>, <span class="st">'Winter'</span>]</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'My favorite season is '</span>, seasons[<span class="dv">4</span>])</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p><code>IndexError</code>; the last entry is <code>seasons[3]</code>,
so <code>seasons[4]</code> doesn’t make sense. A fixed version is:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a>seasons <span class="op">=</span> [<span class="st">'Spring'</span>, <span class="st">'Summer'</span>, <span class="st">'Fall'</span>, <span class="st">'Winter'</span>]</span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'My favorite season is '</span>, seasons[<span class="op">-</span><span class="dv">1</span>])</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Tracebacks can look intimidating, but they give us a lot of useful
information about what went wrong in our program, including where the
error occurred and what type of error it was.</li>
<li>An error having to do with the ‘grammar’ or syntax of the program is
called a <code>SyntaxError</code>. If the issue has to do with how the
code is indented, then it will be called an
<code>IndentationError</code>.</li>
<li>A <code>NameError</code> will occur when trying to use a variable
that does not exist. Possible causes are that a variable definition is
missing, a variable reference differs from its definition in spelling or
capitalization, or the code contains a string that is missing quotes
around it.</li>
<li>Containers like lists and strings will generate errors if you try to
access items in them that do not exist. This type of error is called an
<code>IndexError</code>.</li>
<li>Trying to read a file that does not exist will give you an
<code>FileNotFoundError</code>. Trying to read a file that is open for
writing, or writing to a file that is open for reading, will give you an
<code>IOError</code>.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-10-defensive"><p>Content from <a href="10-defensive.html">Defensive Programming</a></p>
<hr>
<p>Last updated on 2023-11-16 |

        <a href="https://github.com/swcarpentry/python-novice-inflammation/edit/main/episodes/10-defensive.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 40 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I make my programs more reliable?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain what an assertion is.</li>
<li>Add assertions that check the program’s state is correct.</li>
<li>Correctly add precondition and postcondition assertions to
functions.</li>
<li>Explain what test-driven development is, and use it when creating
new functions.</li>
<li>Explain why variables should be initialized using actual data values
rather than arbitrary constants.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Our previous lessons have introduced the basic tools of programming:
variables and lists, file I/O, loops, conditionals, and functions. What
they <em>haven’t</em> done is show us how to tell whether a program is
getting the right answer, and how to tell if it’s <em>still</em> getting
the right answer as we make changes to it.</p>
<p>To achieve that, we need to:</p>
<ul>
<li>Write programs that check their own operation.</li>
<li>Write and run tests for widely-used functions.</li>
<li>Make sure we know what “correct” actually means.</li>
</ul>
<p>The good news is, doing these things will speed up our programming,
not slow it down. As in real carpentry — the kind done with lumber — the
time saved by measuring carefully before cutting a piece of wood is much
greater than the time that measuring takes.</p>
<section><h2 class="section-heading" id="assertions">Assertions<a class="anchor" aria-label="anchor" href="#assertions"></a>
</h2>
<hr class="half-width">
<p>The first step toward getting the right answers from our programs is
to assume that mistakes <em>will</em> happen and to guard against them.
This is called <a href="reference.html#defensive-programming">defensive
programming</a>, and the most common way to do it is to add <a href="reference.html#assertion">assertions</a> to our code so that it
checks itself as it runs. An assertion is simply a statement that
something must be true at a certain point in a program. When Python sees
one, it evaluates the assertion’s condition. If it’s true, Python does
nothing, but if it’s false, Python halts the program immediately and
prints the error message if one is provided. For example, this piece of
code halts as soon as the loop encounters a value that isn’t
positive:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="fl">1.5</span>, <span class="fl">2.3</span>, <span class="fl">0.7</span>, <span class="op">-</span><span class="fl">0.001</span>, <span class="fl">4.4</span>]</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>total <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="cf">for</span> num <span class="kw">in</span> numbers:</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    <span class="cf">assert</span> num <span class="op">&gt;</span> <span class="fl">0.0</span>, <span class="st">'Data should only contain positive values'</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    total <span class="op">+=</span> num</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'total is:'</span>, total)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
&lt;ipython-input-19-33d87ea29ae4&gt; in &lt;module&gt;()
      2 total = 0.0
      3 for num in numbers:
----&gt; 4     assert num &gt; 0.0, 'Data should only contain positive values'
      5     total += num
      6 print('total is:', total)

AssertionError: Data should only contain positive values</code></pre>
</div>
<p>Programs like the Firefox browser are full of assertions: 10-20% of
the code they contain are there to check that the other 80–90% are
working correctly. Broadly speaking, assertions fall into three
categories:</p>
<ul>
<li><p>A <a href="reference.html#precondition">precondition</a> is
something that must be true at the start of a function in order for it
to work correctly.</p></li>
<li><p>A <a href="reference.html#postcondition">postcondition</a> is
something that the function guarantees is true when it
finishes.</p></li>
<li><p>An <a href="reference.html#invariant">invariant</a> is something
that is always true at a particular point inside a piece of
code.</p></li>
</ul>
<p>For example, suppose we are representing rectangles using a <a href="reference.html#tuple">tuple</a> of four coordinates
<code>(x0, y0, x1, y1)</code>, representing the lower left and upper
right corners of the rectangle. In order to do some calculations, we
need to normalize the rectangle so that the lower left corner is at the
origin and the longest side is 1.0 units long. This function does that,
but checks that its input is correctly formatted and that its result
makes sense:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="kw">def</span> normalize_rectangle(rect):</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>    <span class="co">"""Normalizes a rectangle so that it is at the origin and 1.0 units long on its longest axis.</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co">    Input should be of the format (x0, y0, x1, y1).</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co">    (x0, y0) and (x1, y1) define the lower left and upper right corners</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co">    of the rectangle, respectively."""</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">len</span>(rect) <span class="op">==</span> <span class="dv">4</span>, <span class="st">'Rectangles must contain 4 coordinates'</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>    x0, y0, x1, y1 <span class="op">=</span> rect</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>    <span class="cf">assert</span> x0 <span class="op">&lt;</span> x1, <span class="st">'Invalid X coordinates'</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>    <span class="cf">assert</span> y0 <span class="op">&lt;</span> y1, <span class="st">'Invalid Y coordinates'</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>    dx <span class="op">=</span> x1 <span class="op">-</span> x0</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>    dy <span class="op">=</span> y1 <span class="op">-</span> y0</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a>    <span class="cf">if</span> dx <span class="op">&gt;</span> dy:</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>        scaled <span class="op">=</span> dx <span class="op">/</span> dy</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a>        upper_x, upper_y <span class="op">=</span> <span class="fl">1.0</span>, scaled</span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a>        scaled <span class="op">=</span> dx <span class="op">/</span> dy</span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a>        upper_x, upper_y <span class="op">=</span> scaled, <span class="fl">1.0</span></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a>    <span class="cf">assert</span> <span class="dv">0</span> <span class="op">&lt;</span> upper_x <span class="op">&lt;=</span> <span class="fl">1.0</span>, <span class="st">'Calculated upper X coordinate invalid'</span></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a>    <span class="cf">assert</span> <span class="dv">0</span> <span class="op">&lt;</span> upper_y <span class="op">&lt;=</span> <span class="fl">1.0</span>, <span class="st">'Calculated upper Y coordinate invalid'</span></span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a>    <span class="cf">return</span> (<span class="dv">0</span>, <span class="dv">0</span>, upper_x, upper_y)</span></code></pre>
</div>
<p>The preconditions on lines 6, 8, and 9 catch invalid inputs:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="bu">print</span>(normalize_rectangle( (<span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">2.0</span>) )) <span class="co"># missing the fourth coordinate</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
&lt;ipython-input-2-1b9cd8e18a1f&gt; in &lt;module&gt;
----&gt; 1 print(normalize_rectangle( (0.0, 1.0, 2.0) )) # missing the fourth coordinate

&lt;ipython-input-1-c94cf5b065b9&gt; in normalize_rectangle(rect)
      4     (x0, y0) and (x1, y1) define the lower left and upper right corners
      5     of the rectangle, respectively."""
----&gt; 6     assert len(rect) == 4, 'Rectangles must contain 4 coordinates'
      7     x0, y0, x1, y1 = rect
      8     assert x0 &lt; x1, 'Invalid X coordinates'

AssertionError: Rectangles must contain 4 coordinates</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="bu">print</span>(normalize_rectangle( (<span class="fl">4.0</span>, <span class="fl">2.0</span>, <span class="fl">1.0</span>, <span class="fl">5.0</span>) )) <span class="co"># X axis inverted</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
&lt;ipython-input-3-325036405532&gt; in &lt;module&gt;
----&gt; 1 print(normalize_rectangle( (4.0, 2.0, 1.0, 5.0) )) # X axis inverted

&lt;ipython-input-1-c94cf5b065b9&gt; in normalize_rectangle(rect)
      6     assert len(rect) == 4, 'Rectangles must contain 4 coordinates'
      7     x0, y0, x1, y1 = rect
----&gt; 8     assert x0 &lt; x1, 'Invalid X coordinates'
      9     assert y0 &lt; y1, 'Invalid Y coordinates'
     10

AssertionError: Invalid X coordinates</code></pre>
</div>
<p>The post-conditions on lines 20 and 21 help us catch bugs by telling
us when our calculations might have been incorrect. For example, if we
normalize a rectangle that is taller than it is wide everything seems
OK:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="bu">print</span>(normalize_rectangle( (<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">5.0</span>) ))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>(0, 0, 0.2, 1.0)</code></pre>
</div>
<p>but if we normalize one that’s wider than it is tall, the assertion
is triggered:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="bu">print</span>(normalize_rectangle( (<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">5.0</span>, <span class="fl">1.0</span>) ))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
&lt;ipython-input-5-8d4a48f1d068&gt; in &lt;module&gt;
----&gt; 1 print(normalize_rectangle( (0.0, 0.0, 5.0, 1.0) ))

&lt;ipython-input-1-c94cf5b065b9&gt; in normalize_rectangle(rect)
     19
     20     assert 0 &lt; upper_x &lt;= 1.0, 'Calculated upper X coordinate invalid'
---&gt; 21     assert 0 &lt; upper_y &lt;= 1.0, 'Calculated upper Y coordinate invalid'
     22
     23     return (0, 0, upper_x, upper_y)

AssertionError: Calculated upper Y coordinate invalid</code></pre>
</div>
<p>Re-reading our function, we realize that line 14 should divide
<code>dy</code> by <code>dx</code> rather than <code>dx</code> by
<code>dy</code>. In a Jupyter notebook, you can display line numbers by
typing <kbd>Ctrl</kbd>+<kbd>M</kbd> followed by <kbd>L</kbd>. If we had
left out the assertion at the end of the function, we would have created
and returned something that had the right shape as a valid answer, but
wasn’t. Detecting and debugging that would almost certainly have taken
more time in the long run than writing the assertion.</p>
<p>But assertions aren’t just about catching errors: they also help
people understand programs. Each assertion gives the person reading the
program a chance to check (consciously or otherwise) that their
understanding matches what the code is doing.</p>
<p>Most good programmers follow two rules when adding assertions to
their code. The first is, <em>fail early, fail often</em>. The greater
the distance between when and where an error occurs and when it’s
noticed, the harder the error will be to debug, so good code catches
mistakes as early as possible.</p>
<p>The second rule is, <em>turn bugs into assertions or tests</em>.
Whenever you fix a bug, write an assertion that catches the mistake
should you make it again. If you made a mistake in a piece of code, the
odds are good that you have made other mistakes nearby, or will make the
same mistake (or a related one) the next time you change it. Writing
assertions to check that you haven’t <a href="reference.html#regression">regressed</a> (i.e., haven’t
re-introduced an old problem) can save a lot of time in the long run,
and helps to warn people who are reading the code (including your future
self) that this bit is tricky.</p>
</section><section><h2 class="section-heading" id="test-driven-development">Test-Driven Development<a class="anchor" aria-label="anchor" href="#test-driven-development"></a>
</h2>
<hr class="half-width">
<p>An assertion checks that something is true at a particular point in
the program. The next step is to check the overall behavior of a piece
of code, i.e., to make sure that it produces the right output when it’s
given a particular input. For example, suppose we need to find where two
or more time series overlap. The range of each time series is
represented as a pair of numbers, which are the time the interval
started and ended. The output is the largest range that they all
include:</p>
<figure><img src="../fig/python-overlapping-ranges.svg" alt="Graph showing three number lines and, at the bottom, the interval that they overlap." class="figure mx-auto d-block"></figure><p>Most novice programmers would solve this problem like this:</p>
<ol style="list-style-type: decimal">
<li>Write a function <code>range_overlap</code>.</li>
<li>Call it interactively on two or three different inputs.</li>
<li>If it produces the wrong answer, fix the function and re-run that
test.</li>
</ol>
<p>This clearly works — after all, thousands of scientists are doing it
right now — but there’s a better way:</p>
<ol style="list-style-type: decimal">
<li>Write a short function for each test.</li>
<li>Write a <code>range_overlap</code> function that should pass those
tests.</li>
<li>If <code>range_overlap</code> produces any wrong answers, fix it and
re-run the test functions.</li>
</ol>
<p>Writing the tests <em>before</em> writing the function they exercise
is called <a href="reference.html#test-driven-development">test-driven
development</a> (TDD). Its advocates believe it produces better code
faster because:</p>
<ol style="list-style-type: decimal">
<li>If people write tests after writing the thing to be tested, they are
subject to confirmation bias, i.e., they subconsciously write tests to
show that their code is correct, rather than to find errors.</li>
<li>Writing tests helps programmers figure out what the function is
actually supposed to do.</li>
</ol>
<p>We start by defining an empty function
<code>range_overlap</code>:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="kw">def</span> range_overlap(ranges):</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>    <span class="cf">pass</span></span></code></pre>
</div>
<p>Here are three test statements for <code>range_overlap</code>:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="cf">assert</span> range_overlap([ (<span class="fl">0.0</span>, <span class="fl">1.0</span>) ]) <span class="op">==</span> (<span class="fl">0.0</span>, <span class="fl">1.0</span>)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="cf">assert</span> range_overlap([ (<span class="fl">2.0</span>, <span class="fl">3.0</span>), (<span class="fl">2.0</span>, <span class="fl">4.0</span>) ]) <span class="op">==</span> (<span class="fl">2.0</span>, <span class="fl">3.0</span>)</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="cf">assert</span> range_overlap([ (<span class="fl">0.0</span>, <span class="fl">1.0</span>), (<span class="fl">0.0</span>, <span class="fl">2.0</span>), (<span class="op">-</span><span class="fl">1.0</span>, <span class="fl">1.0</span>) ]) <span class="op">==</span> (<span class="fl">0.0</span>, <span class="fl">1.0</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
&lt;ipython-input-25-d8be150fbef6&gt; in &lt;module&gt;()
----&gt; 1 assert range_overlap([ (0.0, 1.0) ]) == (0.0, 1.0)
      2 assert range_overlap([ (2.0, 3.0), (2.0, 4.0) ]) == (2.0, 3.0)
      3 assert range_overlap([ (0.0, 1.0), (0.0, 2.0), (-1.0, 1.0) ]) == (0.0, 1.0)

AssertionError:</code></pre>
</div>
<p>The error is actually reassuring: we haven’t implemented any logic
into <code>range_overlap</code> yet, so if the tests passed, it would
indicate that we’ve written an entirely ineffective test.</p>
<p>And as a bonus of writing these tests, we’ve implicitly defined what
our input and output look like: we expect a list of pairs as input, and
produce a single pair as output.</p>
<p>Something important is missing, though. We don’t have any tests for
the case where the ranges don’t overlap at all:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="cf">assert</span> range_overlap([ (<span class="fl">0.0</span>, <span class="fl">1.0</span>), (<span class="fl">5.0</span>, <span class="fl">6.0</span>) ]) <span class="op">==</span> ???</span></code></pre>
</div>
<p>What should <code>range_overlap</code> do in this case: fail with an
error message, produce a special value like <code>(0.0, 0.0)</code> to
signal that there’s no overlap, or something else? Any actual
implementation of the function will do one of these things; writing the
tests first helps us figure out which is best <em>before</em> we’re
emotionally invested in whatever we happened to write before we realized
there was an issue.</p>
<p>And what about this case?</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="cf">assert</span> range_overlap([ (<span class="fl">0.0</span>, <span class="fl">1.0</span>), (<span class="fl">1.0</span>, <span class="fl">2.0</span>) ]) <span class="op">==</span> ???</span></code></pre>
</div>
<p>Do two segments that touch at their endpoints overlap or not?
Mathematicians usually say “yes”, but engineers usually say “no”. The
best answer is “whatever is most useful in the rest of our program”, but
again, any actual implementation of <code>range_overlap</code> is going
to do <em>something</em>, and whatever it is ought to be consistent with
what it does when there’s no overlap at all.</p>
<p>Since we’re planning to use the range this function returns as the X
axis in a time series chart, we decide that:</p>
<ol style="list-style-type: decimal">
<li>every overlap has to have non-zero width, and</li>
<li>we will return the special value <code>None</code> when there’s no
overlap.</li>
</ol>
<p><code>None</code> is built into Python, and means “nothing here”.
(Other languages often call the equivalent value <code>null</code> or
<code>nil</code>). With that decision made, we can finish writing our
last two tests:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="cf">assert</span> range_overlap([ (<span class="fl">0.0</span>, <span class="fl">1.0</span>), (<span class="fl">5.0</span>, <span class="fl">6.0</span>) ]) <span class="op">==</span> <span class="va">None</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="cf">assert</span> range_overlap([ (<span class="fl">0.0</span>, <span class="fl">1.0</span>), (<span class="fl">1.0</span>, <span class="fl">2.0</span>) ]) <span class="op">==</span> <span class="va">None</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
&lt;ipython-input-26-d877ef460ba2&gt; in &lt;module&gt;()
----&gt; 1 assert range_overlap([ (0.0, 1.0), (5.0, 6.0) ]) == None
      2 assert range_overlap([ (0.0, 1.0), (1.0, 2.0) ]) == None

AssertionError:</code></pre>
</div>
<p>Again, we get an error because we haven’t written our function, but
we’re now ready to do so:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="kw">def</span> range_overlap(ranges):</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>    <span class="co">"""Return common overlap among a set of [left, right] ranges."""</span></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>    max_left <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>    min_right <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a>    <span class="cf">for</span> (left, right) <span class="kw">in</span> ranges:</span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a>        max_left <span class="op">=</span> <span class="bu">max</span>(max_left, left)</span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a>        min_right <span class="op">=</span> <span class="bu">min</span>(min_right, right)</span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a>    <span class="cf">return</span> (max_left, min_right)</span></code></pre>
</div>
<p>Take a moment to think about why we calculate the left endpoint of
the overlap as the maximum of the input left endpoints, and the overlap
right endpoint as the minimum of the input right endpoints. We’d now
like to re-run our tests, but they’re scattered across three different
cells. To make running them easier, let’s put them all in a
function:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="kw">def</span> test_range_overlap():</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>    <span class="cf">assert</span> range_overlap([ (<span class="fl">0.0</span>, <span class="fl">1.0</span>), (<span class="fl">5.0</span>, <span class="fl">6.0</span>) ]) <span class="op">==</span> <span class="va">None</span></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>    <span class="cf">assert</span> range_overlap([ (<span class="fl">0.0</span>, <span class="fl">1.0</span>), (<span class="fl">1.0</span>, <span class="fl">2.0</span>) ]) <span class="op">==</span> <span class="va">None</span></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a>    <span class="cf">assert</span> range_overlap([ (<span class="fl">0.0</span>, <span class="fl">1.0</span>) ]) <span class="op">==</span> (<span class="fl">0.0</span>, <span class="fl">1.0</span>)</span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a>    <span class="cf">assert</span> range_overlap([ (<span class="fl">2.0</span>, <span class="fl">3.0</span>), (<span class="fl">2.0</span>, <span class="fl">4.0</span>) ]) <span class="op">==</span> (<span class="fl">2.0</span>, <span class="fl">3.0</span>)</span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a>    <span class="cf">assert</span> range_overlap([ (<span class="fl">0.0</span>, <span class="fl">1.0</span>), (<span class="fl">0.0</span>, <span class="fl">2.0</span>), (<span class="op">-</span><span class="fl">1.0</span>, <span class="fl">1.0</span>) ]) <span class="op">==</span> (<span class="fl">0.0</span>, <span class="fl">1.0</span>)</span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a>    <span class="cf">assert</span> range_overlap([]) <span class="op">==</span> <span class="va">None</span></span></code></pre>
</div>
<p>We can now test <code>range_overlap</code> with a single function
call:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>test_range_overlap()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
&lt;ipython-input-29-cf9215c96457&gt; in &lt;module&gt;()
----&gt; 1 test_range_overlap()

&lt;ipython-input-28-5d4cd6fd41d9&gt; in test_range_overlap()
      1 def test_range_overlap():
----&gt; 2     assert range_overlap([ (0.0, 1.0), (5.0, 6.0) ]) == None
      3     assert range_overlap([ (0.0, 1.0), (1.0, 2.0) ]) == None
      4     assert range_overlap([ (0.0, 1.0) ]) == (0.0, 1.0)
      5     assert range_overlap([ (2.0, 3.0), (2.0, 4.0) ]) == (2.0, 3.0)

AssertionError:</code></pre>
</div>
<p>The first test that was supposed to produce <code>None</code> fails,
so we know something is wrong with our function. We <em>don’t</em> know
whether the other tests passed or failed because Python halted the
program as soon as it spotted the first error. Still, some information
is better than none, and if we trace the behavior of the function with
that input, we realize that we’re initializing <code>max_left</code> and
<code>min_right</code> to 0.0 and 1.0 respectively, regardless of the
input values. This violates another important rule of programming:
<em>always initialize from data</em>.</p>
<div id="pre--and-post-conditions" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="pre--and-post-conditions" class="callout-inner">
<h3 class="callout-title">Pre- and Post-Conditions</h3>
<div class="callout-content">
<p>Suppose you are writing a function called <code>average</code> that
calculates the average of the numbers in a NumPy array. What
pre-conditions and post-conditions would you write for it? Compare your
answer to your neighbor’s: can you think of a function that will pass
your tests but not his/hers or vice versa?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="co"># a possible pre-condition:</span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">len</span>(input_array) <span class="op">&gt;</span> <span class="dv">0</span>, <span class="st">'Array length must be non-zero'</span></span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="co"># a possible post-condition:</span></span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a><span class="cf">assert</span> numpy.amin(input_array) <span class="op">&lt;=</span> average <span class="op">&lt;=</span> numpy.amax(input_array),</span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a><span class="co">'Average should be between min and max of input values (inclusive)'</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="testing-assertions" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="testing-assertions" class="callout-inner">
<h3 class="callout-title">Testing Assertions</h3>
<div class="callout-content">
<p>Given a sequence of a number of cars, the function
<code>get_total_cars</code> returns the total number of cars.</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>get_total_cars([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">10</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>get_total_cars([<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ValueError: invalid literal for int() with base 10: 'a'</code></pre>
</div>
<p>Explain in words what the assertions in this function check, and for
each one, give an example of input that will make that assertion
fail.</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="kw">def</span> get_total_cars(values):</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">len</span>(values) <span class="op">&gt;</span> <span class="dv">0</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>    <span class="cf">for</span> element <span class="kw">in</span> values:</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>        <span class="cf">assert</span> <span class="bu">int</span>(element)</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a>    values <span class="op">=</span> [<span class="bu">int</span>(element) <span class="cf">for</span> element <span class="kw">in</span> values]</span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a>    total <span class="op">=</span> <span class="bu">sum</span>(values)</span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a>    <span class="cf">assert</span> total <span class="op">&gt;</span> <span class="dv">0</span></span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a>    <span class="cf">return</span> total</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<ul>
<li>The first assertion checks that the input sequence
<code>values</code> is not empty. An empty sequence such as
<code>[]</code> will make it fail.</li>
<li>The second assertion checks that each value in the list can be
turned into an integer. Input such as <code>[1, 2, 'c', 3]</code> will
make it fail.</li>
<li>The third assertion checks that the total of the list is greater
than 0. Input such as <code>[-10, 2, 3]</code> will make it fail.</li>
</ul>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Program defensively, i.e., assume that errors are going to arise,
and write code to detect them when they do.</li>
<li>Put assertions in programs to check their state as they run, and to
help readers understand how those programs are supposed to work.</li>
<li>Use preconditions to check that the inputs to a function are safe to
use.</li>
<li>Use postconditions to check that the output from a function is safe
to use.</li>
<li>Write tests before writing code in order to help determine exactly
what that code is supposed to do.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-11-debugging"><p>Content from <a href="11-debugging.html">Debugging</a></p>
<hr>
<p>Last updated on 2025-05-07 |

        <a href="https://github.com/swcarpentry/python-novice-inflammation/edit/main/episodes/11-debugging.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 50 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I debug my program?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Debug code containing an error systematically.</li>
<li>Identify ways of making code less error-prone and more easily
tested.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Once testing has uncovered problems, the next step is to fix them.
Many novices do this by making more-or-less random changes to their code
until it seems to produce the right answer, but that’s very inefficient
(and the result is usually only correct for the one case they’re
testing). The more experienced a programmer is, the more systematically
they debug, and most follow some variation on the rules explained
below.</p>
<section><h2 class="section-heading" id="know-what-its-supposed-to-do">Know What It’s Supposed to Do<a class="anchor" aria-label="anchor" href="#know-what-its-supposed-to-do"></a>
</h2>
<hr class="half-width">
<p>The first step in debugging something is to <em>know what it’s
supposed to do</em>. “My program doesn’t work” isn’t good enough: in
order to diagnose and fix problems, we need to be able to tell correct
output from incorrect. If we can write a test case for the failing case
— i.e., if we can assert that with <em>these</em> inputs, the function
should produce <em>that</em> result — then we’re ready to start
debugging. If we can’t, then we need to figure out how we’re going to
know when we’ve fixed things.</p>
<p>But writing test cases for scientific software is frequently harder
than writing test cases for commercial applications, because if we knew
what the output of the scientific code was supposed to be, we wouldn’t
be running the software: we’d be writing up our results and moving on to
the next program. In practice, scientists tend to do the following:</p>
<ol style="list-style-type: decimal">
<li><p><em>Test with simplified data.</em> Before doing statistics on a
real data set, we should try calculating statistics for a single record,
for two identical records, for two records whose values are one step
apart, or for some other case where we can calculate the right answer by
hand.</p></li>
<li><p><em>Test a simplified case.</em> If our program is supposed to
simulate magnetic eddies in rapidly-rotating blobs of supercooled
helium, our first test should be a blob of helium that isn’t rotating,
and isn’t being subjected to any external electromagnetic fields.
Similarly, if we’re looking at the effects of climate change on
speciation, our first test should hold temperature, precipitation, and
other factors constant.</p></li>
<li><p><em>Compare to an oracle.</em> A <a href="reference.html#test-oracle">test oracle</a> is something whose
results are trusted, such as experimental data, an older program, or a
human expert. We use test oracles to determine if our new program
produces the correct results. If we have a test oracle, we should store
its output for particular cases so that we can compare it with our new
results as often as we like without re-running that program.</p></li>
<li><p><em>Check conservation laws.</em> Mass, energy, and other
quantities are conserved in physical systems, so they should be in
programs as well. Similarly, if we are analyzing patient data, the
number of records should either stay the same or decrease as we move
from one analysis to the next (since we might throw away outliers or
records with missing values). If “new” patients start appearing out of
nowhere as we move through our pipeline, it’s probably a sign that
something is wrong.</p></li>
<li><p><em>Visualize.</em> Data analysts frequently use simple
visualizations to check both the science they’re doing and the
correctness of their code (just as we did in the <a href="02-numpy.html">opening lesson</a> of this tutorial). This should
only be used for debugging as a last resort, though, since it’s very
hard to compare two visualizations automatically.</p></li>
</ol></section><section><h2 class="section-heading" id="make-it-fail-every-time">Make It Fail Every Time<a class="anchor" aria-label="anchor" href="#make-it-fail-every-time"></a>
</h2>
<hr class="half-width">
<p>We can only debug something when it fails, so the second step is
always to find a test case that <em>makes it fail every time</em>. The
“every time” part is important because few things are more frustrating
than debugging an intermittent problem: if we have to call a function a
dozen times to get a single failure, the odds are good that we’ll scroll
past the failure when it actually occurs.</p>
<p>As part of this, it’s always important to check that our code is
“plugged in”, i.e., that we’re actually exercising the problem that we
think we are. Every programmer has spent hours chasing a bug, only to
realize that they were actually calling their code on the wrong data set
or with the wrong configuration parameters, or are using the wrong
version of the software entirely. Mistakes like these are particularly
likely to happen when we’re tired, frustrated, and up against a
deadline, which is one of the reasons late-night (or overnight) coding
sessions are almost never worthwhile.</p>
</section><section><h2 class="section-heading" id="make-it-fail-fast">Make It Fail Fast<a class="anchor" aria-label="anchor" href="#make-it-fail-fast"></a>
</h2>
<hr class="half-width">
<p>If it takes 20 minutes for the bug to surface, we can only do three
experiments an hour. This means that we’ll get less data in more time
and that we’re more likely to be distracted by other things as we wait
for our program to fail, which means the time we <em>are</em> spending
on the problem is less focused. It’s therefore critical to <em>make it
fail fast</em>.</p>
<p>As well as making the program fail fast in time, we want to make it
fail fast in space, i.e., we want to localize the failure to the
smallest possible region of code:</p>
<ol style="list-style-type: decimal">
<li><p>The smaller the gap between cause and effect, the easier the
connection is to find. Many programmers therefore use a divide and
conquer strategy to find bugs, i.e., if the output of a function is
wrong, they check whether things are OK in the middle, then concentrate
on either the first or second half, and so on.</p></li>
<li><p>N things can interact in N! different ways, so every line of code
that <em>isn’t</em> run as part of a test means more than one thing we
don’t need to worry about.</p></li>
</ol></section><section><h2 class="section-heading" id="change-one-thing-at-a-time-for-a-reason">Change One Thing at a Time, For a Reason<a class="anchor" aria-label="anchor" href="#change-one-thing-at-a-time-for-a-reason"></a>
</h2>
<hr class="half-width">
<p>Replacing random chunks of code is unlikely to do much good. (After
all, if you got it wrong the first time, you’ll probably get it wrong
the second and third as well.) Good programmers therefore <em>change one
thing at a time, for a reason</em>. They are either trying to gather
more information (“is the bug still there if we change the order of the
loops?”) or test a fix (“can we make the bug go away by sorting our data
before processing it?”).</p>
<p>Every time we make a change, however small, we should re-run our
tests immediately, because the more things we change at once, the harder
it is to know what’s responsible for what (those N! interactions again).
And we should re-run <em>all</em> of our tests: more than half of fixes
made to code introduce (or re-introduce) bugs, so re-running all of our
tests tells us whether we have regressed.</p>
</section><section><h2 class="section-heading" id="keep-track-of-what-youve-done">Keep Track of What You’ve Done<a class="anchor" aria-label="anchor" href="#keep-track-of-what-youve-done"></a>
</h2>
<hr class="half-width">
<p>Good scientists keep track of what they’ve done so that they can
reproduce their work, and so that they don’t waste time repeating the
same experiments or running ones whose results won’t be interesting.
Similarly, debugging works best when we <em>keep track of what we’ve
done</em> and how well it worked. If we find ourselves asking, “Did left
followed by right with an odd number of lines cause the crash? Or was it
right followed by left? Or was I using an even number of lines?” then
it’s time to step away from the computer, take a deep breath, and start
working more systematically.</p>
<p>Records are particularly useful when the time comes to ask for help.
People are more likely to listen to us when we can explain clearly what
we did, and we’re better able to give them the information they need to
be useful.</p>
<div id="version-control-revisited" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="version-control-revisited" class="callout-inner">
<h3 class="callout-title">Version Control Revisited</h3>
<div class="callout-content">
<p>Version control is often used to reset software to a known state
during debugging, and to explore recent changes to code that might be
responsible for bugs. In particular, most version control systems
(e.g. git, Mercurial) have:</p>
<ol style="list-style-type: decimal">
<li>a <code>blame</code> command that shows who last changed each line
of a file;</li>
<li>a <code>bisect</code> command that helps with finding the commit
that introduced an issue.</li>
</ol>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="be-humble">Be Humble<a class="anchor" aria-label="anchor" href="#be-humble"></a>
</h2>
<hr class="half-width">
<p>And speaking of help: if we can’t find a bug in 10 minutes, we should
<em>be humble</em> and <a href="./01-intro.html#getting-help">ask for
help</a>. Explaining the problem to someone else is often useful, since
hearing what we’re thinking helps us spot inconsistencies and hidden
assumptions. If you don’t have someone nearby to share your problem
description with, get a <a href="https://en.wikipedia.org/wiki/Rubber_duck_debugging" class="external-link">rubber
duck</a>!</p>
<p>Asking for help also helps alleviate confirmation bias. If we have
just spent an hour writing a complicated program, we want it to work, so
we’re likely to keep telling ourselves why it should, rather than
searching for the reason it doesn’t. People who aren’t emotionally
invested in the code can be more objective, which is why they’re often
able to spot the simple mistakes we have overlooked.</p>
<p>Part of being humble is learning from our mistakes. Programmers tend
to get the same things wrong over and over: either they don’t understand
the language and libraries they’re working with, or their model of how
things work is wrong. In either case, taking note of why the error
occurred and checking for it next time quickly turns into not making the
mistake at all.</p>
<p>And that is what makes us most productive in the long run. As the
saying goes, <em>A week of hard work can sometimes save you an hour of
thought</em>. If we train ourselves to avoid making some kinds of
mistakes, to break our code into modular, testable chunks, and to turn
every assumption (or mistake) into an assertion, it will actually take
us <em>less</em> time to produce working programs, not more.</p>
<div id="debug-with-a-neighbor" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="debug-with-a-neighbor" class="callout-inner">
<h3 class="callout-title">Debug With a Neighbor</h3>
<div class="callout-content">
<p>Take a function that you have written today, and introduce a tricky
bug. Your function should still run, but will give the wrong output.
Switch seats with your neighbor and attempt to debug the bug that they
introduced into their function. Which of the principles discussed above
did you find helpful?</p>
</div>
</div>
</div>
<div id="not-supposed-to-be-the-same" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="not-supposed-to-be-the-same" class="callout-inner">
<h3 class="callout-title">Not Supposed to be the Same</h3>
<div class="callout-content">
<p>You are assisting a researcher with Python code that computes the
Body Mass Index (BMI) of patients. The researcher is concerned because
all patients seemingly have unusual and identical BMIs, despite having
different physiques. BMI is calculated as <strong>weight in
kilograms</strong> divided by the square of <strong>height in
metres</strong>.</p>
<p>Use the debugging principles in this exercise and locate problems
with the code. What suggestions would you give the researcher for
ensuring any later changes they make work correctly? What bugs do you
spot?</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>patients <span class="op">=</span> [[<span class="dv">70</span>, <span class="fl">1.8</span>], [<span class="dv">80</span>, <span class="fl">1.9</span>], [<span class="dv">150</span>, <span class="fl">1.7</span>]]</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="kw">def</span> calculate_bmi(weight, height):</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    <span class="cf">return</span> weight <span class="op">/</span> (height <span class="op">**</span> <span class="dv">2</span>)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="cf">for</span> patient <span class="kw">in</span> patients:</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>    weight, height <span class="op">=</span> patients[<span class="dv">0</span>]</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>    bmi <span class="op">=</span> calculate_bmi(height, weight)</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Patient's BMI is:"</span>, bmi)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Patient's BMI is: 0.000367
Patient's BMI is: 0.000367
Patient's BMI is: 0.000367</code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="section level3">
<h3 id="suggestions-for-debugging">Suggestions for debugging<a class="anchor" aria-label="anchor" href="#suggestions-for-debugging"></a>
</h3>
<ul>
<li>Add printing statement in the <code>calculate_bmi</code> function,
like <code>print('weight:', weight, 'height:', height)</code>, to make
clear that what the BMI is based on.</li>
<li>Change <code>print("Patient's BMI is: %f" % bmi)</code> to
<code>print("Patient's BMI (weight: %f, height: %f) is: %f" % (weight, height, bmi))</code>,
in order to be able to distinguish bugs in the function from bugs in the
loop.</li>
</ul>
</div>
<div class="section level3">
<h3 id="bugs-found">Bugs found<a class="anchor" aria-label="anchor" href="#bugs-found"></a>
</h3>
<ul>
<li><p>The loop is not being utilised correctly. <code>height</code> and
<code>weight</code> are always set as the first patient’s data during
each iteration of the loop.</p></li>
<li><p>The height/weight variables are reversed in the function call to
<code>calculate_bmi(...)</code>, the correct BMIs are 21.604938,
22.160665 and 51.903114.</p></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Know what code is supposed to do <em>before</em> trying to debug
it.</li>
<li>Make it fail every time.</li>
<li>Make it fail fast.</li>
<li>Change one thing at a time, and for a reason.</li>
<li>Keep track of what you’ve done.</li>
<li>Be humble.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-12-cmdline"><p>Content from <a href="12-cmdline.html">Command-Line Programs</a></p>
<hr>
<p>Last updated on 2023-11-10 |

        <a href="https://github.com/swcarpentry/python-novice-inflammation/edit/main/episodes/12-cmdline.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 30 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I write Python programs that will work like Unix
command-line tools?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Use the values of command-line arguments in a program.</li>
<li>Handle flags and files separately in a command-line program.</li>
<li>Read data from standard input in a program so that it can be used in
a pipeline.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>The Jupyter Notebook and other interactive tools are great for
prototyping code and exploring data, but sooner or later we will want to
use our program in a pipeline or run it in a shell script to process
thousands of data files. In order to do that in an efficient way, we
need to make our programs work like other Unix command-line tools. For
example, we may want a program that reads a dataset and prints the
average inflammation per patient.</p>
<div id="switching-to-shell-commands" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="switching-to-shell-commands" class="callout-inner">
<h3 class="callout-title">Switching to Shell Commands</h3>
<div class="callout-content">
<p>In this lesson we are switching from typing commands in a Python
interpreter to typing commands in a shell terminal window (such as
bash). When you see a <code>$</code> in front of a command that tells
you to run that command in the shell rather than the Python
interpreter.</p>
</div>
</div>
</div>
<p>This program does exactly what we want - it prints the average
inflammation per patient for a given file.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> python ../code/readings_04.py <span class="at">--mean</span> inflammation-01.csv</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">5.45</span></span>
<span><span class="fl">5.425</span></span>
<span><span class="fl">6.1</span></span>
<span><span class="va">...</span></span>
<span><span class="fl">6.4</span></span>
<span><span class="fl">7.05</span></span>
<span><span class="fl">5.9</span></span></code></pre>
</div>
<p>We might also want to look at the minimum of the first four lines</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-4</span> inflammation-01.csv <span class="kw">|</span> <span class="ex">python</span> ../code/readings_06.py <span class="at">--min</span></span></code></pre>
</div>
<p>or the maximum inflammations in several files one after another:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> python ../code/readings_04.py <span class="at">--max</span> inflammation-<span class="pp">*</span>.csv</span></code></pre>
</div>
<p>Our scripts should do the following:</p>
<ol style="list-style-type: decimal">
<li>If no filename is given on the command line, read data from <a href="reference.html#standard-input">standard input</a>.</li>
<li>If one or more filenames are given, read data from them and report
statistics for each file separately.</li>
<li>Use the <code>--min</code>, <code>--mean</code>, or
<code>--max</code> flag to determine what statistic to print.</li>
</ol>
<p>To make this work, we need to know how to handle command-line
arguments in a program, and understand how to handle standard input.
We’ll tackle these questions in turn below.</p>
<section><h2 class="section-heading" id="command-line-arguments">Command-Line Arguments<a class="anchor" aria-label="anchor" href="#command-line-arguments"></a>
</h2>
<hr class="half-width">
<p>We are going to create a file with our python code in, then use the
bash shell to run the code. Using the text editor of your choice, save
the following in a text file called <code>sys_version.py</code>:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'version is'</span>, sys.version)</span></code></pre>
</div>
<p>The first line imports a library called <code>sys</code>, which is
short for “system”. It defines values such as <code>sys.version</code>,
which describes which version of Python we are running. We can run this
script from the command line like this:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> python sys_version.py</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>version is 3.4.3+ (default, Jul 28 2015, 13:17:50)
[GCC 4.9.3]</code></pre>
</div>
<p>Create another file called <code>argv_list.py</code> and save the
following text to it.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'sys.argv is'</span>, sys.argv)</span></code></pre>
</div>
<p>The strange name <code>argv</code> stands for “argument values”.
Whenever Python runs a program, it takes all of the values given on the
command line and puts them in the list <code>sys.argv</code> so that the
program can determine what they were. If we run this program with no
arguments:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> python argv_list.py</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sys.argv is ['argv_list.py']</code></pre>
</div>
<p>the only thing in the list is the full path to our script, which is
always <code>sys.argv[0]</code>. If we run it with a few arguments,
however:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> python argv_list.py first second third</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sys.argv is ['argv_list.py', 'first', 'second', 'third']</code></pre>
</div>
<p>then Python adds each of those arguments to that magic list.</p>
<p>With this in hand, let’s build a version of <code>readings.py</code>
that always prints the per-patient mean of a single data file. The first
step is to write a function that outlines our implementation, and a
placeholder for the function that does the actual work. By convention
this function is usually called <code>main</code>, though we can call it
whatever we want:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> cat ../code/readings_01.py</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>    script <span class="op">=</span> sys.argv[<span class="dv">0</span>]</span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>    filename <span class="op">=</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a>    data <span class="op">=</span> numpy.loadtxt(filename, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>    <span class="cf">for</span> row_mean <span class="kw">in</span> numpy.mean(data, axis<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a>        <span class="bu">print</span>(row_mean)</span></code></pre>
</div>
<p>This function gets the name of the script from
<code>sys.argv[0]</code>, because that’s where it’s always put, and the
name of the file to process from <code>sys.argv[1]</code>. Here’s a
simple test:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> python ../code/readings_01.py inflammation-01.csv</span></code></pre>
</div>
<p>There is no output because we have defined a function, but haven’t
actually called it. Let’s add a call to <code>main</code>:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> cat ../code/readings_02.py</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>    script <span class="op">=</span> sys.argv[<span class="dv">0</span>]</span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>    filename <span class="op">=</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>    data <span class="op">=</span> numpy.loadtxt(filename, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a>    <span class="cf">for</span> row_mean <span class="kw">in</span> numpy.mean(data, axis<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a>        <span class="bu">print</span>(row_mean)</span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">'__main__'</span>:</span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a>    main()</span></code></pre>
</div>
<p>and run that:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> python ../code/readings_02.py inflammation-01.csv</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">5.45</span></span>
<span><span class="fl">5.425</span></span>
<span><span class="fl">6.1</span></span>
<span><span class="fl">5.9</span></span>
<span><span class="fl">5.55</span></span>
<span><span class="fl">6.225</span></span>
<span><span class="fl">5.975</span></span>
<span><span class="fl">6.65</span></span>
<span><span class="fl">6.625</span></span>
<span><span class="fl">6.525</span></span>
<span><span class="fl">6.775</span></span>
<span><span class="fl">5.8</span></span>
<span><span class="fl">6.225</span></span>
<span><span class="fl">5.75</span></span>
<span><span class="fl">5.225</span></span>
<span><span class="fl">6.3</span></span>
<span><span class="fl">6.55</span></span>
<span><span class="fl">5.7</span></span>
<span><span class="fl">5.85</span></span>
<span><span class="fl">6.55</span></span>
<span><span class="fl">5.775</span></span>
<span><span class="fl">5.825</span></span>
<span><span class="fl">6.175</span></span>
<span><span class="fl">6.1</span></span>
<span><span class="fl">5.8</span></span>
<span><span class="fl">6.425</span></span>
<span><span class="fl">6.05</span></span>
<span><span class="fl">6.025</span></span>
<span><span class="fl">6.175</span></span>
<span><span class="fl">6.55</span></span>
<span><span class="fl">6.175</span></span>
<span><span class="fl">6.35</span></span>
<span><span class="fl">6.725</span></span>
<span><span class="fl">6.125</span></span>
<span><span class="fl">7.075</span></span>
<span><span class="fl">5.725</span></span>
<span><span class="fl">5.925</span></span>
<span><span class="fl">6.15</span></span>
<span><span class="fl">6.075</span></span>
<span><span class="fl">5.75</span></span>
<span><span class="fl">5.975</span></span>
<span><span class="fl">5.725</span></span>
<span><span class="fl">6.3</span></span>
<span><span class="fl">5.9</span></span>
<span><span class="fl">6.75</span></span>
<span><span class="fl">5.925</span></span>
<span><span class="fl">7.225</span></span>
<span><span class="fl">6.15</span></span>
<span><span class="fl">5.95</span></span>
<span><span class="fl">6.275</span></span>
<span><span class="fl">5.7</span></span>
<span><span class="fl">6.1</span></span>
<span><span class="fl">6.825</span></span>
<span><span class="fl">5.975</span></span>
<span><span class="fl">6.725</span></span>
<span><span class="fl">5.7</span></span>
<span><span class="fl">6.25</span></span>
<span><span class="fl">6.4</span></span>
<span><span class="fl">7.05</span></span>
<span><span class="fl">5.9</span></span></code></pre>
</div>
<div id="running-versus-importing" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="running-versus-importing" class="callout-inner">
<h3 class="callout-title">Running Versus Importing</h3>
<div class="callout-content">
<p>Running a Python script in bash is very similar to importing that
file in Python. The biggest difference is that we don’t expect anything
to happen when we import a file, whereas when running a script, we
expect to see some output printed to the console.</p>
<p>In order for a Python script to work as expected when imported or
when run as a script, we typically put the part of the script that
produces output in the following if statement:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">'__main__'</span>:</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>    main()  <span class="co"># Or whatever function produces output</span></span></code></pre>
</div>
<p>When you import a Python file, <code>__name__</code> is the name of
that file (e.g., when importing <code>readings.py</code>,
<code>__name__</code> is <code>'readings'</code>). However, when running
a script in bash, <code>__name__</code> is always set to
<code>'__main__'</code> in that script so that you can determine if the
file is being imported or run as a script.</p>
</div>
</div>
</div>
<div id="the-right-way-to-do-it" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="the-right-way-to-do-it" class="callout-inner">
<h3 class="callout-title">The Right Way to Do It</h3>
<div class="callout-content">
<p>If our programs can take complex parameters or multiple filenames, we
shouldn’t handle <code>sys.argv</code> directly. Instead, we should use
Python’s <code>argparse</code> library, which handles common cases in a
systematic way, and also makes it easy for us to provide sensible error
messages for our users. We will not cover this module in this lesson but
you can go to Tshepang Lekhonkhobe’s <a href="https://docs.python.org/3/howto/argparse.html" class="external-link">Argparse
tutorial</a> that is part of Python’s Official Documentation.</p>
<p>We can also use the <code>argh</code> library, a wrapper around the
<code>argparse</code> library that simplifies its usage (see <a href="https://pythonhosted.org/argh/" class="external-link">the argh documentation</a> for
more information).</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="handling-multiple-files">Handling Multiple Files<a class="anchor" aria-label="anchor" href="#handling-multiple-files"></a>
</h2>
<hr class="half-width">
<p>The next step is to teach our program how to handle multiple files.
Since 60 lines of output per file is a lot to page through, we’ll start
by using three smaller files, each of which has three days of data for
two patients:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> ls small-<span class="pp">*</span>.csv</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>small-01.csv small-02.csv small-03.csv</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> cat small-01.csv</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0,0,1
0,1,2</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> python ../code/readings_02.py small-01.csv</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">0.333333333333</span></span>
<span><span class="fl">1.0</span></span></code></pre>
</div>
<p>Using small data files as input also allows us to check our results
more easily: here, for example, we can see that our program is
calculating the mean correctly for each line, whereas we were really
taking it on faith before. This is yet another rule of programming:
<em>test the simple things first</em>.</p>
<p>We want our program to process each file separately, so we need a
loop that executes once for each filename. If we specify the files on
the command line, the filenames will be in <code>sys.argv</code>, but we
need to be careful: <code>sys.argv[0]</code> will always be the name of
our script, rather than the name of a file. We also need to handle an
unknown number of filenames, since our program could be run for any
number of files.</p>
<p>The solution to both problems is to loop over the contents of
<code>sys.argv[1:]</code>. The ‘1’ tells Python to start the slice at
location 1, so the program’s name isn’t included; since we’ve left off
the upper bound, the slice runs to the end of the list, and includes all
the filenames. Here’s our changed program
<code>readings_03.py</code>:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">$</span> cat ../code/readings_03.py</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a>    script <span class="op">=</span> sys.argv[<span class="dv">0</span>]</span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a>    <span class="cf">for</span> filename <span class="kw">in</span> sys.argv[<span class="dv">1</span>:]:</span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a>        data <span class="op">=</span> numpy.loadtxt(filename, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a>        <span class="cf">for</span> row_mean <span class="kw">in</span> numpy.mean(data, axis<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb28-9"><a href="#cb28-9" tabindex="-1"></a>            <span class="bu">print</span>(row_mean)</span>
<span id="cb28-10"><a href="#cb28-10" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">'__main__'</span>:</span>
<span id="cb28-12"><a href="#cb28-12" tabindex="-1"></a>    main()</span></code></pre>
</div>
<p>and here it is in action:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">$</span> python ../code/readings_03.py small-01.csv small-02.csv</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">0.333333333333</span></span>
<span><span class="fl">1.0</span></span>
<span><span class="fl">13.6666666667</span></span>
<span><span class="fl">11.0</span></span></code></pre>
</div>
<div id="the-right-way-to-do-it-1" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="the-right-way-to-do-it-1" class="callout-inner">
<h3 class="callout-title">The Right Way to Do It</h3>
<div class="callout-content">
<p>At this point, we have created three versions of our script called
<code>readings_01.py</code>, <code>readings_02.py</code>, and
<code>readings_03.py</code>. We wouldn’t do this in real life: instead,
we would have one file called <code>readings.py</code> that we committed
to version control every time we got an enhancement working. For
teaching, though, we need all the successive versions side by side.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="handling-command-line-flags">Handling Command-Line Flags<a class="anchor" aria-label="anchor" href="#handling-command-line-flags"></a>
</h2>
<hr class="half-width">
<p>The next step is to teach our program to pay attention to the
<code>--min</code>, <code>--mean</code>, and <code>--max</code> flags.
These always appear before the names of the files, so we could do
this:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="ex">$</span> cat ../code/readings_04.py</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a>    script <span class="op">=</span> sys.argv[<span class="dv">0</span>]</span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a>    action <span class="op">=</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb32-7"><a href="#cb32-7" tabindex="-1"></a>    filenames <span class="op">=</span> sys.argv[<span class="dv">2</span>:]</span>
<span id="cb32-8"><a href="#cb32-8" tabindex="-1"></a></span>
<span id="cb32-9"><a href="#cb32-9" tabindex="-1"></a>    <span class="cf">for</span> filename <span class="kw">in</span> filenames:</span>
<span id="cb32-10"><a href="#cb32-10" tabindex="-1"></a>        data <span class="op">=</span> numpy.loadtxt(filename, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb32-11"><a href="#cb32-11" tabindex="-1"></a></span>
<span id="cb32-12"><a href="#cb32-12" tabindex="-1"></a>        <span class="cf">if</span> action <span class="op">==</span> <span class="st">'--min'</span>:</span>
<span id="cb32-13"><a href="#cb32-13" tabindex="-1"></a>            values <span class="op">=</span> numpy.amin(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb32-14"><a href="#cb32-14" tabindex="-1"></a>        <span class="cf">elif</span> action <span class="op">==</span> <span class="st">'--mean'</span>:</span>
<span id="cb32-15"><a href="#cb32-15" tabindex="-1"></a>            values <span class="op">=</span> numpy.mean(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb32-16"><a href="#cb32-16" tabindex="-1"></a>        <span class="cf">elif</span> action <span class="op">==</span> <span class="st">'--max'</span>:</span>
<span id="cb32-17"><a href="#cb32-17" tabindex="-1"></a>            values <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb32-18"><a href="#cb32-18" tabindex="-1"></a></span>
<span id="cb32-19"><a href="#cb32-19" tabindex="-1"></a>        <span class="cf">for</span> val <span class="kw">in</span> values:</span>
<span id="cb32-20"><a href="#cb32-20" tabindex="-1"></a>            <span class="bu">print</span>(val)</span>
<span id="cb32-21"><a href="#cb32-21" tabindex="-1"></a></span>
<span id="cb32-22"><a href="#cb32-22" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">'__main__'</span>:</span>
<span id="cb32-23"><a href="#cb32-23" tabindex="-1"></a>    main()</span></code></pre>
</div>
<p>This works:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="ex">$</span> python ../code/readings_04.py <span class="at">--max</span> small-01.csv</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1.0</span></span>
<span><span class="fl">2.0</span></span></code></pre>
</div>
<p>but there are several things wrong with it:</p>
<ol style="list-style-type: decimal">
<li><p><code>main</code> is too large to read comfortably.</p></li>
<li><p>If we do not specify at least two additional arguments on the
command-line, one for the <strong>flag</strong> and one for the
<strong>filename</strong>, but only one, the program will not throw an
exception but will run. It assumes that the file list is empty, as
<code>sys.argv[1]</code> will be considered the <code>action</code>,
even if it is a filename. <a href="reference.html#silence-failure">Silent failures</a> like this are
always hard to debug.</p></li>
<li><p>The program should check if the submitted <code>action</code> is
one of the three recognized flags.</p></li>
</ol>
<p>This version pulls the processing of each file out of the loop into a
function of its own. It also checks that <code>action</code> is one of
the allowed flags before doing any processing, so that the program fails
fast:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="ex">$</span> cat ../code/readings_05.py</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a>    script <span class="op">=</span> sys.argv[<span class="dv">0</span>]</span>
<span id="cb36-6"><a href="#cb36-6" tabindex="-1"></a>    action <span class="op">=</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb36-7"><a href="#cb36-7" tabindex="-1"></a>    filenames <span class="op">=</span> sys.argv[<span class="dv">2</span>:]</span>
<span id="cb36-8"><a href="#cb36-8" tabindex="-1"></a>    <span class="cf">assert</span> action <span class="kw">in</span> [<span class="st">'--min'</span>, <span class="st">'--mean'</span>, <span class="st">'--max'</span>], <span class="op">\</span></span>
<span id="cb36-9"><a href="#cb36-9" tabindex="-1"></a>           <span class="st">'Action is not one of --min, --mean, or --max: '</span> <span class="op">+</span> action</span>
<span id="cb36-10"><a href="#cb36-10" tabindex="-1"></a>    <span class="cf">for</span> filename <span class="kw">in</span> filenames:</span>
<span id="cb36-11"><a href="#cb36-11" tabindex="-1"></a>        process(filename, action)</span>
<span id="cb36-12"><a href="#cb36-12" tabindex="-1"></a></span>
<span id="cb36-13"><a href="#cb36-13" tabindex="-1"></a><span class="kw">def</span> process(filename, action):</span>
<span id="cb36-14"><a href="#cb36-14" tabindex="-1"></a>    data <span class="op">=</span> numpy.loadtxt(filename, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb36-15"><a href="#cb36-15" tabindex="-1"></a></span>
<span id="cb36-16"><a href="#cb36-16" tabindex="-1"></a>    <span class="cf">if</span> action <span class="op">==</span> <span class="st">'--min'</span>:</span>
<span id="cb36-17"><a href="#cb36-17" tabindex="-1"></a>        values <span class="op">=</span> numpy.amin(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb36-18"><a href="#cb36-18" tabindex="-1"></a>    <span class="cf">elif</span> action <span class="op">==</span> <span class="st">'--mean'</span>:</span>
<span id="cb36-19"><a href="#cb36-19" tabindex="-1"></a>        values <span class="op">=</span> numpy.mean(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb36-20"><a href="#cb36-20" tabindex="-1"></a>    <span class="cf">elif</span> action <span class="op">==</span> <span class="st">'--max'</span>:</span>
<span id="cb36-21"><a href="#cb36-21" tabindex="-1"></a>        values <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb36-22"><a href="#cb36-22" tabindex="-1"></a></span>
<span id="cb36-23"><a href="#cb36-23" tabindex="-1"></a>    <span class="cf">for</span> val <span class="kw">in</span> values:</span>
<span id="cb36-24"><a href="#cb36-24" tabindex="-1"></a>        <span class="bu">print</span>(val)</span>
<span id="cb36-25"><a href="#cb36-25" tabindex="-1"></a></span>
<span id="cb36-26"><a href="#cb36-26" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">'__main__'</span>:</span>
<span id="cb36-27"><a href="#cb36-27" tabindex="-1"></a>    main()</span></code></pre>
</div>
<p>This is four lines longer than its predecessor, but broken into more
digestible chunks of 8 and 12 lines.</p>
</section><section><h2 class="section-heading" id="handling-standard-input">Handling Standard Input<a class="anchor" aria-label="anchor" href="#handling-standard-input"></a>
</h2>
<hr class="half-width">
<p>The next thing our program has to do is read data from standard input
if no filenames are given so that we can put it in a pipeline, redirect
input to it, and so on. Let’s experiment in another script called
<code>count_stdin.py</code>:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="ex">$</span> cat ../code/count_stdin.py</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a>count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a><span class="cf">for</span> line <span class="kw">in</span> sys.stdin:</span>
<span id="cb38-5"><a href="#cb38-5" tabindex="-1"></a>    count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb38-6"><a href="#cb38-6" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" tabindex="-1"></a><span class="bu">print</span>(count, <span class="st">'lines in standard input'</span>)</span></code></pre>
</div>
<p>This little program reads lines from a special “file” called
<code>sys.stdin</code>, which is automatically connected to the
program’s standard input. We don’t have to open it — Python and the
operating system take care of that when the program starts up — but we
can do almost anything with it that we could do to a regular file. Let’s
try running it as if it were a regular command-line program:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> python ../code/count_stdin.py <span class="op">&lt;</span> small-01.csv</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2 lines in standard input</code></pre>
</div>
<p>A common mistake is to try to run something that reads from standard
input like this:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="ex">$</span> python ../code/count_stdin.py small-01.csv</span></code></pre>
</div>
<p>i.e., to forget the <code>&lt;</code> character that redirects the
file to standard input. In this case, there’s nothing in standard input,
so the program waits at the start of the loop for someone to type
something on the keyboard. Since there’s no way for us to do this, our
program is stuck, and we have to halt it using the
<code>Interrupt</code> option from the <code>Kernel</code> menu in the
Notebook.</p>
<p>We now need to rewrite the program so that it loads data from
<code>sys.stdin</code> if no filenames are provided. Luckily,
<code>numpy.loadtxt</code> can handle either a filename or an open file
as its first parameter, so we don’t actually need to change
<code>process</code>. Only <code>main</code> changes:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> cat ../code/readings_06.py</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb43-3"><a href="#cb43-3" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb43-5"><a href="#cb43-5" tabindex="-1"></a>    script <span class="op">=</span> sys.argv[<span class="dv">0</span>]</span>
<span id="cb43-6"><a href="#cb43-6" tabindex="-1"></a>    action <span class="op">=</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb43-7"><a href="#cb43-7" tabindex="-1"></a>    filenames <span class="op">=</span> sys.argv[<span class="dv">2</span>:]</span>
<span id="cb43-8"><a href="#cb43-8" tabindex="-1"></a>    <span class="cf">assert</span> action <span class="kw">in</span> [<span class="st">'--min'</span>, <span class="st">'--mean'</span>, <span class="st">'--max'</span>], <span class="op">\</span></span>
<span id="cb43-9"><a href="#cb43-9" tabindex="-1"></a>           <span class="st">'Action is not one of --min, --mean, or --max: '</span> <span class="op">+</span> action</span>
<span id="cb43-10"><a href="#cb43-10" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(filenames) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb43-11"><a href="#cb43-11" tabindex="-1"></a>        process(sys.stdin, action)</span>
<span id="cb43-12"><a href="#cb43-12" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb43-13"><a href="#cb43-13" tabindex="-1"></a>        <span class="cf">for</span> filename <span class="kw">in</span> filenames:</span>
<span id="cb43-14"><a href="#cb43-14" tabindex="-1"></a>            process(filename, action)</span>
<span id="cb43-15"><a href="#cb43-15" tabindex="-1"></a></span>
<span id="cb43-16"><a href="#cb43-16" tabindex="-1"></a><span class="kw">def</span> process(filename, action):</span>
<span id="cb43-17"><a href="#cb43-17" tabindex="-1"></a>    data <span class="op">=</span> numpy.loadtxt(filename, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb43-18"><a href="#cb43-18" tabindex="-1"></a></span>
<span id="cb43-19"><a href="#cb43-19" tabindex="-1"></a>    <span class="cf">if</span> action <span class="op">==</span> <span class="st">'--min'</span>:</span>
<span id="cb43-20"><a href="#cb43-20" tabindex="-1"></a>        values <span class="op">=</span> numpy.amin(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb43-21"><a href="#cb43-21" tabindex="-1"></a>    <span class="cf">elif</span> action <span class="op">==</span> <span class="st">'--mean'</span>:</span>
<span id="cb43-22"><a href="#cb43-22" tabindex="-1"></a>        values <span class="op">=</span> numpy.mean(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb43-23"><a href="#cb43-23" tabindex="-1"></a>    <span class="cf">elif</span> action <span class="op">==</span> <span class="st">'--max'</span>:</span>
<span id="cb43-24"><a href="#cb43-24" tabindex="-1"></a>        values <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb43-25"><a href="#cb43-25" tabindex="-1"></a></span>
<span id="cb43-26"><a href="#cb43-26" tabindex="-1"></a>    <span class="cf">for</span> val <span class="kw">in</span> values:</span>
<span id="cb43-27"><a href="#cb43-27" tabindex="-1"></a>        <span class="bu">print</span>(val)</span>
<span id="cb43-28"><a href="#cb43-28" tabindex="-1"></a></span>
<span id="cb43-29"><a href="#cb43-29" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">'__main__'</span>:</span>
<span id="cb43-30"><a href="#cb43-30" tabindex="-1"></a>    main()</span></code></pre>
</div>
<p>Let’s try it out:</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="ex">$</span> python ../code/readings_06.py <span class="at">--mean</span> <span class="op">&lt;</span> small-01.csv</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">0.333333333333</span></span>
<span><span class="fl">1.0</span></span></code></pre>
</div>
<p>That’s better. In fact, that’s done: the program now does everything
we set out to do.</p>
<div id="arithmetic-on-the-command-line" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="arithmetic-on-the-command-line" class="callout-inner">
<h3 class="callout-title">Arithmetic on the Command Line</h3>
<div class="callout-content">
<p>Write a Python program that adds, subtracts, multiplies, or divides
two numbers provided on the command line:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="ex">$</span> python arith.py <span class="at">--add</span> 1 2</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">3.0</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="ex">$</span> python arith.py <span class="at">--subtract</span> 3 4</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="op">-</span><span class="fl">1.0</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb50-4"><a href="#cb50-4" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">len</span>(sys.argv) <span class="op">==</span> <span class="dv">4</span>, <span class="st">'Need exactly 3 arguments'</span></span>
<span id="cb50-5"><a href="#cb50-5" tabindex="-1"></a></span>
<span id="cb50-6"><a href="#cb50-6" tabindex="-1"></a>    operator <span class="op">=</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb50-7"><a href="#cb50-7" tabindex="-1"></a>    <span class="cf">assert</span> operator <span class="kw">in</span> [<span class="st">'--add'</span>, <span class="st">'--subtract'</span>, <span class="st">'--multiply'</span>, <span class="st">'--divide'</span>], <span class="op">\</span></span>
<span id="cb50-8"><a href="#cb50-8" tabindex="-1"></a>        <span class="st">'Operator is not one of --add, --subtract, --multiply, or --divide: bailing out'</span></span>
<span id="cb50-9"><a href="#cb50-9" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb50-10"><a href="#cb50-10" tabindex="-1"></a>        operand1, operand2 <span class="op">=</span> <span class="bu">float</span>(sys.argv[<span class="dv">2</span>]), <span class="bu">float</span>(sys.argv[<span class="dv">3</span>])</span>
<span id="cb50-11"><a href="#cb50-11" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb50-12"><a href="#cb50-12" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'cannot convert input to a number: bailing out'</span>)</span>
<span id="cb50-13"><a href="#cb50-13" tabindex="-1"></a>        <span class="cf">return</span></span>
<span id="cb50-14"><a href="#cb50-14" tabindex="-1"></a></span>
<span id="cb50-15"><a href="#cb50-15" tabindex="-1"></a>    do_arithmetic(operand1, operator, operand2)</span>
<span id="cb50-16"><a href="#cb50-16" tabindex="-1"></a></span>
<span id="cb50-17"><a href="#cb50-17" tabindex="-1"></a><span class="kw">def</span> do_arithmetic(operand1, operator, operand2):</span>
<span id="cb50-18"><a href="#cb50-18" tabindex="-1"></a></span>
<span id="cb50-19"><a href="#cb50-19" tabindex="-1"></a>    <span class="cf">if</span> operator <span class="op">==</span> <span class="st">'add'</span>:</span>
<span id="cb50-20"><a href="#cb50-20" tabindex="-1"></a>        value <span class="op">=</span> operand1 <span class="op">+</span> operand2</span>
<span id="cb50-21"><a href="#cb50-21" tabindex="-1"></a>    <span class="cf">elif</span> operator <span class="op">==</span> <span class="st">'subtract'</span>:</span>
<span id="cb50-22"><a href="#cb50-22" tabindex="-1"></a>        value <span class="op">=</span> operand1 <span class="op">-</span> operand2</span>
<span id="cb50-23"><a href="#cb50-23" tabindex="-1"></a>    <span class="cf">elif</span> operator <span class="op">==</span> <span class="st">'multiply'</span>:</span>
<span id="cb50-24"><a href="#cb50-24" tabindex="-1"></a>        value <span class="op">=</span> operand1 <span class="op">*</span> operand2</span>
<span id="cb50-25"><a href="#cb50-25" tabindex="-1"></a>    <span class="cf">elif</span> operator <span class="op">==</span> <span class="st">'divide'</span>:</span>
<span id="cb50-26"><a href="#cb50-26" tabindex="-1"></a>        value <span class="op">=</span> operand1 <span class="op">/</span> operand2</span>
<span id="cb50-27"><a href="#cb50-27" tabindex="-1"></a>    <span class="bu">print</span>(value)</span>
<span id="cb50-28"><a href="#cb50-28" tabindex="-1"></a></span>
<span id="cb50-29"><a href="#cb50-29" tabindex="-1"></a>main()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="finding-particular-files" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="finding-particular-files" class="callout-inner">
<h3 class="callout-title">Finding Particular Files</h3>
<div class="callout-content">
<p>Using the <code>glob</code> module introduced <a href="06-files.html">earlier</a>, write a simple version of
<code>ls</code> that shows files in the current directory with a
particular suffix. A call to this script should look like this:</p>
<div class="codewrapper sourceCode" id="cb51">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="ex">$</span> python my_ls.py py</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">left.py</span></span>
<span><span class="va">right.py</span></span>
<span><span class="va">zero.py</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb53">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb53-2"><a href="#cb53-2" tabindex="-1"></a><span class="im">import</span> glob</span>
<span id="cb53-3"><a href="#cb53-3" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb53-5"><a href="#cb53-5" tabindex="-1"></a>    <span class="co">"""prints names of all files with sys.argv as suffix"""</span></span>
<span id="cb53-6"><a href="#cb53-6" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">len</span>(sys.argv) <span class="op">&gt;=</span> <span class="dv">2</span>, <span class="st">'Argument list cannot be empty'</span></span>
<span id="cb53-7"><a href="#cb53-7" tabindex="-1"></a>    suffix <span class="op">=</span> sys.argv[<span class="dv">1</span>] <span class="co"># NB: behaviour is not as you'd expect if sys.argv[1] is *</span></span>
<span id="cb53-8"><a href="#cb53-8" tabindex="-1"></a>    glob_input <span class="op">=</span> <span class="st">'*.'</span> <span class="op">+</span> suffix <span class="co"># construct the input</span></span>
<span id="cb53-9"><a href="#cb53-9" tabindex="-1"></a>    glob_output <span class="op">=</span> <span class="bu">sorted</span>(glob.glob(glob_input)) <span class="co"># call the glob function</span></span>
<span id="cb53-10"><a href="#cb53-10" tabindex="-1"></a>    <span class="cf">for</span> item <span class="kw">in</span> glob_output: <span class="co"># print the output</span></span>
<span id="cb53-11"><a href="#cb53-11" tabindex="-1"></a>        <span class="bu">print</span>(item)</span>
<span id="cb53-12"><a href="#cb53-12" tabindex="-1"></a>    <span class="cf">return</span></span>
<span id="cb53-13"><a href="#cb53-13" tabindex="-1"></a></span>
<span id="cb53-14"><a href="#cb53-14" tabindex="-1"></a>main()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="changing-flags" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="changing-flags" class="callout-inner">
<h3 class="callout-title">Changing Flags</h3>
<div class="callout-content">
<p>Rewrite <code>readings.py</code> so that it uses <code>-n</code>,
<code>-m</code>, and <code>-x</code> instead of <code>--min</code>,
<code>--mean</code>, and <code>--max</code> respectively. Is the code
easier to read? Is the program easier to understand?</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a><span class="co"># this is code/readings_07.py</span></span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb54-3"><a href="#cb54-3" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb54-4"><a href="#cb54-4" tabindex="-1"></a></span>
<span id="cb54-5"><a href="#cb54-5" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb54-6"><a href="#cb54-6" tabindex="-1"></a>    script <span class="op">=</span> sys.argv[<span class="dv">0</span>]</span>
<span id="cb54-7"><a href="#cb54-7" tabindex="-1"></a>    action <span class="op">=</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb54-8"><a href="#cb54-8" tabindex="-1"></a>    filenames <span class="op">=</span> sys.argv[<span class="dv">2</span>:]</span>
<span id="cb54-9"><a href="#cb54-9" tabindex="-1"></a>    <span class="cf">assert</span> action <span class="kw">in</span> [<span class="st">'-n'</span>, <span class="st">'-m'</span>, <span class="st">'-x'</span>], <span class="op">\</span></span>
<span id="cb54-10"><a href="#cb54-10" tabindex="-1"></a>           <span class="st">'Action is not one of -n, -m, or -x: '</span> <span class="op">+</span> action</span>
<span id="cb54-11"><a href="#cb54-11" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(filenames) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb54-12"><a href="#cb54-12" tabindex="-1"></a>        process(sys.stdin, action)</span>
<span id="cb54-13"><a href="#cb54-13" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb54-14"><a href="#cb54-14" tabindex="-1"></a>        <span class="cf">for</span> filename <span class="kw">in</span> filenames:</span>
<span id="cb54-15"><a href="#cb54-15" tabindex="-1"></a>            process(filename, action)</span>
<span id="cb54-16"><a href="#cb54-16" tabindex="-1"></a></span>
<span id="cb54-17"><a href="#cb54-17" tabindex="-1"></a><span class="kw">def</span> process(filename, action):</span>
<span id="cb54-18"><a href="#cb54-18" tabindex="-1"></a>    data <span class="op">=</span> numpy.loadtxt(filename, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb54-19"><a href="#cb54-19" tabindex="-1"></a></span>
<span id="cb54-20"><a href="#cb54-20" tabindex="-1"></a>    <span class="cf">if</span> action <span class="op">==</span> <span class="st">'-n'</span>:</span>
<span id="cb54-21"><a href="#cb54-21" tabindex="-1"></a>        values <span class="op">=</span> numpy.amin(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb54-22"><a href="#cb54-22" tabindex="-1"></a>    <span class="cf">elif</span> action <span class="op">==</span> <span class="st">'-m'</span>:</span>
<span id="cb54-23"><a href="#cb54-23" tabindex="-1"></a>        values <span class="op">=</span> numpy.mean(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb54-24"><a href="#cb54-24" tabindex="-1"></a>    <span class="cf">elif</span> action <span class="op">==</span> <span class="st">'-x'</span>:</span>
<span id="cb54-25"><a href="#cb54-25" tabindex="-1"></a>        values <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb54-26"><a href="#cb54-26" tabindex="-1"></a></span>
<span id="cb54-27"><a href="#cb54-27" tabindex="-1"></a>    <span class="cf">for</span> val <span class="kw">in</span> values:</span>
<span id="cb54-28"><a href="#cb54-28" tabindex="-1"></a>        <span class="bu">print</span>(val)</span>
<span id="cb54-29"><a href="#cb54-29" tabindex="-1"></a></span>
<span id="cb54-30"><a href="#cb54-30" tabindex="-1"></a>main()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="adding-a-help-message" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="adding-a-help-message" class="callout-inner">
<h3 class="callout-title">Adding a Help Message</h3>
<div class="callout-content">
<p>Separately, modify <code>readings.py</code> so that if no parameters
are given (i.e., no action is specified and no filenames are given), it
prints a message explaining how it should be used.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="co"># this is code/readings_08.py</span></span>
<span id="cb55-2"><a href="#cb55-2" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb55-3"><a href="#cb55-3" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb55-4"><a href="#cb55-4" tabindex="-1"></a></span>
<span id="cb55-5"><a href="#cb55-5" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb55-6"><a href="#cb55-6" tabindex="-1"></a>    script <span class="op">=</span> sys.argv[<span class="dv">0</span>]</span>
<span id="cb55-7"><a href="#cb55-7" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(sys.argv) <span class="op">==</span> <span class="dv">1</span>:  <span class="co"># no arguments, so print help message</span></span>
<span id="cb55-8"><a href="#cb55-8" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Usage: python readings_08.py action filenames</span><span class="ch">\n</span><span class="st">"</span></span>
<span id="cb55-9"><a href="#cb55-9" tabindex="-1"></a>              <span class="st">"Action:</span><span class="ch">\n</span><span class="st">"</span></span>
<span id="cb55-10"><a href="#cb55-10" tabindex="-1"></a>              <span class="st">"    Must be one of --min, --mean, or --max.</span><span class="ch">\n</span><span class="st">"</span></span>
<span id="cb55-11"><a href="#cb55-11" tabindex="-1"></a>              <span class="st">"Filenames:</span><span class="ch">\n</span><span class="st">"</span></span>
<span id="cb55-12"><a href="#cb55-12" tabindex="-1"></a>              <span class="st">"    If blank, input is taken from standard input (stdin).</span><span class="ch">\n</span><span class="st">"</span></span>
<span id="cb55-13"><a href="#cb55-13" tabindex="-1"></a>              <span class="st">"    Otherwise, each filename in the list of arguments is processed in turn."</span>)</span>
<span id="cb55-14"><a href="#cb55-14" tabindex="-1"></a>        <span class="cf">return</span></span>
<span id="cb55-15"><a href="#cb55-15" tabindex="-1"></a></span>
<span id="cb55-16"><a href="#cb55-16" tabindex="-1"></a>    action <span class="op">=</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb55-17"><a href="#cb55-17" tabindex="-1"></a>    filenames <span class="op">=</span> sys.argv[<span class="dv">2</span>:]</span>
<span id="cb55-18"><a href="#cb55-18" tabindex="-1"></a>    <span class="cf">assert</span> action <span class="kw">in</span> [<span class="st">'--min'</span>, <span class="st">'--mean'</span>, <span class="st">'--max'</span>], (</span>
<span id="cb55-19"><a href="#cb55-19" tabindex="-1"></a>        <span class="st">'Action is not one of --min, --mean, or --max: '</span> <span class="op">+</span> action)</span>
<span id="cb55-20"><a href="#cb55-20" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(filenames) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb55-21"><a href="#cb55-21" tabindex="-1"></a>        process(sys.stdin, action)</span>
<span id="cb55-22"><a href="#cb55-22" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb55-23"><a href="#cb55-23" tabindex="-1"></a>        <span class="cf">for</span> filename <span class="kw">in</span> filenames:</span>
<span id="cb55-24"><a href="#cb55-24" tabindex="-1"></a>            process(filename, action)</span>
<span id="cb55-25"><a href="#cb55-25" tabindex="-1"></a></span>
<span id="cb55-26"><a href="#cb55-26" tabindex="-1"></a><span class="kw">def</span> process(filename, action):</span>
<span id="cb55-27"><a href="#cb55-27" tabindex="-1"></a>    data <span class="op">=</span> numpy.loadtxt(filename, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb55-28"><a href="#cb55-28" tabindex="-1"></a></span>
<span id="cb55-29"><a href="#cb55-29" tabindex="-1"></a>    <span class="cf">if</span> action <span class="op">==</span> <span class="st">'--min'</span>:</span>
<span id="cb55-30"><a href="#cb55-30" tabindex="-1"></a>        values <span class="op">=</span> numpy.amin(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb55-31"><a href="#cb55-31" tabindex="-1"></a>    <span class="cf">elif</span> action <span class="op">==</span> <span class="st">'--mean'</span>:</span>
<span id="cb55-32"><a href="#cb55-32" tabindex="-1"></a>        values <span class="op">=</span> numpy.mean(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb55-33"><a href="#cb55-33" tabindex="-1"></a>    <span class="cf">elif</span> action <span class="op">==</span> <span class="st">'--max'</span>:</span>
<span id="cb55-34"><a href="#cb55-34" tabindex="-1"></a>        values <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb55-35"><a href="#cb55-35" tabindex="-1"></a></span>
<span id="cb55-36"><a href="#cb55-36" tabindex="-1"></a>    <span class="cf">for</span> val <span class="kw">in</span> values:</span>
<span id="cb55-37"><a href="#cb55-37" tabindex="-1"></a>        <span class="bu">print</span>(val)</span>
<span id="cb55-38"><a href="#cb55-38" tabindex="-1"></a></span>
<span id="cb55-39"><a href="#cb55-39" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">'__main__'</span>:</span>
<span id="cb55-40"><a href="#cb55-40" tabindex="-1"></a>    main()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="adding-a-default-action" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="adding-a-default-action" class="callout-inner">
<h3 class="callout-title">Adding a Default Action</h3>
<div class="callout-content">
<p>Separately, modify <code>readings.py</code> so that if no action is
given it displays the means of the data.</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="co"># this is code/readings_09.py</span></span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb56-3"><a href="#cb56-3" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb56-4"><a href="#cb56-4" tabindex="-1"></a></span>
<span id="cb56-5"><a href="#cb56-5" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb56-6"><a href="#cb56-6" tabindex="-1"></a>    script <span class="op">=</span> sys.argv[<span class="dv">0</span>]</span>
<span id="cb56-7"><a href="#cb56-7" tabindex="-1"></a>    action <span class="op">=</span> sys.argv[<span class="dv">1</span>]</span>
<span id="cb56-8"><a href="#cb56-8" tabindex="-1"></a>    <span class="cf">if</span> action <span class="kw">not</span> <span class="kw">in</span> [<span class="st">'--min'</span>, <span class="st">'--mean'</span>, <span class="st">'--max'</span>]: <span class="co"># if no action given</span></span>
<span id="cb56-9"><a href="#cb56-9" tabindex="-1"></a>        action <span class="op">=</span> <span class="st">'--mean'</span>    <span class="co"># set a default action, that being mean</span></span>
<span id="cb56-10"><a href="#cb56-10" tabindex="-1"></a>        filenames <span class="op">=</span> sys.argv[<span class="dv">1</span>:] <span class="co"># start the filenames one place earlier in the argv list</span></span>
<span id="cb56-11"><a href="#cb56-11" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb56-12"><a href="#cb56-12" tabindex="-1"></a>        filenames <span class="op">=</span> sys.argv[<span class="dv">2</span>:]</span>
<span id="cb56-13"><a href="#cb56-13" tabindex="-1"></a></span>
<span id="cb56-14"><a href="#cb56-14" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(filenames) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb56-15"><a href="#cb56-15" tabindex="-1"></a>        process(sys.stdin, action)</span>
<span id="cb56-16"><a href="#cb56-16" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb56-17"><a href="#cb56-17" tabindex="-1"></a>        <span class="cf">for</span> filename <span class="kw">in</span> filenames:</span>
<span id="cb56-18"><a href="#cb56-18" tabindex="-1"></a>            process(filename, action)</span>
<span id="cb56-19"><a href="#cb56-19" tabindex="-1"></a></span>
<span id="cb56-20"><a href="#cb56-20" tabindex="-1"></a><span class="kw">def</span> process(filename, action):</span>
<span id="cb56-21"><a href="#cb56-21" tabindex="-1"></a>    data <span class="op">=</span> numpy.loadtxt(filename, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb56-22"><a href="#cb56-22" tabindex="-1"></a></span>
<span id="cb56-23"><a href="#cb56-23" tabindex="-1"></a>    <span class="cf">if</span> action <span class="op">==</span> <span class="st">'--min'</span>:</span>
<span id="cb56-24"><a href="#cb56-24" tabindex="-1"></a>        values <span class="op">=</span> numpy.amin(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb56-25"><a href="#cb56-25" tabindex="-1"></a>    <span class="cf">elif</span> action <span class="op">==</span> <span class="st">'--mean'</span>:</span>
<span id="cb56-26"><a href="#cb56-26" tabindex="-1"></a>        values <span class="op">=</span> numpy.mean(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb56-27"><a href="#cb56-27" tabindex="-1"></a>    <span class="cf">elif</span> action <span class="op">==</span> <span class="st">'--max'</span>:</span>
<span id="cb56-28"><a href="#cb56-28" tabindex="-1"></a>        values <span class="op">=</span> numpy.amax(data, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb56-29"><a href="#cb56-29" tabindex="-1"></a></span>
<span id="cb56-30"><a href="#cb56-30" tabindex="-1"></a>    <span class="cf">for</span> val <span class="kw">in</span> values:</span>
<span id="cb56-31"><a href="#cb56-31" tabindex="-1"></a>        <span class="bu">print</span>(val)</span>
<span id="cb56-32"><a href="#cb56-32" tabindex="-1"></a></span>
<span id="cb56-33"><a href="#cb56-33" tabindex="-1"></a>main()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="a-file-checker" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="a-file-checker" class="callout-inner">
<h3 class="callout-title">A File-Checker</h3>
<div class="callout-content">
<p>Write a program called <code>check.py</code> that takes the names of
one or more inflammation data files as arguments and checks that all the
files have the same number of rows and columns. What is the best way to
test your program?</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb57">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb57-2"><a href="#cb57-2" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb57-3"><a href="#cb57-3" tabindex="-1"></a></span>
<span id="cb57-4"><a href="#cb57-4" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb57-5"><a href="#cb57-5" tabindex="-1"></a>    script <span class="op">=</span> sys.argv[<span class="dv">0</span>]</span>
<span id="cb57-6"><a href="#cb57-6" tabindex="-1"></a>    filenames <span class="op">=</span> sys.argv[<span class="dv">1</span>:]</span>
<span id="cb57-7"><a href="#cb57-7" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(filenames) <span class="op">&lt;=</span><span class="dv">1</span>: <span class="co">#nothing to check</span></span>
<span id="cb57-8"><a href="#cb57-8" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'Only 1 file specified on input'</span>)</span>
<span id="cb57-9"><a href="#cb57-9" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb57-10"><a href="#cb57-10" tabindex="-1"></a>        nrow0, ncol0 <span class="op">=</span> row_col_count(filenames[<span class="dv">0</span>])</span>
<span id="cb57-11"><a href="#cb57-11" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'First file </span><span class="sc">%s</span><span class="st">: </span><span class="sc">%d</span><span class="st"> rows and </span><span class="sc">%d</span><span class="st"> columns'</span> <span class="op">%</span> (filenames[<span class="dv">0</span>], nrow0, ncol0))</span>
<span id="cb57-12"><a href="#cb57-12" tabindex="-1"></a>        <span class="cf">for</span> filename <span class="kw">in</span> filenames[<span class="dv">1</span>:]:</span>
<span id="cb57-13"><a href="#cb57-13" tabindex="-1"></a>            nrow, ncol <span class="op">=</span> row_col_count(filename)</span>
<span id="cb57-14"><a href="#cb57-14" tabindex="-1"></a>            <span class="cf">if</span> nrow <span class="op">!=</span> nrow0 <span class="kw">or</span> ncol <span class="op">!=</span> ncol0:</span>
<span id="cb57-15"><a href="#cb57-15" tabindex="-1"></a>                <span class="bu">print</span>(<span class="st">'File </span><span class="sc">%s</span><span class="st"> does not check: </span><span class="sc">%d</span><span class="st"> rows and </span><span class="sc">%d</span><span class="st"> columns'</span> <span class="op">%</span> (filename, nrow, ncol))</span>
<span id="cb57-16"><a href="#cb57-16" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb57-17"><a href="#cb57-17" tabindex="-1"></a>                <span class="bu">print</span>(<span class="st">'File </span><span class="sc">%s</span><span class="st"> checks'</span> <span class="op">%</span> filename)</span>
<span id="cb57-18"><a href="#cb57-18" tabindex="-1"></a>        <span class="cf">return</span></span>
<span id="cb57-19"><a href="#cb57-19" tabindex="-1"></a></span>
<span id="cb57-20"><a href="#cb57-20" tabindex="-1"></a><span class="kw">def</span> row_col_count(filename):</span>
<span id="cb57-21"><a href="#cb57-21" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb57-22"><a href="#cb57-22" tabindex="-1"></a>        nrow, ncol <span class="op">=</span> numpy.loadtxt(filename, delimiter<span class="op">=</span><span class="st">','</span>).shape</span>
<span id="cb57-23"><a href="#cb57-23" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb57-24"><a href="#cb57-24" tabindex="-1"></a>        <span class="co"># 'ValueError' error is raised when numpy encounters lines that</span></span>
<span id="cb57-25"><a href="#cb57-25" tabindex="-1"></a>        <span class="co"># have different number of data elements in them than the rest of the lines,</span></span>
<span id="cb57-26"><a href="#cb57-26" tabindex="-1"></a>        <span class="co"># or when lines have non-numeric elements</span></span>
<span id="cb57-27"><a href="#cb57-27" tabindex="-1"></a>        nrow, ncol <span class="op">=</span> (<span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb57-28"><a href="#cb57-28" tabindex="-1"></a>    <span class="cf">return</span> nrow, ncol</span>
<span id="cb57-29"><a href="#cb57-29" tabindex="-1"></a></span>
<span id="cb57-30"><a href="#cb57-30" tabindex="-1"></a>main()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="counting-lines" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="counting-lines" class="callout-inner">
<h3 class="callout-title">Counting Lines</h3>
<div class="callout-content">
<p>Write a program called <code>line_count.py</code> that works like the
Unix <code>wc</code> command:</p>
<ul>
<li>If no filenames are given, it reports the number of lines in
standard input.</li>
<li>If one or more filenames are given, it reports the number of lines
in each, followed by the total number of lines.</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Show me the solution </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb58-2"><a href="#cb58-2" tabindex="-1"></a></span>
<span id="cb58-3"><a href="#cb58-3" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb58-4"><a href="#cb58-4" tabindex="-1"></a>    <span class="co">"""print each input filename and the number of lines in it,</span></span>
<span id="cb58-5"><a href="#cb58-5" tabindex="-1"></a><span class="co">       and print the sum of the number of lines"""</span></span>
<span id="cb58-6"><a href="#cb58-6" tabindex="-1"></a>    filenames <span class="op">=</span> sys.argv[<span class="dv">1</span>:]</span>
<span id="cb58-7"><a href="#cb58-7" tabindex="-1"></a>    sum_nlines <span class="op">=</span> <span class="dv">0</span> <span class="co">#initialize counting variable</span></span>
<span id="cb58-8"><a href="#cb58-8" tabindex="-1"></a></span>
<span id="cb58-9"><a href="#cb58-9" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(filenames) <span class="op">==</span> <span class="dv">0</span>: <span class="co"># no filenames, just stdin</span></span>
<span id="cb58-10"><a href="#cb58-10" tabindex="-1"></a>        sum_nlines <span class="op">=</span> count_file_like(sys.stdin)</span>
<span id="cb58-11"><a href="#cb58-11" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'stdin: </span><span class="sc">%d</span><span class="st">'</span> <span class="op">%</span> sum_nlines)</span>
<span id="cb58-12"><a href="#cb58-12" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb58-13"><a href="#cb58-13" tabindex="-1"></a>        <span class="cf">for</span> filename <span class="kw">in</span> filenames:</span>
<span id="cb58-14"><a href="#cb58-14" tabindex="-1"></a>            nlines <span class="op">=</span> count_file(filename)</span>
<span id="cb58-15"><a href="#cb58-15" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">'</span><span class="sc">%s</span><span class="st"> </span><span class="sc">%d</span><span class="st">'</span> <span class="op">%</span> (filename, nlines))</span>
<span id="cb58-16"><a href="#cb58-16" tabindex="-1"></a>            sum_nlines <span class="op">+=</span> nlines</span>
<span id="cb58-17"><a href="#cb58-17" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'total: </span><span class="sc">%d</span><span class="st">'</span> <span class="op">%</span> sum_nlines)</span>
<span id="cb58-18"><a href="#cb58-18" tabindex="-1"></a></span>
<span id="cb58-19"><a href="#cb58-19" tabindex="-1"></a><span class="kw">def</span> count_file(filename):</span>
<span id="cb58-20"><a href="#cb58-20" tabindex="-1"></a>    <span class="co">"""count the number of lines in a file"""</span></span>
<span id="cb58-21"><a href="#cb58-21" tabindex="-1"></a>    f <span class="op">=</span> <span class="bu">open</span>(filename, <span class="st">'r'</span>)</span>
<span id="cb58-22"><a href="#cb58-22" tabindex="-1"></a>    nlines <span class="op">=</span> <span class="bu">len</span>(f.readlines())</span>
<span id="cb58-23"><a href="#cb58-23" tabindex="-1"></a>    f.close()</span>
<span id="cb58-24"><a href="#cb58-24" tabindex="-1"></a>    <span class="cf">return</span>(nlines)</span>
<span id="cb58-25"><a href="#cb58-25" tabindex="-1"></a></span>
<span id="cb58-26"><a href="#cb58-26" tabindex="-1"></a><span class="kw">def</span> count_file_like(file_like):</span>
<span id="cb58-27"><a href="#cb58-27" tabindex="-1"></a>    <span class="co">"""count the number of lines in a file-like object (eg stdin)"""</span></span>
<span id="cb58-28"><a href="#cb58-28" tabindex="-1"></a>    n <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb58-29"><a href="#cb58-29" tabindex="-1"></a>    <span class="cf">for</span> line <span class="kw">in</span> file_like:</span>
<span id="cb58-30"><a href="#cb58-30" tabindex="-1"></a>        n <span class="op">=</span> n<span class="op">+</span><span class="dv">1</span></span>
<span id="cb58-31"><a href="#cb58-31" tabindex="-1"></a>    <span class="cf">return</span> n</span>
<span id="cb58-32"><a href="#cb58-32" tabindex="-1"></a></span>
<span id="cb58-33"><a href="#cb58-33" tabindex="-1"></a>main()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="generate-an-error-message" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="generate-an-error-message" class="callout-inner">
<h3 class="callout-title">Generate an Error Message</h3>
<div class="callout-content">
<p>Write a program called <code>check_arguments.py</code> that prints
usage then exits the program if no arguments are provided. (Hint: You
can use <code>sys.exit()</code> to exit the program.)</p>
<div class="codewrapper sourceCode" id="cb59">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1" tabindex="-1"></a><span class="ex">$</span> python check_arguments.py</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>usage: python check_argument.py filename.txt</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb61">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a><span class="ex">$</span> python check_arguments.py filename.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Thanks for specifying arguments!</code></pre>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>The <code>sys</code> library connects a Python program to the system
it is running on.</li>
<li>The list <code>sys.argv</code> contains the command-line arguments
that a program was run with.</li>
<li>Avoid silent failures.</li>
<li>The pseudo-file <code>sys.stdin</code> connects to a program’s
standard input.</li>
</ul>
</div>
</div>
</div>
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/swcarpentry/python-novice-inflammation/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/swcarpentry/python-novice-inflammation/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/swcarpentry/python-novice-inflammation/" class="external-link">Source</a></p>
				<p><a href="https://github.com/swcarpentry/python-novice-inflammation/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.17.1" class="external-link">sandpaper (0.17.1)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.7" class="external-link">varnish (1.0.7)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://swcarpentry.github.io/python-novice-inflammation/instructor/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://swcarpentry.github.io/python-novice-inflammation/instructor/aio.html",
  "identifier": "https://swcarpentry.github.io/python-novice-inflammation/instructor/aio.html",
  "dateCreated": "2014-11-25",
  "dateModified": "2025-10-07",
  "datePublished": "2025-10-07"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(["trackPageView"]);
          _paq.push(["enableLinkTracking"]);
          (function() {
              var u="https://matomo.carpentries.org/";
              _paq.push(["setTrackerUrl", u+"matomo.php"]);
              _paq.push(["setSiteId", "1"]);
              var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
              g.async=true; g.src="https://matomo.carpentries.org/matomo.js"; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code -->
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

